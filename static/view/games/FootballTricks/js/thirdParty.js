function css_browser_selector(t){var e=t.toLowerCase(),o=function(t){return e.indexOf(t)>-1},i="gecko",s="webkit",n="safari",r="opera",a="mobile",l=document.documentElement,h=[!/opera|webtv/i.test(e)&&/msie\s(\d)/.test(e)?"ie ie"+RegExp.$1:o("firefox/2")?i+" ff2":o("firefox/3.5")?i+" ff3 ff3_5":o("firefox/3.6")?i+" ff3 ff3_6":o("firefox/3")?i+" ff3":o("gecko/")?i:o("opera")?r+(/version\/(\d+)/.test(e)?" "+r+RegExp.$1:/opera(\s|\/)(\d+)/.test(e)?" "+r+RegExp.$2:""):o("konqueror")?"konqueror":o("blackberry")?a+" blackberry":o("android")?a+" android":o("chrome")?s+" chrome":o("iron")?s+" iron":o("applewebkit/")?s+" "+n+(/version\/(\d+)/.test(e)?" "+n+RegExp.$1:""):o("mozilla/")?i:"",o("j2me")?a+" j2me":o("iphone")?a+" iphone":o("ipod")?a+" ipod":o("ipad")?a+" ipad":o("mac")?"mac":o("darwin")?"mac":o("webtv")?"webtv":o("win")?"win"+(o("windows nt 6.0")?" vista":""):o("freebsd")?"freebsd":o("x11")||o("linux")?"linux":"","js"];return c=h.join(" "),l.className+=" "+c,c}css_browser_selector(navigator.userAgent),window.Modernizr=function(t,e,o){function i(t,e){var o=t.charAt(0).toUpperCase()+t.substr(1);return s((t+" "+v.join(o+" ")+o).split(" "),e)}function s(t,e){for(var i in t)if(m[t[i]]!==o)return"pfx"!=e||t[i];return!1}function n(t,e){return!!~(""+t).indexOf(e)}function r(t,e){return typeof t===e}function a(t){m.cssText=t}var l,c,h={},p=e.documentElement,d=(e.head||e.getElementsByTagName("head")[0],"modernizr"),u=e.createElement(d),m=u.style,f=e.createElement("input"),g=":)",b=Object.prototype.toString,S=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),v="Webkit Moz O ms Khtml".split(" "),y={svg:""},w={},x={},T={},k=[],_=function(t,o,i,s){var n,r,a,l=e.createElement("div");if(parseInt(i,10))for(;i--;)a=e.createElement("div"),a.id=s?s[i]:d+(i+1),l.appendChild(a);return n=["&shy;","<style>",t,"</style>"].join(""),l.id=d,l.innerHTML+=n,p.appendChild(l),r=o(l,t),l.parentNode.removeChild(l),!!r},E=function(){var t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(i,s){s=s||e.createElement(t[i]||"div");var n=(i="on"+i)in s;return n||(s.setAttribute||(s=e.createElement("div")),s.setAttribute&&s.removeAttribute&&(s.setAttribute(i,""),n=r(s[i],"function"),r(s[i],o)||(s[i]=o),s.removeAttribute(i))),s=null,n}}(),Y={}.hasOwnProperty;c=r(Y,o)||r(Y.call,o)?function(t,e){return e in t&&r(t.constructor.prototype[e],o)}:function(t,e){return Y.call(t,e)};!function(o,i){var s=['@font-face {font-family:"font";src:url("")}',["@media (",S.join("touch-enabled),("),d,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",S.join("transform-3d),("),d,")","{#csstransforms3d{left:9px;position:absolute}}"].join(""),['#generatedcontent:after{content:"',g,'";visibility:hidden}'].join("")].join(""),n=i.length;_(s,function(o,i){for(var s=e.styleSheets[e.styleSheets.length-1],r=s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"",a=o.childNodes,l={};n--;)l[a[n].id]=a[n];h.touch="ontouchstart"in t||9===l.touch.offsetTop,h.csstransforms3d=9===l.csstransforms3d.offsetLeft,h.generatedcontent=l.generatedcontent.offsetHeight>=1,h.fontface=/src/i.test(r)&&0===r.indexOf(i.split(" ")[0])},n,i)}(0,["fontface","touch","csstransforms3d","generatedcontent"]);w.flexbox=function(){var t=e.createElement("div"),o=e.createElement("div");(function(t,e,o,i){e+=":",t.style.cssText=(e+S.join(o+";"+e)).slice(0,-e.length)+(i||"")})(t,"display","box","width:42px;padding:0;"),function(t,e,o,i){t.style.cssText=S.join(e+":"+o+";")+(i||"")}(o,"box-flex","1","width:10px;"),t.appendChild(o),p.appendChild(t);var i=42===o.offsetWidth;return t.removeChild(o),p.removeChild(t),i},w.canvas=function(){var t=e.createElement("canvas");return!!t.getContext&&!!t.getContext("2d")},w.canvastext=function(){return!!h.canvas&&!!r(e.createElement("canvas").getContext("2d").fillText,"function")},w.webgl=function(){return!!t.WebGLRenderingContext},w.touch=function(){return h.touch},w.geolocation=function(){return!!navigator.geolocation},w.postmessage=function(){return!!t.postMessage},w.websqldatabase=function(){return!!t.openDatabase},w.indexedDB=function(){for(var e=-1,o=v.length;++e<o;)if(t[v[e].toLowerCase()+"IndexedDB"])return!0;return!!t.indexedDB},w.hashchange=function(){return E("hashchange",t)&&(e.documentMode===o||e.documentMode>7)},w.history=function(){return!!t.history&&!!history.pushState},w.draganddrop=function(){return E("dragstart")&&E("drop")},w.websockets=function(){for(var e=-1,o=v.length;++e<o;)if(t[v[e]+"WebSocket"])return!0;return"WebSocket"in t},w.rgba=function(){return a("background-color:rgba(150,255,150,.5)"),n(m.backgroundColor,"rgba")},w.hsla=function(){return a("background-color:hsla(120,40%,100%,.5)"),n(m.backgroundColor,"rgba")||n(m.backgroundColor,"hsla")},w.multiplebgs=function(){return a("background:url(),url(),red url()"),/(url\s*\(.*?){3}/.test(m.background)},w.backgroundsize=function(){return i("backgroundSize")},w.borderimage=function(){return i("borderImage")},w.borderradius=function(){return i("borderRadius")},w.boxshadow=function(){return i("boxShadow")},w.textshadow=function(){return""===e.createElement("div").style.textShadow},w.opacity=function(){return function(t,e){a(S.join(t+";")+(e||""))}("opacity:.55"),/^0.55$/.test(m.opacity)},w.cssanimations=function(){return i("animationName")},w.csscolumns=function(){return i("columnCount")},w.cssgradients=function(){var t="background-image:";return a((t+S.join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+t)+S.join("linear-gradient(left top,#9f9, white);"+t)).slice(0,-t.length)),n(m.backgroundImage,"gradient")},w.cssreflections=function(){return i("boxReflect")},w.csstransforms=function(){return!!s(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},w.csstransforms3d=function(){var t=!!s(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);return t&&"webkitPerspective"in p.style&&(t=h.csstransforms3d),t},w.csstransitions=function(){return i("transitionProperty")},w.fontface=function(){return h.fontface},w.generatedcontent=function(){return h.generatedcontent},w.video=function(){var t=e.createElement("video"),o=!1;try{if(o=!!t.canPlayType){(o=new Boolean(o)).ogg=t.canPlayType('video/ogg; codecs="theora"');var i='video/mp4; codecs="avc1.42E01E';o.h264=t.canPlayType(i+'"')||t.canPlayType(i+', mp4a.40.2"'),o.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"')}}catch(t){}return o},w.audio=function(){var t=e.createElement("audio"),o=!1;try{(o=!!t.canPlayType)&&(o=new Boolean(o),o.ogg=t.canPlayType('audio/ogg; codecs="vorbis"'),o.mp3=t.canPlayType("audio/mpeg;"),o.wav=t.canPlayType('audio/wav; codecs="1"'),o.m4a=t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;"))}catch(t){}return o},w.localstorage=function(){try{return!!localStorage.getItem}catch(t){return!1}},w.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(t){return!1}},w.webworkers=function(){return!!t.Worker},w.applicationcache=function(){return!!t.applicationCache},w.svg=function(){return!!e.createElementNS&&!!e.createElementNS(y.svg,"svg").createSVGRect},w.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==y.svg},w.smil=function(){return!!e.createElementNS&&/SVG/.test(b.call(e.createElementNS(y.svg,"animate")))},w.svgclippaths=function(){return!!e.createElementNS&&/SVG/.test(b.call(e.createElementNS(y.svg,"clipPath")))};for(var X in w)c(w,X)&&(l=X.toLowerCase(),h[l]=w[X](),k.push((h[l]?"":"no-")+l));return h.input||(h.input=function(t){for(var e=0,o=t.length;e<o;e++)T[t[e]]=t[e]in f;return T}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(t){for(var i,s,n,r=0,a=t.length;r<a;r++)f.setAttribute("type",s=t[r]),(i="text"!==f.type)&&(f.value=g,f.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&f.style.WebkitAppearance!==o?(p.appendChild(f),n=e.defaultView,i=n.getComputedStyle&&"textfield"!==n.getComputedStyle(f,null).WebkitAppearance&&0!==f.offsetHeight,p.removeChild(f)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=f.checkValidity&&!1===f.checkValidity():/^color$/.test(s)?(p.appendChild(f),p.offsetWidth,i=f.value!=g,p.removeChild(f)):i=f.value!=g)),x[t[r]]=!!i;return x}("search tel url email datetime date month week time datetime-local number range color".split(" "))),a(""),u=f=null,t.attachEvent&&function(){var t=e.createElement("div");return t.innerHTML="<elem></elem>",1!==t.childNodes.length}()&&function(t,e){function i(t){for(var e=-1;++e<l;)t.createElement(a[e])}t.iepp=t.iepp||{};var s,n=t.iepp,r=n.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",a=r.split("|"),l=a.length,c=new RegExp("(^|\\s)("+r+")","gi"),h=new RegExp("<(/*)("+r+")","gi"),p=/^\s*[\{\}]\s*$/,d=new RegExp("(^|[^\\n]*?\\s)("+r+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),u=e.createDocumentFragment(),m=e.documentElement,f=m.firstChild,g=e.createElement("body"),b=e.createElement("style"),S=/print|all/;n.getCSS=function(t,e){if(t+""===o)return"";for(var i,s=-1,r=t.length,a=[];++s<r;)(i=t[s]).disabled||(e=i.media||e,S.test(e)&&a.push(n.getCSS(i.imports,e),i.cssText),e="all");return a.join("")},n.parseCSS=function(t){for(var e,o=[];null!=(e=d.exec(t));)o.push(((p.exec(e[1])?"\n":e[1])+e[2]+e[3]).replace(c,"$1.iepp_$2")+e[4]);return o.join("\n")},n.writeHTML=function(){var t=-1;for(s=s||e.body;++t<l;)for(var o=e.getElementsByTagName(a[t]),i=o.length,n=-1;++n<i;)o[n].className.indexOf("iepp_")<0&&(o[n].className+=" iepp_"+a[t]);u.appendChild(s),m.appendChild(g),g.className=s.className,g.id=s.id,g.innerHTML=s.innerHTML.replace(h,"<$1font")},n._beforePrint=function(){b.styleSheet.cssText=n.parseCSS(n.getCSS(e.styleSheets,"all")),n.writeHTML()},n.restoreHTML=function(){g.innerHTML="",m.removeChild(g),m.appendChild(s)},n._afterPrint=function(){n.restoreHTML(),b.styleSheet.cssText=""},i(e),i(u),n.disablePP||(f.insertBefore(b,f.firstChild),b.media="print",b.className="iepp-printshim",t.attachEvent("onbeforeprint",n._beforePrint),t.attachEvent("onafterprint",n._afterPrint))}(t,e),h._version="2.0.6",h._prefixes=S,h._domPrefixes=v,h.hasEvent=E,h.testProp=function(t){return s([t])},h.testAllProps=i,h.testStyles=_,p.className=p.className.replace(/\bno-js\b/,"")+" js "+k.join(" "),h}(this,this.document),function(t,e,o){function i(t){return!t||"loaded"==t||"complete"==t}function s(){for(var t=1,e=-1;f.length-++e&&(!f[e].s||(t=f[e].r)););t&&n()}function n(){var t=f.shift();g=1,t?t.t?d(function(){"c"==t.t?function(t){var o,i=e.createElement("link");if(i.href=t.s,i.rel="stylesheet",i.type="text/css",t.e||!w&&!b)i.onload=function(){o||(o=1,d(function(){s()},0))},t.e&&i.onload();else{var n=function(t){d(function(){if(!o)try{t.sheet.cssRules.length?(o=1,s()):n(t)}catch(e){1e3==e.code||"security"==e.message||"denied"==e.message?(o=1,d(function(){s()},0)):n(t)}},0)};n(i)}d(function(){o||(o=1,s())},h.errorTimeout),!t.e&&u.parentNode.insertBefore(i,u)}(t):function(t){var o,n=e.createElement("script");n.src=t.s,n.onreadystatechange=n.onload=function(){!o&&i(n.readyState)&&(o=1,s(),n.onload=n.onreadystatechange=null)},d(function(){o||(o=1,s())},h.errorTimeout),t.e?n.onload():u.parentNode.insertBefore(n,u)}(t)},0):(t(),s()):g=0}function r(t,o,r,a,l,c){function p(){!b&&i(m.readyState)&&(y.r=b=1,!g&&s(),m.onload=m.onreadystatechange=null,d(function(){v.removeChild(m)},0))}var m=e.createElement(t),b=0,y={t:r,s:o,e:c};m.src=m.data=o,!S&&(m.style.display="none"),m.width=m.height="0","object"!=t&&(m.type=r),m.onload=m.onreadystatechange=p,"img"==t?m.onerror=p:"script"==t&&(m.onerror=function(){y.e=y.r=1,n()}),f.splice(a,0,y),v.insertBefore(m,S?null:u),d(function(){b||(v.removeChild(m),y.r=y.e=b=1,s())},h.errorTimeout)}function a(t,e,o){var i="c"==e?k:T;return g=0,e=e||"j",Y(t)?r(i,t,e,this.i++,0,o):(f.splice(this.i++,0,t),1==f.length&&n()),this}function l(){var t=h;return t.loader={load:a,i:0},t}var c,h,p=e.documentElement,d=t.setTimeout,u=e.getElementsByTagName("script")[0],m={}.toString,f=[],g=0,b="MozAppearance"in p.style,S=b&&!!e.createRange().compareNode,v=S?p:u.parentNode,y=t.opera&&"[object Opera]"==m.call(t.opera),w="webkitAppearance"in p.style,x=w&&"async"in e.createElement("script"),T=b?"object":y||x?"img":"script",k=w?"img":T,_=Array.isArray||function(t){return"[object Array]"==m.call(t)},E=function(t){return Object(t)===t},Y=function(t){return"string"==typeof t},X=function(t){return"[object Function]"==m.call(t)},z=[],C={};(h=function(t){function e(t,e,i,s,n){var r=function(t){var e,o,i=t.split("!"),s=z.length,n=i.pop(),r=i.length,a={url:n,origUrl:n,prefixes:i};for(o=0;o<r;o++)(e=C[i[o]])&&(a=e(a));for(o=0;o<s;o++)a=z[o](a);return a}(t),a=r.autoCallback;if(!r.bypass){if(e&&(e=X(e)?e:e[t]||e[s]||e[t.split("/").pop().split("?")[0]]),r.instead)return r.instead(t,e,i,s,n);i.load(r.url,r.forceCSS||!r.forceJS&&/css$/.test(r.url)?"c":o,r.noexec),(X(e)||X(a))&&i.load(function(){l(),e&&e(r.origUrl,n,s),a&&a(r.origUrl,n,s)})}}function i(t,o){function i(t){if(Y(t))e(t,l,o,0,n);else if(E(t))for(s in t)t.hasOwnProperty(s)&&e(t[s],l,o,s,n)}var s,n=!!t.test,r=n?t.yep:t.nope,a=t.load||t.both,l=t.callback;i(r),i(a),t.complete&&o.load(t.complete)}var s,n,r=this.yepnope.loader;if(Y(t))e(t,0,r,0);else if(_(t))for(s=0;s<t.length;s++)n=t[s],Y(n)?e(n,0,r,0):_(n)?h(n):E(n)&&i(n,r);else E(t)&&i(t,r)}).addPrefix=function(t,e){C[t]=e},h.addFilter=function(t){z.push(t)},h.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",c=function(){e.removeEventListener("DOMContentLoaded",c,0),e.readyState="complete"},0)),t.yepnope=l()}(this,this.document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(){function t(){document.removeEventListener("DOMContentLoaded",t,!1);var e,o,i=document.createElement("div"),n=T.touchIcon?document.querySelectorAll("head link[rel=apple-touch-icon],head link[rel=apple-touch-icon-precomposed]"):[],r="";if(i.id="addToHomeScreen",i.style.cssText+="position:absolute;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);",i.style.left="-9999px",T.message in k&&(y=T.message,T.message=""),""==T.message&&(T.message=y in k?k[y]:k.en_us),n.length){for(h=0,p=n.length;h<p;h++)if(o=n[h].getAttribute("sizes")){if(m&&"114x114"==o){r=n[h].href;break}}else r=n[h].href;r='<span style="background-image:url('+r+')" class="touchIcon"></span>'}i.className=(u?"ipad":"iphone")+(r?" wide":""),i.innerHTML=r+T.message.replace("%device",v).replace("%icon",S>=4.2?'<span class="share"></span>':'<span class="plus">+</span>')+(T.arrow?'<span class="arrow"></span>':"")+'<span class="close">×</span>',i.innerHTML='<span class="closeZone">'+i.innerHTML+"</span>",document.body.appendChild(i),(e=(c=i).querySelector(".closeZone"))&&e.addEventListener("touchend",s,!1);try{T.expire&&localStorage.setItem("_addToHome",(new Date).getTime()+60*T.expire*1e3)}catch(t){}}function e(){window.removeEventListener("load",e,!1),setTimeout(function(){var t;switch(w=u?window.scrollY:window.innerHeight+window.scrollY,startX=u?window.scrollX:Math.round((window.innerWidth-c.offsetWidth)/2)+window.scrollX,c.style.top=u?w+T.bottomOffset+"px":w-c.offsetHeight-T.bottomOffset+"px",c.style.left=u?startX+(S>=5?160:208)-Math.round(c.offsetWidth/2)+"px":startX+"px",T.animationIn){case"drop":u?(t="0.6s",c.style.webkitTransform="translate3d(0,"+-(window.scrollY+T.bottomOffset+c.offsetHeight)+"px,0)"):(t="0.9s",c.style.webkitTransform="translate3d(0,"+-(w+T.bottomOffset)+"px,0)");break;case"bubble":u?(t="0.6s",c.style.opacity="0",c.style.webkitTransform="translate3d(0,"+(w+50)+"px,0)"):(t="0.6s",c.style.webkitTransform="translate3d(0,"+(c.offsetHeight+T.bottomOffset+50)+"px,0)");break;default:t="1s",c.style.opacity="0"}setTimeout(function(){c.style.webkitTransitionDuration=t,c.style.opacity="1",c.style.webkitTransform="translate3d(0,0,0)",c.addEventListener("webkitTransitionEnd",o,!1)},0),l=setTimeout(s,T.lifespan),d=!0},T.startDelay)}function o(){c.removeEventListener("webkitTransitionEnd",o,!1),c.style.webkitTransitionProperty="-webkit-transform",c.style.webkitTransitionDuration="0.2s",l?(clearInterval(a),a=setInterval(i,T.iterations)):c.parentNode.removeChild(c)}function i(){var t=new WebKitCSSMatrix(window.getComputedStyle(c,null).webkitTransform),e=u?window.scrollY-w:window.scrollY+window.innerHeight-w,i=u?window.scrollX-startX:window.scrollX+Math.round((window.innerWidth-c.offsetWidth)/2)-startX;e==t.m42&&i==t.m41||(clearInterval(a),c.removeEventListener("webkitTransitionEnd",o,!1),setTimeout(function(){c.addEventListener("webkitTransitionEnd",o,!1),c.style.webkitTransform="translate3d("+i+"px,"+e+"px,0)"},0))}function s(){clearInterval(a),clearTimeout(l),l=null,c.removeEventListener("webkitTransitionEnd",o,!1);var t=u?window.scrollY-w:window.scrollY+window.innerHeight-w,e=u?window.scrollX-startX:window.scrollX+Math.round((window.innerWidth-c.offsetWidth)/2)-startX,i="1",n="0",r=c.querySelector(".closeZone");switch(r&&r.removeEventListener("touchend",s,!1),c.style.webkitTransitionProperty="-webkit-transform,opacity",T.animationOut){case"drop":u?(n="0.4s",i="0",t+=50):(n="0.6s",t=t+c.offsetHeight+T.bottomOffset+50);break;case"bubble":u?(n="0.8s",t=t-c.offsetHeight-T.bottomOffset-50):(n="0.4s",i="0",t-=50);break;default:n="0.8s",i="0"}c.addEventListener("webkitTransitionEnd",o,!1),c.style.opacity=i,c.style.webkitTransitionDuration=n,c.style.webkitTransform="translate3d("+e+"px,"+t+"px,0)"}var n=navigator,r=/iphone|ipod|ipad/gi.test(n.platform);if(!r)return window.addToHomeClose=function(){},void(window.addToHomeOpen=function(){});var a,l,c,h,p,d,u=/ipad/gi.test(n.platform),m="devicePixelRatio"in window&&window.devicePixelRatio>1,f=n.appVersion.match(/Safari/gi),g="standalone"in n&&r,b=g&&n.standalone,S=n.appVersion.match(/OS \d+_\d+/g),v=n.platform.split(" ")[0],y=n.language.replace("-","_"),w=startX=0,x=localStorage.getItem("_addToHome"),T={animationIn:"drop",animationOut:"fade",startDelay:2e3,lifespan:1e4,bottomOffset:14,expire:60,message:"",touchIcon:!0,arrow:!0,iterations:100},k={ca_es:"Per instalВ·lar aquesta aplicaciГі al vostre %device premeu %icon i llavors <strong>Afegir a pantalla d'inici</strong>.",da_dk:"TilfГёj denne side til din %device: tryk pГҐ %icon og derefter <strong>TilfГёj til hjemmeskГ¦rm</strong>.",de_de:"Installieren Sie diese App auf Ihrem %device: %icon antippen und dann <strong>Zum Home-Bildschirm</strong>.",el_gr:"О•ОіОєО±П„О±ПѓП„О®ПѓОµП„Оµ О±П…П„О®ОЅ П„О·ОЅ О•П†О±ПЃО�?ОїОіО® ПѓП„О®ОЅ ПѓП…ПѓОєОµП…О® ПѓО±П‚ %device: %icon О�?ОµП„О¬ ПЂО±П„О¬П„Оµ <strong>О ПЃОїПѓОёО®ОєО· ПѓОµ О�?П†ОµП„О·ПЃОЇО±</strong>.",en_us:"Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.",es_es:"Para instalar esta app en su %device, pulse %icon y seleccione <strong>AГ±adir a pantalla de inicio</strong>.",fi_fi:"Asenna tГ¤mГ¤ web-sovellus laitteeseesi %device: paina %icon ja sen jГ¤lkeen valitse <strong>LisГ¤Г¤ Koti-valikkoon</strong>.",fr_fr:"Ajoutez cette application sur votre %device en cliquant sur %icon, puis <strong>Ajouter Г  l'Г©cran d'accueil</strong>.",he_il:'<span dir="rtl">Ч”ЧЄЧ§Чџ ЧђЧ¤ЧњЧ™Ч§Ч¦Ч™Ч” Ч–Ч• ЧўЧњ Ч”-%device Ч©ЧњЧљ: Ч”Ч§Ч© %icon Ч•ЧђЧ– <strong>Ч”Ч•ЧЎЧЈ ЧњЧћЧЎЧљ Ч”Ч�?Ч™ЧЄ</strong>.</span>',hu_hu:"TelepГ­tse ezt a web-alkalmazГЎst az Г–n %device-jГЎra: nyomjon a %icon-ra majd a <strong>FЕ�?kГ©pernyЕ�?hГ¶z adГЎs</strong> gombra.",it_it:"Installa questa applicazione sul tuo %device: premi su %icon e poi <strong>Aggiungi a Home</strong>.",ja_jp:"гЃ“гЃ®г‚¦г‚§гѓ–г‚ўгѓ—гѓЄг‚’гЃ‚гЃЄгЃџгЃ®%deviceгЃ«г‚¤гѓіг‚№гѓ€гѓ�?гѓ«гЃ™г‚‹гЃ«гЃЇ%iconг‚’г‚їгѓѓгѓ—гЃ—гЃ¦<strong>гѓ›гѓ�?гѓ з”»йќўгЃ«иїЅеЉ </strong>г‚’йЃёг‚“гЃ§гЃЏгЃ гЃ•гЃ„гЂ‚",ko_kr:'%deviceм—ђ м›№м•±мќ„ м„¤м№�н•�л ¤л©ґ %iconмќ„ н„°м№� н›„ "н™€н™”л©ґм—ђ м¶”к°Ђ"лҐ�? м„ нѓќн•�м„ёмљ”',nb_no:"Installer denne appen pГҐ din %device: trykk pГҐ %icon og deretter <strong>Legg til pГҐ Hjem-skjerm</strong>",nl_nl:"Installeer deze webapp op uw %device: tik %icon en dan <strong>Zet in beginscherm</strong>.",pt_br:"Instale este web app em seu %device: aperte %icon e selecione <strong>Adicionar Г  Tela Inicio</strong>.",pt_pt:"Para instalar esta aplicaГ§ГЈo no seu %device, prima o %icon e depois o <strong>Adicionar ao ecrГЈ principal</strong>.",ru_ru:"РЈСЃС‚Р°РЅРѕРІРёС‚Рµ СЌС‚Рѕ РІРµР±-РїСЂРёР»РѕР¶РµРЅРёРµ РЅР° РІР°С€ %device: РЅР°Р¶Р�?РёС‚Рµ %icon, Р·Р°С‚РµР�? <strong>Р”РѕР±Р°РІРёС‚СЊ РІ В«Р”РѕР�?РѕР№В»</strong>.",sv_se:"LГ¤gg till denna webbapplikation pГҐ din %device: tryck pГҐ %icon och dГ¤refter <strong>LГ¤gg till pГҐ hemskГ¤rmen</strong>.",th_th:"аё•аёґаё”аё•аё±а№‰аё‡а№Ђаё§а№‡аёља№Ѓаё­аёћаёЇ аё™аёµа№‰аёљаё™ %device аё‚аё­аё‡аё„аёёаё“: а№Ѓаё•аё° %icon а№ЃаёҐаё° <strong>а№Ђаёћаёґа№€аёЎаё—аёµа№€аё«аё™а№‰аёІаё€аё­а№‚аё®аёЎ</strong>",tr_tr:"%device iГ§in bu uygulamayД± kurduktan sonra %icon simgesine dokunarak <strong>Ev EkranД±na Ekle</strong>yin.",zh_cn:"ж‚ЁеЏЇд»Ґе°†ж­¤еє”з”ЁзЁ‹е�?Џе®‰иЈ…е€°ж‚Ёзљ„ %device дёЉгЂ‚иЇ·жЊ‰ %icon з„¶еђЋз‚№йЂ‰<strong>ж·»еЉ и‡ідё»е±Џе№•</strong>гЂ‚",zh_tw:"ж‚ЁеЏЇд»Ґе°‡ж­¤ж‡‰з”ЁзЁ‹е�?Џе®‰иЈќе€°ж‚Ёзљ„ %device дёЉгЂ‚и«‹жЊ‰ %icon з„¶еѕЊй»ћйЃё<strong>еЉ е…Ґдё»з•«йќўићўе№•</strong>гЂ‚"};if(S=S?1*S[0].replace(/[^\d_]/g,"").replace("_","."):0,x="null"==x?0:1*x,window.addToHomeConfig)for(h in window.addToHomeConfig)T[h]=window.addToHomeConfig[h];(!T.expire||x<(new Date).getTime())&&(x=0),window.addToHomeClose=s,window.addToHomeOpen=function(){!g||x||b||!f||l||d||(t(),e())}}(),function(){var t=Math,e=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",o="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,i="ontouchstart"in window,s=e+"Transform"in document.documentElement.style,n=/android/gi.test(navigator.appVersion),r=/iphone|ipad/gi.test(navigator.appVersion),a=/playbook/gi.test(navigator.appVersion),l=r||a,c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1)},h=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,p="onorientationchange"in window?"orientationchange":"resize",d=i?"touchstart":"mousedown",u=i?"touchmove":"mousemove",m=i?"touchend":"mouseup",f=i?"touchcancel":"mouseup",g="Moz"==e?"DOMMouseScroll":"mousewheel",b="translate"+(o?"3d(":"("),S=o?",0)":")",v=function(t,a){var c,h=this,u=document;h.wrapper="object"==typeof t?t:u.getElementById(t),h.wrapper.style.overflow="hidden",h.scroller=h.wrapper.children[0],h.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:n,hideScrollbar:r,fadeScrollbar:r&&o,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(t){t.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(c in a)h.options[c]=a[c];h.x=h.options.x,h.y=h.options.y,h.options.useTransform=!!s&&h.options.useTransform,h.options.hScrollbar=h.options.hScroll&&h.options.hScrollbar,h.options.vScrollbar=h.options.vScroll&&h.options.vScrollbar,h.options.zoom=h.options.useTransform&&h.options.zoom,h.options.useTransition=l&&h.options.useTransition,h.scroller.style[e+"TransitionProperty"]=h.options.useTransform?"-"+e.toLowerCase()+"-transform":"top left",h.scroller.style[e+"TransitionDuration"]="0",h.scroller.style[e+"TransformOrigin"]="0 0",h.options.useTransition&&(h.scroller.style[e+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)"),h.options.useTransform?h.scroller.style[e+"Transform"]=b+h.x+"px,"+h.y+"px"+S:h.scroller.style.cssText+=";position:absolute;top:"+h.y+"px;left:"+h.x+"px",h.options.useTransition&&(h.options.fixedScrollbar=!0),h.refresh(),h._bind(p,window),h._bind(d),i||(h._bind("mouseout",h.wrapper),h._bind(g)),h.options.checkDOMChanges&&(h.checkDOMTime=setInterval(function(){h._checkDOMChanges()},500))};v.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(t){switch(t.type){case d:if(!i&&0!==t.button)return;this._start(t);break;case u:this._move(t);break;case m:case f:this._end(t);break;case p:this._resize();break;case g:this._wheel(t);break;case"mouseout":this._mouseout(t);break;case"webkitTransitionEnd":this._transitionEnd(t)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(o){var i,n=document;this[o+"Scrollbar"]?(this[o+"ScrollbarWrapper"]||(i=n.createElement("div"),this.options.scrollbarClass?i.className=this.options.scrollbarClass+o.toUpperCase():i.style.cssText="position:absolute;z-index:100;"+("h"==o?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px"),i.style.cssText+=";pointer-events:none;-"+e+"-transition-property:opacity;-"+e+"-transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1"),this.wrapper.appendChild(i),this[o+"ScrollbarWrapper"]=i,i=n.createElement("div"),this.options.scrollbarClass||(i.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+e+"-background-clip:padding-box;-"+e+"-box-sizing:border-box;"+("h"==o?"height:100%":"width:100%")+";-"+e+"-border-radius:3px;border-radius:3px"),i.style.cssText+=";pointer-events:none;-"+e+"-transition-property:-"+e+"-transform;-"+e+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+e+"-transition-duration:0;-"+e+"-transform:"+b+"0,0"+S,this.options.useTransition&&(i.style.cssText+=";-"+e+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),this[o+"ScrollbarWrapper"].appendChild(i),this[o+"ScrollbarIndicator"]=i),"h"==o?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=t.max(t.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=t.max(t.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY),this._scrollbarPos(o,!0)):this[o+"ScrollbarWrapper"]&&(s&&(this[o+"ScrollbarIndicator"].style[e+"Transform"]=""),this[o+"ScrollbarWrapper"].parentNode.removeChild(this[o+"ScrollbarWrapper"]),this[o+"ScrollbarWrapper"]=null,this[o+"ScrollbarIndicator"]=null)},_resize:function(){var t=this;setTimeout(function(){t.refresh()},n?200:0)},_pos:function(o,i){o=this.hScroll?o:0,i=this.vScroll?i:0,this.options.useTransform?this.scroller.style[e+"Transform"]=b+o+"px,"+i+"px"+S+" scale("+this.scale+")":(o=t.round(o),i=t.round(i),this.scroller.style.left=o+"px",this.scroller.style.top=i+"px"),this.x=o,this.y=i,this._scrollbarPos("h"),this._scrollbarPos("v")},_scrollbarPos:function(o,i){var s,n="h"==o?this.x:this.y;this[o+"Scrollbar"]&&((n=this[o+"ScrollbarProp"]*n)<0?(this.options.fixedScrollbar||((s=this[o+"ScrollbarIndicatorSize"]+t.round(3*n))<8&&(s=8),this[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=s+"px"),n=0):n>this[o+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?n=this[o+"ScrollbarMaxScroll"]:((s=this[o+"ScrollbarIndicatorSize"]-t.round(3*(n-this[o+"ScrollbarMaxScroll"])))<8&&(s=8),this[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=s+"px",n=this[o+"ScrollbarMaxScroll"]+(this[o+"ScrollbarIndicatorSize"]-s))),this[o+"ScrollbarWrapper"].style[e+"TransitionDelay"]="0",this[o+"ScrollbarWrapper"].style.opacity=i&&this.options.hideScrollbar?"0":"1",this[o+"ScrollbarIndicator"].style[e+"Transform"]=b+("h"==o?n+"px,0":"0,"+n+"px")+S)},_start:function(o){var s,n,r,a,l,c=i?o.touches[0]:o;this.enabled&&(this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,o),(this.options.useTransition||this.options.zoom)&&this._transitionTime(0),this.moved=!1,this.animating=!1,this.zoomed=!1,this.distX=0,this.distY=0,this.absDistX=0,this.absDistY=0,this.dirX=0,this.dirY=0,this.options.zoom&&i&&o.touches.length>1&&(a=t.abs(o.touches[0].pageX-o.touches[1].pageX),l=t.abs(o.touches[0].pageY-o.touches[1].pageY),this.touchesDistStart=t.sqrt(a*a+l*l),this.originX=t.abs(o.touches[0].pageX+o.touches[1].pageX-2*this.wrapperOffsetLeft)/2-this.x,this.originY=t.abs(o.touches[0].pageY+o.touches[1].pageY-2*this.wrapperOffsetTop)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,o)),this.options.momentum&&(this.options.useTransform?(n=1*(s=getComputedStyle(this.scroller,null)[e+"Transform"].replace(/[^0-9-.,]/g,"").split(","))[4],r=1*s[5]):(n=1*getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,""),r=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),n==this.x&&r==this.y||(this.options.useTransition?this._unbind("webkitTransitionEnd"):h(this.aniTime),this.steps=[],this._pos(n,r))),this.absStartX=this.x,this.absStartY=this.y,this.startX=this.x,this.startY=this.y,this.pointX=c.pageX,this.pointY=c.pageY,this.startTime=o.timeStamp||Date.now(),this.options.onScrollStart&&this.options.onScrollStart.call(this,o),this._bind(u),this._bind(m),this._bind(f))},_move:function(o){var s,n,r,a=i?o.touches[0]:o,l=a.pageX-this.pointX,c=a.pageY-this.pointY,h=this.x+l,p=this.y+c,d=o.timeStamp||Date.now();return this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,o),this.options.zoom&&i&&o.touches.length>1?(s=t.abs(o.touches[0].pageX-o.touches[1].pageX),n=t.abs(o.touches[0].pageY-o.touches[1].pageY),this.touchesDist=t.sqrt(s*s+n*n),this.zoomed=!0,(r=1/this.touchesDistStart*this.touchesDist*this.scale)<this.options.zoomMin?r=.5*this.options.zoomMin*Math.pow(2,r/this.options.zoomMin):r>this.options.zoomMax&&(r=2*this.options.zoomMax*Math.pow(.5,this.options.zoomMax/r)),this.lastScale=r/this.scale,h=this.originX-this.originX*this.lastScale+this.x,p=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[e+"Transform"]=b+h+"px,"+p+"px"+S+" scale("+r+")",void(this.options.onZoom&&this.options.onZoom.call(this,o))):(this.pointX=a.pageX,this.pointY=a.pageY,(h>0||h<this.maxScrollX)&&(h=this.options.bounce?this.x+l/2:h>=0||this.maxScrollX>=0?0:this.maxScrollX),(p>this.minScrollY||p<this.maxScrollY)&&(p=this.options.bounce?this.y+c/2:p>=this.minScrollY||this.maxScrollY>=0?this.minScrollY:this.maxScrollY),this.absDistX<6&&this.absDistY<6?(this.distX+=l,this.distY+=c,this.absDistX=t.abs(this.distX),void(this.absDistY=t.abs(this.distY))):(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(p=this.y,c=0):this.absDistY>this.absDistX+5&&(h=this.x,l=0)),this.moved=!0,this._pos(h,p),this.dirX=l>0?-1:l<0?1:0,this.dirY=c>0?-1:c<0?1:0,d-this.startTime>300&&(this.startTime=d,this.startX=this.x,this.startY=this.y),void(this.options.onScrollMove&&this.options.onScrollMove.call(this,o))))},_end:function(o){if(!i||0==o.touches.length){var s,n,r,a,l,c,h,p=this,d=i?o.changedTouches[0]:o,g={dist:0,time:0},v={dist:0,time:0},y=(o.timeStamp||Date.now())-p.startTime,w=p.x,x=p.y;if(p._unbind(u),p._unbind(m),p._unbind(f),p.options.onBeforeScrollEnd&&p.options.onBeforeScrollEnd.call(p,o),p.zoomed)return h=p.scale*p.lastScale,h=Math.max(p.options.zoomMin,h),h=Math.min(p.options.zoomMax,h),p.lastScale=h/p.scale,p.scale=h,p.x=p.originX-p.originX*p.lastScale+p.x,p.y=p.originY-p.originY*p.lastScale+p.y,p.scroller.style[e+"TransitionDuration"]="200ms",p.scroller.style[e+"Transform"]=b+p.x+"px,"+p.y+"px"+S+" scale("+p.scale+")",p.zoomed=!1,p.refresh(),void(p.options.onZoomEnd&&p.options.onZoomEnd.call(p,o));if(!p.moved)return i&&(p.doubleTapTimer&&p.options.zoom?(clearTimeout(p.doubleTapTimer),p.doubleTapTimer=null,p.options.onZoomStart&&p.options.onZoomStart.call(p,o),p.zoom(p.pointX,p.pointY,1==p.scale?p.options.doubleTapZoom:1),p.options.onZoomEnd&&setTimeout(function(){p.options.onZoomEnd.call(p,o)},200)):p.doubleTapTimer=setTimeout(function(){for(p.doubleTapTimer=null,s=d.target;1!=s.nodeType;)s=s.parentNode;"SELECT"!=s.tagName&&"INPUT"!=s.tagName&&"TEXTAREA"!=s.tagName&&((n=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,o.view,1,d.screenX,d.screenY,d.clientX,d.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,0,null),n._fake=!0,s.dispatchEvent(n))},p.options.zoom?250:0)),p._resetPos(200),void(p.options.onTouchEnd&&p.options.onTouchEnd.call(p,o));if(y<300&&p.options.momentum&&(g=w?p._momentum(w-p.startX,y,-p.x,p.scrollerW-p.wrapperW+p.x,p.options.bounce?p.wrapperW:0):g,v=x?p._momentum(x-p.startY,y,-p.y,p.maxScrollY<0?p.scrollerH-p.wrapperH+p.y-p.minScrollY:0,p.options.bounce?p.wrapperH:0):v,w=p.x+g.dist,x=p.y+v.dist,(p.x>0&&w>0||p.x<p.maxScrollX&&w<p.maxScrollX)&&(g={dist:0,time:0}),(p.y>p.minScrollY&&x>p.minScrollY||p.y<p.maxScrollY&&x<p.maxScrollY)&&(v={dist:0,time:0})),g.dist||v.dist)return l=t.max(t.max(g.time,v.time),10),p.options.snap&&(r=w-p.absStartX,a=x-p.absStartY,t.abs(r)<p.options.snapThreshold&&t.abs(a)<p.options.snapThreshold?p.scrollTo(p.absStartX,p.absStartY,200):(w=(c=p._snap(w,x)).x,x=c.y,l=t.max(c.time,l))),p.scrollTo(t.round(w),t.round(x),l),void(p.options.onTouchEnd&&p.options.onTouchEnd.call(p,o));if(p.options.snap)return r=w-p.absStartX,a=x-p.absStartY,t.abs(r)<p.options.snapThreshold&&t.abs(a)<p.options.snapThreshold?p.scrollTo(p.absStartX,p.absStartY,200):(c=p._snap(p.x,p.y)).x==p.x&&c.y==p.y||p.scrollTo(c.x,c.y,c.time),void(p.options.onTouchEnd&&p.options.onTouchEnd.call(p,o));p._resetPos(200),p.options.onTouchEnd&&p.options.onTouchEnd.call(p,o)}},_resetPos:function(t){var o=this.x>=0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,i=this.y>=this.minScrollY||this.maxScrollY>0?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(o==this.x&&i==this.y)return this.moved&&(this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&("webkit"==e&&(this.hScrollbarWrapper.style[e+"TransitionDelay"]="300ms"),this.hScrollbarWrapper.style.opacity="0"),void(this.vScrollbar&&this.options.hideScrollbar&&("webkit"==e&&(this.vScrollbarWrapper.style[e+"TransitionDelay"]="300ms"),this.vScrollbarWrapper.style.opacity="0"));this.scrollTo(o,i,t||0)},_wheel:function(t){var e,o,i,s,n,r=this;if("wheelDeltaX"in t?(e=t.wheelDeltaX/12,o=t.wheelDeltaY/12):e=o="detail"in t?3*-t.detail:-t.wheelDelta,"zoom"==r.options.wheelAction)return(n=r.scale*Math.pow(2,1/3*(o?o/Math.abs(o):0)))<r.options.zoomMin&&(n=r.options.zoomMin),n>r.options.zoomMax&&(n=r.options.zoomMax),void(n!=r.scale&&(!r.wheelZoomCount&&r.options.onZoomStart&&r.options.onZoomStart.call(r,t),r.wheelZoomCount++,r.zoom(t.pageX,t.pageY,n,400),setTimeout(function(){r.wheelZoomCount--,!r.wheelZoomCount&&r.options.onZoomEnd&&r.options.onZoomEnd.call(r,t)},400)));i=r.x+e,s=r.y+o,i>0?i=0:i<r.maxScrollX&&(i=r.maxScrollX),s>r.minScrollY?s=r.minScrollY:s<r.maxScrollY&&(s=r.maxScrollY),r.scrollTo(i,s,0)},_mouseout:function(t){var e=t.relatedTarget;if(e){for(;e=e.parentNode;)if(e==this.wrapper)return;this._end(t)}else this._end(t)},_transitionEnd:function(t){t.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var e,o,i,s=this,n=s.x,r=s.y,a=Date.now();if(!s.animating)if(s.steps.length){if((e=s.steps.shift()).x==n&&e.y==r&&(e.time=0),s.animating=!0,s.moved=!0,s.options.useTransition)return s._transitionTime(e.time),s._pos(e.x,e.y),s.animating=!1,void(e.time?s._bind("webkitTransitionEnd"):s._resetPos(0));(i=function(){var l,h,p=Date.now();if(p>=a+e.time)return s._pos(e.x,e.y),s.animating=!1,s.options.onAnimationEnd&&s.options.onAnimationEnd.call(s),void s._startAni();p=(p-a)/e.time-1,o=t.sqrt(1-p*p),l=(e.x-n)*o+n,h=(e.y-r)*o+r,s._pos(l,h),s.animating&&(s.aniTime=c(i))})()}else s._resetPos(400)},_transitionTime:function(t){t+="ms",this.scroller.style[e+"TransitionDuration"]=t,this.hScrollbar&&(this.hScrollbarIndicator.style[e+"TransitionDuration"]=t),this.vScrollbar&&(this.vScrollbarIndicator.style[e+"TransitionDuration"]=t)},_momentum:function(e,o,i,s,n){var r=t.abs(e)/o,a=r*r/.0012,l=0;return e>0&&a>i?(r=r*(i+=n/(6/(a/r*6e-4)))/a,a=i):e<0&&a>s&&(r=r*(s+=n/(6/(a/r*6e-4)))/a,a=s),a*=e<0?-1:1,l=r/6e-4,{dist:a,time:t.round(l)}},_offset:function(t){for(var e=-t.offsetLeft,o=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,o-=t.offsetTop;return t!=this.wrapper&&(e*=this.scale,o*=this.scale),{left:e,top:o}},_snap:function(e,o){var i,s,n,r,a,l;for(n=this.pagesX.length-1,i=0,s=this.pagesX.length;i<s;i++)if(e>=this.pagesX[i]){n=i;break}for(n==this.currPageX&&n>0&&this.dirX<0&&n--,e=this.pagesX[n],a=(a=t.abs(e-this.pagesX[this.currPageX]))?t.abs(this.x-e)/a*500:0,this.currPageX=n,n=this.pagesY.length-1,i=0;i<n;i++)if(o>=this.pagesY[i]){n=i;break}return n==this.currPageY&&n>0&&this.dirY<0&&n--,o=this.pagesY[n],l=t.abs(o-this.pagesY[this.currPageY]),l=l?t.abs(this.y-o)/l*500:0,this.currPageY=n,r=t.round(t.max(a,l))||200,{x:e,y:o,time:r}},_bind:function(t,e,o){(e||this.scroller).addEventListener(t,this,!!o)},_unbind:function(t,e,o){(e||this.scroller).removeEventListener(t,this,!!o)},destroy:function(){this.scroller.style[e+"Transform"]="",this.hScrollbar=!1,this.vScrollbar=!1,this._scrollbar("h"),this._scrollbar("v"),this._unbind(p,window),this._unbind(d),this._unbind(u),this._unbind(m),this._unbind(f),this.options.hasTouch&&(this._unbind("mouseout",this.wrapper),this._unbind(g)),this.options.useTransition&&this._unbind("webkitTransitionEnd"),this.options.checkDOMChanges&&clearInterval(this.checkDOMTime),this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(o){var i,s,n,r,a=0,l=0;if(this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin),this.wrapperW=this.wrapper.clientWidth||1,this.wrapperH=this.wrapper.clientHeight||1,this.minScrollY=-this.options.topOffset||0,this.scrollerW=t.round(this.scroller.offsetWidth*this.scale),this.scrollerH=t.round(((o||this.scroller.offsetHeight)+this.minScrollY)*this.scale),this.maxScrollX=this.wrapperW-this.scrollerW,this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY,this.dirX=0,this.dirY=0,this.options.onRefresh&&this.options.onRefresh.call(this),this.hScroll=this.options.hScroll&&this.maxScrollX<0,this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH),this.hScrollbar=this.hScroll&&this.options.hScrollbar,this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH,i=this._offset(this.wrapper),this.wrapperOffsetLeft=-i.left,this.wrapperOffsetTop=-i.top,"string"==typeof this.options.snap)for(this.pagesX=[],this.pagesY=[],s=0,n=(r=this.scroller.querySelectorAll(this.options.snap)).length;s<n;s++)(a=this._offset(r[s])).left+=this.wrapperOffsetLeft,a.top+=this.wrapperOffsetTop,this.pagesX[s]=a.left<this.maxScrollX?this.maxScrollX:a.left*this.scale,this.pagesY[s]=a.top<this.maxScrollY?this.maxScrollY:a.top*this.scale;else if(this.options.snap){for(this.pagesX=[];a>=this.maxScrollX;)this.pagesX[l]=a,a-=this.wrapperW,l++;for(this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]),a=0,l=0,this.pagesY=[];a>=this.maxScrollY;)this.pagesY[l]=a,a-=this.wrapperH,l++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h"),this._scrollbar("v"),this.zoomed||(this.scroller.style[e+"TransitionDuration"]="0",this._resetPos(200))},scrollTo:function(t,e,o,i){var s,n,r=t;for(this.stop(),r.length||(r=[{x:t,y:e,time:o,relative:i}]),s=0,n=r.length;s<n;s++)r[s].relative&&(r[s].x=this.x-r[s].x,r[s].y=this.y-r[s].y),this.steps.push({x:r[s].x,y:r[s].y,time:r[s].time||0});this._startAni()},scrollToElement:function(e,o){var i;(e=e.nodeType?e:this.scroller.querySelector(e))&&((i=this._offset(e)).left+=this.wrapperOffsetLeft,i.top+=this.wrapperOffsetTop,i.left=i.left>0?0:i.left<this.maxScrollX?this.maxScrollX:i.left,i.top=i.top>this.minScrollY?this.minScrollY:i.top<this.maxScrollY?this.maxScrollY:i.top,o=void 0===o?t.max(2*t.abs(i.left),2*t.abs(i.top)):o,this.scrollTo(i.left,i.top,o))},scrollToPage:function(t,e,o){var i,s;this.options.onScrollStart&&this.options.onScrollStart.call(this),this.options.snap?(t="next"==t?this.currPageX+1:"prev"==t?this.currPageX-1:t,e="next"==e?this.currPageY+1:"prev"==e?this.currPageY-1:e,t=t<0?0:t>this.pagesX.length-1?this.pagesX.length-1:t,e=e<0?0:e>this.pagesY.length-1?this.pagesY.length-1:e,this.currPageX=t,this.currPageY=e,i=this.pagesX[t],s=this.pagesY[e]):(i=-this.wrapperW*t,s=-this.wrapperH*e,i<this.maxScrollX&&(i=this.maxScrollX),s<this.maxScrollY&&(s=this.maxScrollY)),this.scrollTo(i,s,o||400)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(u),this._unbind(m),this._unbind(f)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):h(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(t,o,i,s){var n=i/this.scale;this.options.useTransform&&(this.zoomed=!0,s=void 0===s?200:s,t=t-this.wrapperOffsetLeft-this.x,o=o-this.wrapperOffsetTop-this.y,this.x=t-t*n+this.x,this.y=o-o*n+this.y,this.scale=i,this.refresh(),this.x=this.x>0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[e+"TransitionDuration"]=s+"ms",this.scroller.style[e+"Transform"]=b+this.x+"px,"+this.y+"px"+S+" scale("+i+")",this.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},"undefined"!=typeof exports?exports.iScroll=v:window.iScroll=v}();