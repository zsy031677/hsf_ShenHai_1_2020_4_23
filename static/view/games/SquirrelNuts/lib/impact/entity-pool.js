ig.module("impact.entity-pool").requires("impact.game").defines(function(){"use strict";ig.EntityPool={pools:{},mixin:{staticInstantiate:function(o,t,i){return ig.EntityPool.getFromPool(this.classId,o,t,i)},erase:function(){ig.EntityPool.putInPool(this)}},enableFor:function(o){o.inject(this.mixin)},getFromPool:function(o,t,i,n){var s=this.pools[o];if(!s||!s.length)return null;var l=s.pop();return l.reset(t,i,n),l},putInPool:function(o){this.pools[o.classId]?this.pools[o.classId].push(o):this.pools[o.classId]=[o]},drainPool:function(o){delete this.pools[o]},drainAllPools:function(){this.pools={}}},ig.Game.inject({loadLevel:function(o){ig.EntityPool.drainAllPools(),this.parent(o)}})});