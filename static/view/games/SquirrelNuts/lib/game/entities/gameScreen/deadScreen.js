ig.module("game.entities.gameScreen.deadScreen").requires("impact.entity").defines(function(){EntityDeadScreen=ig.Entity.extend({animSheet:new ig.AnimationSheet("media/media32/dead-screen.png",250,120),maxVel:{x:0,y:0},size:{x:250,y:120},ignorePause:!0,buttonW:100,buttonH:50,whiteText:null,showBestScore:null,returnedBagNuts:new ig.Image("media/media32/returned-bag-screen.png"),map:new ig.Image("media/media32/map.png"),mapX:new ig.Image("media/media32/map-x.png"),heightMap:0,init:function(e,t,i){this.parent(e,t,i),this.whiteText=new ig.Font("media/media32/yellow.font.png"),this.addAnim("idle",1,[0]),this.pos.x=ig.game.screen.x+ig.global.gameSettings.systemWidth()/2-this.size.x/2,this.pos.y=ig.game.screen.y+ig.global.gameSettings.systemHeight()/2-this.size.y/2,this.bestScore=new ig.Image("media/media32/text-bestscore.png"),ig.game.togglePause(),ig.game.playerVar.height<=1?this.heightMap=190:ig.game.playerVar.height>=ig.global.gameSettings.hLvl4?this.heightMap=1:(this.heightMap=ig.game.playerVar.height/ig.global.gameSettings.hLvl4,this.heightMap=Math.round(100*this.heightMap)/100,this.heightMap=Math.round(190*this.heightMap),this.heightMap=190-this.heightMap),ig.global.playerController.bestHeight<ig.game.playerVar.height&&(ig.global.playerController.bestHeight=ig.game.playerVar.height,this.showBestScore=!0),ig.game.playerVar.saveExperience(ig.global.playerController),ig.global.playerController.saveData(ig.global.playerController)},draw:function(){this.parent(),this.whiteText.draw(ig.game.playerVar.height+" m",this.pos.x+78,this.pos.y-ig.game.screen.y+2,ig.Font.ALIGN.LEFT),this.whiteText.draw(ig.global.playerController.pointsSkill,this.pos.x+130,this.pos.y-ig.game.screen.y+30,ig.Font.ALIGN.LEFT),this.showBestScore&&this.bestScore.draw(this.pos.x+190,this.pos.y-ig.game.screen.y+2),ig.global.playerController.getBackNuts&&!ig.global.playerController.isShowedNutsScreen&&this.returnedBagNuts.draw(ig.global.gameSettings.systemWidth()/2-this.returnedBagNuts.width/2,this.pos.y-170-ig.game.screen.y),ig.global.playerController.showMap&&!ig.global.playerController.getBackNuts&&(this.map.draw(this.size.x+this.pos.x+ig.game.screen.x,this.pos.y+this.size.y/2-this.map.height/2-ig.game.screen.y),this.mapX.draw(this.size.x+this.pos.x+ig.game.screen.x+this.mapX.width/2-2,this.pos.y+this.size.y/2-this.map.height/2-ig.game.screen.y-this.mapX.height/2+this.heightMap+30))},update:function(){this.parent(),ig.global.gameController.action(this.buttonW,this.buttonH,this.pos.x+5,this.pos.y+65,"press",ig.game.screen)&&ig.system.setGame(ShopScreen),ig.global.gameController.action(this.buttonW,this.buttonH,this.pos.x+145,this.pos.y+65,"press",ig.game.screen)&&ig.system.setGame(CanonScreen)}})});