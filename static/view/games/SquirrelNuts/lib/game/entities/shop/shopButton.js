ig.module("game.entities.shop.shopButton").requires("impact.entity").defines(function(){EntityShopButton=ig.Entity.extend({size:{x:100,y:50},maxVel:{x:0,y:0},_wmDrawBox:!0,_wmBoxColor:"rgba(255,0,0,0.5)",_wmScalable:!0,action:"start",pointsSkill:0,pointHealth:0,pointSpeed:0,pointExp:0,pointBounce:0,pointLaunch:0,pointLuck:0,pressTimer:new ig.Timer,pressDelay:.2,init:function(l,o,t){this.parent(l,o,t),this.pointsSkill=ig.global.playerController.pointsSkill,this.pointHealth=ig.global.playerController.pointHealth,this.pointSpeed=ig.global.playerController.pointSpeed,this.pointExp=ig.global.playerController.pointExp,this.pointBounce=ig.global.playerController.pointBounce,this.pointLaunch=ig.global.playerController.pointLaunch,this.pointLuck=ig.global.playerController.pointLuck,this.pressTimer.reset()},update:function(){if(ig.global.gameController.action(this.size.x,this.size.y,this.pos.x,this.pos.y,"press",ig.game.screen)&&this.pressTimer.delta()>this.pressDelay)switch(this.action){case"reset":ig.global.playerController.pointsSkill=this.pointsSkill,ig.global.playerController.pointHealth=this.pointHealth,ig.global.playerController.pointSpeed=this.pointSpeed,ig.global.playerController.pointExp=this.pointExp,ig.global.playerController.pointBounce=this.pointBounce,ig.global.playerController.pointLaunch=this.pointLaunch,ig.global.playerController.pointLuck=this.pointLuck,this.pressTimer.reset();break;case"addHealth":this.buttonWork(ig.global.playerController.pointHealth)&&(ig.global.playerController.pointsSkill--,ig.global.playerController.pointHealth++,this.pressTimer.reset());break;case"addSpeed":this.buttonWork(ig.global.playerController.pointSpeed)&&(ig.global.playerController.pointsSkill--,ig.global.playerController.pointSpeed++,this.pressTimer.reset());break;case"addExp":this.buttonWork(ig.global.playerController.pointExp)&&(ig.global.playerController.pointsSkill--,ig.global.playerController.pointExp++,this.pressTimer.reset());break;case"addBounce":this.buttonWork(ig.global.playerController.pointBounce)&&(ig.global.playerController.pointsSkill--,ig.global.playerController.pointBounce++,this.pressTimer.reset());break;case"addLaunch":this.buttonWork(ig.global.playerController.pointLaunch)&&(ig.global.playerController.pointsSkill--,ig.global.playerController.pointLaunch++,this.pressTimer.reset());break;case"addLuck":this.buttonWork(ig.global.playerController.pointLuck)&&(ig.global.playerController.pointsSkill--,ig.global.playerController.pointLuck++,this.pressTimer.reset())}switch(this.action){case"addHealth":this.buttonWork(ig.global.playerController.pointHealth);break;case"addSpeed":this.buttonWork(ig.global.playerController.pointSpeed);break;case"addExp":this.buttonWork(ig.global.playerController.pointExp);break;case"addBounce":this.buttonWork(ig.global.playerController.pointBounce);break;case"addLaunch":this.buttonWork(ig.global.playerController.pointLaunch);break;case"addLuck":this.buttonWork(ig.global.playerController.pointLuck)}},buttonWork:function(l){return l>=5||ig.global.playerController.pointsSkill<=0?(this.animSheet=new ig.AnimationSheet("media/media32/hide32.png",32,32),this.addAnim("idle",1,[0]),!1):(this.animSheet=null,this.currentAnim=null,!0)}})});