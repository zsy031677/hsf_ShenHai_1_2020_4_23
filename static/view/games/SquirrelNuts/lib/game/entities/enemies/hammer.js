ig.module("game.entities.enemies.hammer").requires("impact.entity","impact.entity-pool").defines(function(){EntityHammer=ig.Entity.extend({flip:!1,maxVel:{x:500,y:2e3},friction:{x:0,y:0},fall:!1,giveHit:!0,rotationSpeed:5,name:"",damage:0,impulseShake:0,rotationSpeedMax:0,speed:0,cnockback:0,bounce:0,killExp:0,killScore:0,type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,animSheet:new ig.AnimationSheet("media/media32/hammer.png",25,40),init:function(e,i,t){this.parent(e,i,t),this.size={x:19,y:30},this.offset={x:3,y:5},this.addAnim("idle",1,[0]);var a=ig.global.gameSettings.hammer;this.name=a.name,this.damage=a.damage,this.impulseShake=a.impulseShake,this.rotationSpeedMax=a.rotationSpeedMax,this.speed=a.speed,this.cnockback=a.cnockback,this.bounce=a.bounce,this.killExp=a.killExp,this.killScore=a.killScore,this.vel.y=ig.game.playerVar.vel.y+ig.game.playerVar.vel.y*this.speed,this.pos.x=Math.round(Math.random()*(ig.global.gameSettings.systemWidth()-this.size.x)),this.rotationSpeed=Math.round(Math.random()*this.rotationSpeedMax/2+this.rotationSpeedMax/2)},reset:function(e,i,t){this.parent(e,i,t),this.currentAnim.angle=0,this.fall=!1,this.giveHit=!0,this.vel.y=ig.game.playerVar.vel.y+ig.game.playerVar.vel.y*this.speed,this.pos.x=Math.round(Math.random()*(ig.global.gameSettings.systemWidth()-this.size.x)),this.rotationSpeed=Math.round(Math.random()*this.rotationSpeedMax/2+this.rotationSpeedMax/2)},update:function(){(ig.game.screen.y+ig.global.gameSettings.systemHeight()<this.pos.y||this.pos.x+this.size.x<0||this.pos.x>ig.global.gameSettings.systemWidth())&&this.kill(),this.fall&&(this.currentAnim.angle+=this.rotationSpeed*ig.system.tick),this.parent()},check:function(e){this.giveHit&&!e.fall&&(e.receiveDamage(this),ig.game.myScreenShaker.applyImpulse(Math.random()*this.impulseShake-this.impulseShake/2,Math.random()*this.impulseShake-this.impulseShake/2),this.fall=!0,this.giveHit=!1,this.vel.x=Math.round(Math.random()*this.cnockback-this.cnockback/2),this.rewardKill(this.name))},rewardKill:function(e){ig.global.gameController.getReward(this)},receiveDamage:function(){}}),ig.EntityPool.enableFor(EntityHammer)});