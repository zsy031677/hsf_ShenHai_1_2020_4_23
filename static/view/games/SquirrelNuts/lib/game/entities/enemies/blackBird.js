ig.module("game.entities.enemies.blackBird").requires("impact.entity","impact.entity-pool").defines(function(){EntityBlackBird=ig.Entity.extend({flip:!1,maxVel:{x:500,y:5e3},friction:{x:0,y:0},fall:!1,giveHit:!0,rotationSpeed:5,name:"",damage:0,impulseShake:0,rotationSpeedMax:0,speed:0,speedX:1,velXRad:0,widthPath:0,cnockback:0,bounce:0,killExp:0,killScore:0,type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,animSheet:new ig.AnimationSheet("media/media32/black-bird.png",45,40),init:function(t,i,e){this.parent(t,i,e),this.size={x:45,y:40},this.addAnim("idle",1,[0]);var a=ig.global.gameSettings.blackBird;this.name=a.name,this.damage=a.damage,this.impulseShake=a.impulseShake,this.rotationSpeedMax=a.rotationSpeedMax,this.speed=a.speed,this.speedX=a.speedX,this.cnockback=a.cnockback,this.bounce=a.bounce,this.killExp=a.killExp,this.killScore=a.killScore,this.velXRad=10*Math.random(),this.widthPath=Math.round(Math.random()*ig.global.gameSettings.blackBird.widthPath/2+ig.global.gameSettings.blackBird.widthPath/2),this.vel.y=ig.game.playerVar.vel.y+ig.game.playerVar.vel.y*this.speed,this.pos.x=Math.round(Math.random()*(ig.global.gameSettings.systemWidth()-this.size.x-100))+50,this.rotationSpeed=Math.round(Math.random()*this.rotationSpeedMax/2+this.rotationSpeedMax/2)},reset:function(t,i,e){this.parent(t,i,e),this.currentAnim.angle=0,this.fall=!1,this.giveHit=!0,this.vel.y=ig.game.playerVar.vel.y+ig.game.playerVar.vel.y*this.speed,this.pos.x=Math.round(Math.random()*(ig.global.gameSettings.systemWidth()-this.size.x-100))+50,this.rotationSpeed=Math.round(Math.random()*this.rotationSpeedMax/2+this.rotationSpeedMax/2),this.widthPath=Math.round(Math.random()*ig.global.gameSettings.blackBird.widthPath/2+ig.global.gameSettings.blackBird.widthPath/2),this.velXRad=10*Math.random()},update:function(){this.velXRad+=ig.system.tick*this.speedX,this.vel.x=Math.sin(this.velXRad)*this.widthPath,ig.game.screen.y+ig.global.gameSettings.systemHeight()<this.pos.y&&this.kill(),this.fall&&(this.currentAnim.angle+=this.rotationSpeed*ig.system.tick),this.parent()},check:function(t){this.giveHit&&!t.fall&&(t.receiveDamage(this),ig.game.myScreenShaker.applyImpulse(Math.random()*this.impulseShake-this.impulseShake/2,Math.random()*this.impulseShake-this.impulseShake/2),this.fall=!0,this.giveHit=!1,this.vel.x=Math.round(Math.random()*this.cnockback-this.cnockback/2),this.rewardKill(this.name),t.attack(this))},rewardKill:function(t){ig.global.gameController.getReward(this)},receiveDamage:function(){}}),ig.EntityPool.enableFor(EntityBlackBird)});