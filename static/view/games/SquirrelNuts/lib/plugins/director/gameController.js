ig.module("plugins.director.gameController").requires("impact.impact").defines(function(){ig.GameController=ig.Class.extend({control:"mouse",init:function(){},action:function(e,t,a,l,o,r){return!("mouse"!=this.control||!this.pressOrStateMouse(o)||!this.overButtonArea(e,t,a,l,ig.input.mouse,r))||!("touch"!=this.control||!ig.game.buttons.buttons[0].pressed||!this.overButtonArea(e,t,a,l,{x:ig.game.buttons.buttons[0].touchX,y:ig.game.buttons.buttons[0].touchY},r))},pressOrStateMouse:function(e){return"press"==e?ig.input.pressed("touch"):"state"==e&&ig.input.state("touch")},overButtonArea:function(e,t,a,l,o,r){return a<o.x/ig.global.gameSettings.screenRatio+r.x&&a+e>o.x/ig.global.gameSettings.screenRatio+r.x&&l<o.y/ig.global.gameSettings.screenRatio+r.y&&l+t>o.y/ig.global.gameSettings.screenRatio+r.y},expAdd:function(e){ig.game.playerVar.exp+=e+Math.round(e*(ig.global.playerController.expSkill+ig.global.playerController.pointExp*ig.global.playerController.amountExp)),ig.game.playerVar.exp>=ig.game.playerVar.lvlMax&&(ig.game.playerVar.lvl++,ig.game.playerVar.pointsSkill+=1,ig.game.playerVar.exp=ig.game.playerVar.exp-ig.game.playerVar.lvlMax,ig.global.playerController.health=ig.global.playerController.healthSkill+ig.global.playerController.pointHealth*ig.global.playerController.amountHealth,ig.game.playerVar.lvlMax+=Math.round(ig.game.playerVar.lvlMax*ig.global.gameSettings.upLevelMax))},getReward:function(e){this.expAdd(e.killExp),e.name}})});