ig.module("plugins.spawnSystem.spawnSystem").requires("impact.impact").defines(function(){ig.SpawnSystem=ig.Class.extend({spawnBagNuts:!0,name:"",spawnTimer:new ig.Timer,spawnRate:1,nutName:"",spawnNutsTimer:new ig.Timer,spawnNuts:1,hazardName:"",spawnHazardTimer:new ig.Timer,spawnHazard:1,init:function(){},update:function(){if(this.spawnTimer.delta()>this.spawnRate&&!ig.game.playerVar.fall&&!ig.game.paused){var a=Math.round(Math.random()*ig.game.playerVar.height);switch(a<ig.global.gameSettings.hLvl1?this.name="pinkBird":a>=ig.global.gameSettings.hLvl1&&a<=ig.global.gameSettings.hLvl2?this.name="yellowBird":a>=ig.global.gameSettings.hLvl2&&a<=ig.global.gameSettings.hLvl3?this.name="blueBird":a>=ig.global.gameSettings.hLvl3&&(this.name="blackBird"),this.name){case"yellowBird":ig.game.spawnEntity(EntityYellowBird,0,ig.game.screen.y-100,{flip:this.flip});break;case"pinkBird":ig.game.spawnEntity(EntityPinkBird,0,ig.game.screen.y-100,{flip:this.flip});break;case"blueBird":ig.game.spawnEntity(EntityBlueBird,0,ig.game.screen.y-100,{flip:this.flip});break;case"blackBird":ig.game.spawnEntity(EntityBlackBird,0,ig.game.screen.y-100,{flip:this.flip})}this.spawnTimer.reset(),ig.game.playerVar.height>ig.global.gameSettings.hLvl3?this.spawnRate=Math.random()*(ig.global.gameSettings.spawnRate/2)+ig.global.gameSettings.spawnRate/2+ig.game.playerVar.height/1e4:this.spawnRate=Math.random()*(ig.global.gameSettings.spawnRate/2)+ig.global.gameSettings.spawnRate/2,ig.game.sortEntitiesDeferred()}if(this.spawnNutsTimer.delta()>this.spawnNuts&&!ig.game.playerVar.fall&&!ig.game.paused){var e=Math.round(Math.random()*ig.game.playerVar.height);switch(e<ig.global.gameSettings.hLvl2?this.nutName="nut1":e>=ig.global.gameSettings.hLvl3/2&&e<=ig.global.gameSettings.hLvl3?this.nutName="nut2":e>=ig.global.gameSettings.hLvl3&&(this.nutName="nut3"),this.nutName){case"nut1":ig.game.spawnEntity(EntityNut1,0,ig.game.screen.y-100,{flip:this.flip});break;case"nut2":ig.game.spawnEntity(EntityNut2,0,ig.game.screen.y-100,{flip:this.flip});break;case"nut3":ig.game.spawnEntity(EntityNut3,0,ig.game.screen.y-100,{flip:this.flip})}ig.game.sortEntitiesDeferred(),this.spawnNutsTimer.reset(),ig.game.playerVar.height>ig.global.gameSettings.hLvl4?this.spawnNuts=Math.random()*(ig.global.gameSettings.spawnNuts/2)+ig.global.gameSettings.spawnNuts/2-(ig.global.playerController.luckSkill+ig.global.playerController.pointLuck*ig.global.playerController.amountLuck)+ig.game.playerVar.height/1e4:this.spawnNuts=Math.random()*(ig.global.gameSettings.spawnNuts/2)+ig.global.gameSettings.spawnNuts/2-(ig.global.playerController.luckSkill+ig.global.playerController.pointLuck*ig.global.playerController.amountLuck),this.spawnBagNuts&&!ig.global.playerController.getBackNuts&&ig.game.playerVar.height>ig.global.gameSettings.hLvl4&&(this.spawnBagNuts=!1,ig.game.spawnEntity(EntityBagNuts,0,ig.game.screen.y-100,{flip:this.flip}))}if(this.spawnHazardTimer.delta()>this.spawnHazard&&!ig.game.playerVar.fall&&!ig.game.paused){var i=Math.round(Math.random()*ig.game.playerVar.height);switch(ig.global.gameSettings.hLvl1<i&&i<ig.global.gameSettings.hLvl2?this.nameHazard="hammer":i>=ig.global.gameSettings.hLvl2&&(this.nameHazard="ballSpikes"),this.nameHazard){case"hammer":ig.game.spawnEntity(EntityHammer,0,ig.game.screen.y-100,{flip:this.flip});break;case"ballSpikes":ig.game.spawnEntity(EntityBallSpikes,0,ig.game.screen.y-100,{flip:this.flip})}ig.game.sortEntitiesDeferred(),this.spawnHazardTimer.reset(),ig.game.playerVar.height>ig.global.gameSettings.hLvl4?this.spawnHazard=Math.random()*(ig.global.gameSettings.spawnHazard/2)+ig.global.gameSettings.spawnHazard/2-ig.game.playerVar.height/1e4:this.spawnHazard=Math.random()*(ig.global.gameSettings.spawnHazard/2)+ig.global.gameSettings.spawnHazard/2}}})});