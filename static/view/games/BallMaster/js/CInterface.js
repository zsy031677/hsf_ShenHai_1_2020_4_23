function CInterface(e,t){var a,i,n,s,o,l,c,r,T,_=!1;this._init=function(e,t){if(a=e,i=t,n=new createjs.Bitmap(s_oSpriteLibrary.getSprite("bg_game")),s_oStage.addChild(n),!1===DISABLE_SOUND_MOBILE||!1===s_bMobile){_=s_oSpriteLibrary.getSprite("audio_icon");(s=new CToggle(CANVAS_WIDTH-_.width/2-35,_.height/2+15,_)).addEventListener(ON_MOUSE_UP,this._onAudioToggle,this)}var _=s_oSpriteLibrary.getSprite("but_exit");if((l=new CGfxButton(CANVAS_WIDTH-_.width/2+5,_.height/2+8,_)).addEventListener(ON_MOUSE_UP,this._onExit,this),i)var S=TEXT_NEWHIGRAVITY,d=TEXT_GRAVITY+INIT_GRAVITY_CHALLENGE,h=TEXT_HIGRAVITY+0;else var S=TEXT_NEWHISCORE,d=TEXT_SCORE+0,h=TEXT_HISCORE+0;(T=new createjs.Text(S,"bold 24px Verdana","Orange")).x=CANVAS_WIDTH/2,T.y=200,T.textBaseline="alphabetic",T.textAlign="center",T.shadow=new createjs.Shadow("#000000",2,2,2),T.visible=!1,(c=new createjs.Text(d,"bold 60px Verdana","#5b8e2d")).x=20,c.y=65,c.textBaseline="alphabetic",c.textAlign="left",c.shadow=new createjs.Shadow("#000000",3,3,2),(r=new createjs.Text(h,"bold 24px Verdana","#fff")).x=CANVAS_WIDTH/2,r.y=CANVAS_HEIGHT-40,r.textBaseline="alphabetic",r.textAlign="center",r.shadow=new createjs.Shadow("#000000",2,2,2),s_oStage.addChild(T,c,r),(o=new createjs.Shape).graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),s_oStage.addChild(o),createjs.Tween.get(o).to({alpha:0},1e3).call(function(){o.visible=!1})},this.unload=function(){s_oStage.removeChild(n,T,c,r),!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s.unload(),l.unload()},this.updateScore=function(e,t){if(i){var a;a=0===e?INIT_GRAVITY_CHALLENGE:e;n=TEXT_GRAVITY+a;c.text=n;s=TEXT_HIGRAVITY+t;r.text=s}else{var n=TEXT_SCORE+e;c.text=n;var s=TEXT_HISCORE+t;r.text=s}},this.newTopScore=function(){!1===_&&(_=!0,T.text=TEXT_NEWHISCORE,T.x=-200,T.alpha=.5,T.visible=!0,T.color="Orange",createjs.Tween.get(T).to({x:CANVAS_WIDTH/2,scaleX:1.5,scaleY:1.5,alpha:1},750,createjs.Ease.backInOut).wait(500).call(function(){createjs.Tween.get(T).to({x:CANVAS_WIDTH+200,scaleX:1,scaleY:1,alpha:.5},750,createjs.Ease.backInOut).call(function(){T.visible=!1,_=!1})}))},this.encouragement=function(){if(!1===_){var e=Math.floor(Math.random()*(TEXT_SUPPORT_STRINGS+1));_=!0,T.text=TEXT_SUPPORT[e],T.x=-200,T.alpha=.5,T.visible=!0,T.color="#fcd000",createjs.Tween.get(T).to({x:CANVAS_WIDTH/2,scaleX:1.5,scaleY:1.5,alpha:1},750,createjs.Ease.backInOut).wait(500).call(function(){createjs.Tween.get(T).to({x:CANVAS_WIDTH+200,scaleX:1,scaleY:1,alpha:.5},750,createjs.Ease.backInOut).call(function(){T.visible=!1,_=!1})})}},this._onExit=function(){this.unload(),a.unload(),$(s_oMain).trigger("restart")},this._onAudioToggle=function(){createjs.Sound.setMute(!s_bAudioActive)},this._init(e,t)}