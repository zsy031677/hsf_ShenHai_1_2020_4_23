function CTextButton(t,e,i,n,s,o,h,a){var r,c,u,l,f,d,x,_,O,g;return this._init=function(t,e,i,n,s,o,h,a){r=!1,l=new Array,f=new Array,g=a,x=new createjs.Bitmap(i),c=i.width,u=i.height;var w=Math.ceil(h/20),b=(_=new createjs.Text(n,"bold "+h+"px "+s,"#000000")).getBounds();_.textAlign="center",_.textBaseline="alphabetic",_.x=i.width/2+w,_.y=Math.floor(i.height/2)+b.height/3+w,(O=new createjs.Text(n,"bold "+h+"px "+s,o)).textAlign="center",O.textBaseline="alphabetic",O.x=i.width/2,O.y=Math.floor(i.height/2)+b.height/3,(d=new createjs.Container).x=t,d.y=e,d.regX=i.width/2,d.regY=i.height/2,d.addChild(x,_,O),g.addChild(d),this._initListener()},this.unload=function(){d.off("mousedown"),d.off("pressup"),g.removeChild(d)},this.setVisible=function(t){d.visible=t},this.enable=function(){r=!1,x.filters=[],x.cache(0,0,c,u)},this.disable=function(){r=!0;var t=(new createjs.ColorMatrix).adjustSaturation(-100);x.filters=[new createjs.ColorMatrixFilter(t)],x.cache(0,0,c,u)},this._initListener=function(){oParent=this,d.on("mousedown",this.buttonDown),d.on("pressup",this.buttonRelease)},this.addEventListener=function(t,e,i){l[t]=e,f[t]=i},this.buttonRelease=function(){r||(!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||createjs.Sound.play("press_but"),d.scaleX=1,d.scaleY=1,l[ON_MOUSE_UP]&&l[ON_MOUSE_UP].call(f[ON_MOUSE_UP]))},this.buttonDown=function(){r||(d.scaleX=.9,d.scaleY=.9,l[ON_MOUSE_DOWN]&&l[ON_MOUSE_DOWN].call(f[ON_MOUSE_DOWN]))},this.setPosition=function(t,e){d.x=t,d.y=e},this.changeText=function(t){O.text=t,_.text=t},this.setX=function(t){d.x=t},this.setY=function(t){d.y=t},this.getButtonImage=function(){return d},this.getX=function(){return d.x},this.getY=function(){return d.y},this._init(t,e,i,n,s,o,h,a),this}