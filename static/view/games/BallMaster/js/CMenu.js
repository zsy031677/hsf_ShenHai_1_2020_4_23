function CMenu(){var e,t,n,i,o;this._init=function(){e=new createjs.Bitmap(s_oSpriteLibrary.getSprite("bg_menu")),s_oStage.addChild(e);a=s_oSpriteLibrary.getSprite("but_play");if((t=new CTextButton(CANVAS_WIDTH/2-170,CANVAS_HEIGHT-70,a,TEXT_PLAY,"Verdana","#ffffff",30,s_oStage)).addEventListener(ON_MOUSE_UP,this._onButPlay,this,!1),(n=new CTextButton(CANVAS_WIDTH/2+170,CANVAS_HEIGHT-70,a,TEXT_PLAYCHALLENGE,"Verdana","#ffffff",30,s_oStage)).addEventListener(ON_MOUSE_UP,this._onButPlayChallenge,this),!1===DISABLE_SOUND_MOBILE||!1===s_bMobile){var a=s_oSpriteLibrary.getSprite("audio_icon");(i=new CToggle(CANVAS_WIDTH-a.width/2+5,a.height/2+20,a)).addEventListener(ON_MOUSE_UP,this._onAudioToggle,this),null===s_oSoundTrack&&(s_oSoundTrack=createjs.Sound.play("soundtrack",{loop:-1,volume:.7}))}(o=new createjs.Shape).graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),s_oStage.addChild(o),createjs.Tween.get(o).to({alpha:0},1e3).call(function(){o.visible=!1})},this.unload=function(){t.unload(),t=null,n.unload(),n=null,!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||(i.unload(),i=null),s_oStage.removeAllChildren()},this._onButPlay=function(){this.unload(),s_oMain.gotoGame(!1)},this._onButPlayChallenge=function(){this.unload(),s_oMain.gotoGame(!0)},this._onAudioToggle=function(){createjs.Sound.setMute(!s_bAudioActive)},this._init()}