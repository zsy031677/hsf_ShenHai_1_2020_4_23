function CGfxButton(t,e,n,i){var s,o,a,c,u,r,l,h,f,O=!1;return this._init=function(t,e,n){s=new Array,o=new Array,c=new Array,(a=createBitmap(n)).x=t,a.y=e,u=1,r=1,a.regX=n.width/2,a.regY=n.height/2,s_bMobile||(a.cursor="pointer"),f.addChild(a),this._initListener()},this.unload=function(){a.off("mousedown",this.buttonDown),a.off("pressup",this.buttonRelease),f.removeChild(a)},this.setVisible=function(t){a.visible=t},this.setCursorType=function(t){a.cursor=t},this._initListener=function(){a.on("mousedown",this.buttonDown),a.on("pressup",this.buttonRelease)},this.addEventListener=function(t,e,n){s[t]=e,o[t]=n},this.addEventListenerWithParams=function(t,e,n,i){s[t]=e,o[t]=n,c[t]=i},this.buttonRelease=function(){O||(a.scaleX=u>0?1*u:-1*u,a.scaleY=1*u,playSound("click",1,!1),s[ON_MOUSE_UP]&&s[ON_MOUSE_UP].call(o[ON_MOUSE_UP],c[ON_MOUSE_UP]))},this.buttonDown=function(){O||(a.scaleX=u>0?.9*u:-.9*u,a.scaleY=.9*u,s[ON_MOUSE_DOWN]&&s[ON_MOUSE_DOWN].call(o[ON_MOUSE_DOWN],c[ON_MOUSE_DOWN]))},this.rotation=function(t){a.rotation=t},this.getButton=function(){return a},this.setPosition=function(t,e){a.x=t,a.y=e},this.setX=function(t){a.x=t},this.setY=function(t){a.y=t},this.getButtonImage=function(){return a},this.block=function(t){O=t,a.scaleX=u,a.scaleY=r},this.setScale=function(t){this.setScaleX(t),this.setScaleY(t)},this.setScaleX=function(t){a.scaleX=t,u=t},this.setScaleY=function(t){a.scaleY=t,r=t},this.getX=function(){return a.x},this.getY=function(){return a.y},this.pulseAnimation=function(){h=createjs.Tween.get(a).to({scaleX:.9*u,scaleY:.9*r},850,createjs.Ease.quadOut).to({scaleX:u,scaleY:r},650,createjs.Ease.quadIn).call(function(){l.pulseAnimation()})},this.trebleAnimation=function(){h=createjs.Tween.get(a).to({rotation:5},75,createjs.Ease.quadOut).to({rotation:-5},140,createjs.Ease.quadIn).to({rotation:0},75,createjs.Ease.quadIn).wait(750).call(function(){l.trebleAnimation()})},this.removeAllTweens=function(){createjs.Tween.removeTweens(a)},f=void 0!==i?i:s_oStage,this._init(t,e,n),l=this,this}