var egret;!function(t){t.egret_string_code={},t.egret_string_code[-1]="不存在的stringId:{0}",t.egret_string_code[1e3]="Browser.isMobile接口参数已经变更，请尽快调整用法为 egret.MainContext.deviceType == egret.MainContext.DEVICE_MOBILE",t.egret_string_code[1001]="该方法目前不应传入 resolutionPolicy 参数，请在 docs/1.0_Final_ReleaseNote中查看如何升级",t.egret_string_code[1002]="egret.Ticker是框架内部使用的单例，不允许在外部实例化，计时器请使用egret.Timer类！",t.egret_string_code[1003]="Ticker#setTimeout方法即将废弃,请使用egret.setTimeout",t.egret_string_code[1004]="ExternalInterface调用了js没有注册的方法: {0}",t.egret_string_code[1005]="设置了已经存在的blendMode: {0}",t.egret_string_code[1006]="child不在当前容器内",t.egret_string_code[1007]="提供的索引超出范围",t.egret_string_code[1008]="child未被addChild到该parent",t.egret_string_code[1009]="设置了已经存在的适配模式:{0}",t.egret_string_code[1010]="addEventListener侦听函数不能为空",t.egret_string_code[1011]='BitmapText找不到文字所对应的纹理:"{0}"',t.egret_string_code[1012]="egret.BitmapTextSpriteSheet已废弃，请使用egret.BitmapFont代替。",t.egret_string_code[1013]="TextField.setFocus 没有实现",t.egret_string_code[1014]="Ease不能被实例化",t.egret_string_code[1015]="xml not found!",t.egret_string_code[1016]="{0}已经废弃",t.egret_string_code[1017]="JSON文件格式不正确: {0}\ndata: {1}",t.egret_string_code[1018]="egret_html5_localStorage.setItem保存失败,key={0}&value={1}",t.egret_string_code[1019]="网络异常:{0}",t.egret_string_code[1020]="无法初始化着色器",t.egret_string_code[1021]="当前浏览器不支持webgl",t.egret_string_code[1022]="{0} ArgumentError",t.egret_string_code[1023]="此方法在ScrollView内不可用!",t.egret_string_code[1024]="使用了尚未实现的ScaleMode",t.egret_string_code[1025]="遇到文件尾",t.egret_string_code[1026]="EncodingError! The code point {0} could not be encoded.",t.egret_string_code[1027]="DecodingError",t.egret_string_code[1028]="调用了未配置的注入规则:{0}。 请先在项目初始化里配置指定的注入规则，再调用对应单例。",t.egret_string_code[1029]="Function.prototype.bind - what is trying to be bound is not callable",t.egret_string_code[1030]="该API已废弃",t.egret_string_code[1031]="setVolume已废弃，请使用this.volume = value代替",t.egret_string_code[1032]="getVolume已废弃，请使用this.volume代替",t.egret_string_code[2e3]="RES.createGroup()传入了配置中不存在的键值: {0}",t.egret_string_code[2001]='RES加载了不存在或空的资源组:"{0}"',t.egret_string_code[3e3]="主题配置文件加载失败: {0}",t.egret_string_code[3001]="找不到主题中所配置的皮肤类名: {0}",t.egret_string_code[3002]='索引:"{0}"超出集合元素索引范围',t.egret_string_code[3003]="在此组件中不可用，若此组件为容器类，请使用",t.egret_string_code[3004]="addChild(){0}addElement()代替",t.egret_string_code[3005]="addChildAt(){0}addElementAt()代替",t.egret_string_code[3006]="removeChild(){0}removeElement()代替",t.egret_string_code[3007]="removeChildAt(){0}removeElementAt()代替",t.egret_string_code[3008]="setChildIndex(){0}setElementIndex()代替",t.egret_string_code[3009]="swapChildren(){0}swapElements()代替",t.egret_string_code[3010]="swapChildrenAt(){0}swapElementsAt()代替",t.egret_string_code[3011]='索引:"{0}"超出可视元素索引范围',t.egret_string_code[3012]="此方法在Scroller组件内不可用!",t.egret_string_code[3013]="UIStage是GUI根容器，只能有一个此实例在显示列表中！",t.egret_string_code[4e3]="An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",t.egret_string_code[4001]="Abstract class can not be instantiated!",t.egret_string_code[4002]="Unnamed data!",t.egret_string_code[4003]="Nonsupport version!",t.egret_string_code[3100]="当前浏览器不支持WebSocket",t.egret_string_code[3101]="请先连接WebSocket",t.egret_string_code[3102]="请先设置type为二进制类型"}(egret||(egret={})),function(t){t.egret_string_code={},t.egret_string_code[-1]="不存在的stringId:{0}",t.egret_string_code[1e3]="Browser.isMobile接口参数已经变更，请尽快调整用法为 egret.MainContext.deviceType == egret.MainContext.DEVICE_MOBILE",t.egret_string_code[1001]="该方法目前不应传入 resolutionPolicy 参数，请在 docs/1.0_Final_ReleaseNote中查看如何升级",t.egret_string_code[1002]="egret.Ticker是框架内部使用的单例，不允许在外部实例化，计时器请使用egret.Timer类！",t.egret_string_code[1003]="Ticker#setTimeout方法即将废弃,请使用egret.setTimeout",t.egret_string_code[1004]="ExternalInterface调用了js没有注册的方法: {0}",t.egret_string_code[1005]="设置了已经存在的blendMode: {0}",t.egret_string_code[1006]="child不在当前容器内",t.egret_string_code[1007]="提供的索引超出范围",t.egret_string_code[1008]="child未被addChild到该parent",t.egret_string_code[1009]="设置了已经存在的适配模式:{0}",t.egret_string_code[1010]="addEventListener侦听函数不能为空",t.egret_string_code[1011]='BitmapText找不到文字所对应的纹理:"{0}"',t.egret_string_code[1012]="egret.BitmapTextSpriteSheet已废弃，请使用egret.BitmapFont代替。",t.egret_string_code[1013]="TextField.setFocus 没有实现",t.egret_string_code[1014]="Ease不能被实例化",t.egret_string_code[1015]="xml not found!",t.egret_string_code[1016]="{0}已经废弃",t.egret_string_code[1017]="JSON文件格式不正确: {0}\ndata: {1}",t.egret_string_code[1018]="egret_html5_localStorage.setItem保存失败,key={0}&value={1}",t.egret_string_code[1019]="网络异常:{0}",t.egret_string_code[1020]="无法初始化着色器",t.egret_string_code[1021]="当前浏览器不支持webgl",t.egret_string_code[1022]="{0} ArgumentError",t.egret_string_code[1023]="此方法在ScrollView内不可用!",t.egret_string_code[1024]="使用了尚未实现的ScaleMode",t.egret_string_code[1025]="遇到文件尾",t.egret_string_code[1026]="EncodingError! The code point {0} could not be encoded.",t.egret_string_code[1027]="DecodingError",t.egret_string_code[1028]="调用了未配置的注入规则:{0}。 请先在项目初始化里配置指定的注入规则，再调用对应单例。",t.egret_string_code[1029]="Function.prototype.bind - what is trying to be bound is not callable",t.egret_string_code[1030]="该API已废弃",t.egret_string_code[1031]="setVolume已废弃，请使用this.volume = value代替",t.egret_string_code[1032]="getVolume已废弃，请使用this.volume代替",t.egret_string_code[2e3]="RES.createGroup()传入了配置中不存在的键值: {0}",t.egret_string_code[2001]='RES加载了不存在或空的资源组:"{0}"',t.egret_string_code[3e3]="主题配置文件加载失败: {0}",t.egret_string_code[3001]="找不到主题中所配置的皮肤类名: {0}",t.egret_string_code[3002]='索引:"{0}"超出集合元素索引范围',t.egret_string_code[3003]="在此组件中不可用，若此组件为容器类，请使用",t.egret_string_code[3004]="addChild(){0}addElement()代替",t.egret_string_code[3005]="addChildAt(){0}addElementAt()代替",t.egret_string_code[3006]="removeChild(){0}removeElement()代替",t.egret_string_code[3007]="removeChildAt(){0}removeElementAt()代替",t.egret_string_code[3008]="setChildIndex(){0}setElementIndex()代替",t.egret_string_code[3009]="swapChildren(){0}swapElements()代替",t.egret_string_code[3010]="swapChildrenAt(){0}swapElementsAt()代替",t.egret_string_code[3011]='索引:"{0}"超出可视元素索引范围',t.egret_string_code[3012]="此方法在Scroller组件内不可用!",t.egret_string_code[3013]="UIStage是GUI根容器，只能有一个此实例在显示列表中！",t.egret_string_code[4e3]="An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",t.egret_string_code[4001]="Abstract class can not be instantiated!",t.egret_string_code[4002]="Unnamed data!",t.egret_string_code[4003]="Nonsupport version!",t.egret_string_code[3100]="当前浏览器不支持WebSocket",t.egret_string_code[3101]="请先连接WebSocket",t.egret_string_code[3102]="请先设置type为二进制类型"}(egret||(egret={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i};!function(t){function e(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(n=t.egret_string_code[e])for(var s=i.length,r=0;r<s;r++)n=n.replace("{"+r+"}",i[r]);return n}var i=function(){function i(){}return i.openLogByType=function(t){switch(null==i.logFuncs&&(i.logFuncs={error:console.error,debug:console.debug,warn:console.warn,info:console.info,log:console.log}),t){case i.OFF:console.error=function(){};case i.ERROR:console.warn=function(){};case i.WARN:console.info=function(){},console.log=function(){};case i.INFO:console.debug=function(){}}switch(t){case i.ALL:console.debug=i.logFuncs.debug;case i.INFO:console.log=i.logFuncs.log,console.info=i.logFuncs.info;case i.WARN:console.warn=i.logFuncs.warn;case i.ERROR:console.error=i.logFuncs.error}},i.fatal=function(e,i){throw void 0===i&&(i=null),t.Logger.traceToConsole("Fatal",e,i),Error(t.Logger.getTraceCode("Fatal",e,i))},i.info=function(e,i){void 0===i&&(i=null),t.Logger.traceToConsole("Info",e,i)},i.warning=function(e,i){void 0===i&&(i=null),t.Logger.traceToConsole("Warning",e,i)},i.fatalWithErrorId=function(t){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];n.unshift(t),(n=e.apply(null,n))?i.fatal(n):i.warning(e(-1,t))},i.infoWithErrorId=function(t){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];n.unshift(t),(n=e.apply(null,n))?i.info(n):i.warning(e(-1,t))},i.warningWithErrorId=function(t){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];n.unshift(t),i.warning((n=e.apply(null,n))?n:e(-1,t))},i.traceToConsole=function(e,i,n){console.log(t.Logger.getTraceCode(e,i,n))},i.getTraceCode=function(t,e,i){return"["+t+"]"+e+(null==i?"":":"+i)},i.ALL="all",i.DEBUG="debug",i.INFO="info",i.WARN="warn",i.ERROR="error",i.OFF="off",i}();t.Logger=i,i.prototype.__class__="egret.Logger",t.getString=e}(egret||(egret={})),function(t){var e=function(){function t(){this._hashCode=t.hashCount++}return Object.defineProperty(t.prototype,"hashCode",{get:function(){return this._hashCode},enumerable:!0,configurable:!0}),t.hashCount=1,t}();t.HashObject=e,e.prototype.__class__="egret.HashObject"}(egret||(egret={})),function(t){var e=function(t){function e(e){void 0===e&&(e=300),t.call(this),this.objectPool=[],this._length=0,1>e&&(e=1),this.autoDisposeTime=e,this.frameCount=0}__extends(e,t);var i=e.prototype;return i._checkFrame=function(){this.frameCount--,0>=this.frameCount&&this.dispose()},Object.defineProperty(i,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),i.push=function(t){var i=this.objectPool;-1==i.indexOf(t)&&(i.push(t),t.__recycle&&t.__recycle(),this._length++,0==this.frameCount&&(this.frameCount=this.autoDisposeTime,e._callBackList.push(this)))},i.pop=function(){return 0==this._length?null:(this._length--,this.objectPool.pop())},i.dispose=function(){0<this._length&&(this.objectPool=[],this._length=0),this.frameCount=0;var t=e._callBackList,i=t.indexOf(this);-1!=i&&t.splice(i,1)},e._callBackList=[],e}(t.HashObject);t.Recycler=e,e.prototype.__class__="egret.Recycler"}(egret||(egret={})),function(t){t.__START_TIME,t.getTimer=function(){return Date.now()-t.__START_TIME}}(egret||(egret={})),function(t){t.__callLaterFunctionList=[],t.__callLaterThisList=[],t.__callLaterArgsList=[],t.callLater=function(e,i){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];t.__callLaterFunctionList.push(e),t.__callLaterThisList.push(i),t.__callLaterArgsList.push(n)},t.__callAsyncFunctionList=[],t.__callAsyncThisList=[],t.__callAsyncArgsList=[],t.__callAsync=function(e,i){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];t.__callAsyncFunctionList.push(e),t.__callAsyncThisList.push(i),t.__callAsyncArgsList.push(n)}}(egret||(egret={})),function(t){var e=function(){function e(){}var i=e.prototype;return i.call=function(t){this.callback&&this.callback.call(this.thisObject,t)},i.dispose=function(){this.thisObject=this.callback=null,e.__freeList.push(this)},e.push=function(i,n){var s;(s=e.__freeList.length?e.__freeList.pop():new t.RenderCommand).callback=i,s.thisObject=n,t.MainContext.__DRAW_COMMAND_LIST.push(s)},e.__freeList=[],e}();t.RenderCommand=e,e.prototype.__class__="egret.RenderCommand"}(egret||(egret={})),function(t){var e=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this),this.data=null,this._type="",this._cancelable=this._bubbles=!1,this._eventPhase=2,this._target=this._currentTarget=null,this._isPropagationImmediateStopped=this._isPropagationStopped=this._isDefaultPrevented=!1,this.isNew=!0,this._type=t,this._bubbles=i,this._cancelable=n}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(n,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(n,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(n,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),Object.defineProperty(n,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),Object.defineProperty(n,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),n.isDefaultPrevented=function(){return this._isDefaultPrevented},n.preventDefault=function(){this._cancelable&&(this._isDefaultPrevented=!0)},n.stopPropagation=function(){this._bubbles&&(this._isPropagationStopped=!0)},n.stopImmediatePropagation=function(){this._bubbles&&(this._isPropagationImmediateStopped=!0)},n._reset=function(){this.isNew?this.isNew=!1:(this._isPropagationImmediateStopped=this._isPropagationStopped=this._isDefaultPrevented=!1,this._currentTarget=this._target=null,this._eventPhase=2)},n.__recycle=function(){this.data=this._target=this._currentTarget=null},i._dispatchByTarget=function(e,i,n,s,r,a){void 0===r&&(r=!1),void 0===a&&(a=!1);var o=e.eventRecycler;o||(o=e.eventRecycler=new t.Recycler);var h=o.pop();if(h?h._type=n:h=new e(n),h._bubbles=r,h._cancelable=a,s)for(var l in s)h[l]=s[l],null!==h[l]&&(s[l]=null);return e=i.dispatchEvent(h),o.push(h),e},i._getPropertyData=function(t){var e=t._props;return e||(e=t._props={}),e},i.dispatchEvent=function(t,e,n,s){void 0===n&&(n=!1);var r=i._getPropertyData(i);void 0!=s&&(r.data=s),i._dispatchByTarget(i,t,e,r,n)},i.ADDED_TO_STAGE="addedToStage",i.REMOVED_FROM_STAGE="removedFromStage",i.ADDED="added",i.REMOVED="removed",i.COMPLETE="complete",i.LOOP_COMPLETE="loopcomplete",i.ENTER_FRAME="enterFrame",i.RENDER="render",i.FINISH_RENDER="finishRender",i.FINISH_UPDATE_TRANSFORM="finishUpdateTransform",i.LEAVE_STAGE="leaveStage",i.RESIZE="resize",i.CHANGE="change",i.ACTIVATE="activate",i.DEACTIVATE="deactivate",i.CLOSE="close",i.CONNECT="connect",i}(t.HashObject);t.Event=e,e.prototype.__class__="egret.Event"}(egret||(egret={})),function(t){var e=function(t){function e(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),t.call(this,e,i,n),this._status=0}return __extends(e,t),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),e.dispatchHTTPStatusEvent=function(t,i){null==e.httpStatusEvent&&(e.httpStatusEvent=new e(e.HTTP_STATUS)),e.httpStatusEvent._status=i,t.dispatchEvent(e.httpStatusEvent)},e.HTTP_STATUS="httpStatus",e.httpStatusEvent=null,e}(t.Event);t.HTTPStatusEvent=e,e.prototype.__class__="egret.HTTPStatusEvent"}(egret||(egret={})),function(t){var e=function(t){function e(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),t.call(this,e,i,n)}return __extends(e,t),e.SOUND_COMPLETE="soundComplete",e}(t.Event);t.SoundEvent=e,e.prototype.__class__="egret.SoundEvent"}(egret||(egret={})),function(t){var e=function(t){function e(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),t.call(this,e,i,n)}return __extends(e,t),e.FOCUS_IN="focusIn",e.FOCUS_OUT="focusOut",e}(t.Event);t.FocusEvent=e,e.prototype.__class__="egret.FocusEvent"}(egret||(egret={})),function(t){var e=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)}return __extends(i,e),i.dispatchIOErrorEvent=function(e){t.Event._dispatchByTarget(i,e,i.IO_ERROR)},i.IO_ERROR="ioError",i}(t.Event);t.IOErrorEvent=e,e.prototype.__class__="egret.IOErrorEvent"}(egret||(egret={})),function(t){var e=function(e){function i(t,i,n,s,r,a,o,h,l,u){void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===a&&(a=0),void 0===o&&(o=!1),void 0===h&&(h=!1),void 0===u&&(u=!1),e.call(this,t,i,n),this._stageY=this._stageX=0,this.touchPointID=NaN,this.touchDown=this.altKey=this.shiftKey=this.ctrlKey=!1,this.touchPointID=s,this._stageX=r,this._stageY=a,this.ctrlKey=o,this.altKey=h,this.touchDown=u}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"stageX",{get:function(){return this._stageX},enumerable:!0,configurable:!0}),Object.defineProperty(n,"stageY",{get:function(){return this._stageY},enumerable:!0,configurable:!0}),Object.defineProperty(n,"localX",{get:function(){return this._currentTarget.globalToLocal(this._stageX,this._stageY,t.Point.identity).x},enumerable:!0,configurable:!0}),Object.defineProperty(n,"localY",{get:function(){return this._currentTarget.globalToLocal(this._stageX,this._stageY,t.Point.identity).y},enumerable:!0,configurable:!0}),i.dispatchTouchEvent=function(e,n,s,r,a,o,h,l,u){void 0===s&&(s=0),void 0===r&&(r=0),void 0===a&&(a=0),void 0===o&&(o=!1),void 0===h&&(h=!1),void 0===l&&(l=!1),void 0===u&&(u=!1);var c=t.Event._getPropertyData(i);c.touchPointID=s,c._stageX=r,c._stageY=a,c.ctrlKey=o,c.altKey=h,c.shiftKey=l,c.touchDown=u,t.Event._dispatchByTarget(i,e,n,c,!0,!0)},i.TOUCH_TAP="touchTap",i.TOUCH_MOVE="touchMove",i.TOUCH_BEGIN="touchBegin",i.TOUCH_END="touchEnd",i.TOUCH_RELEASE_OUTSIDE="touchReleaseOutside",i.TOUCH_ROLL_OUT="touchRollOut",i.TOUCH_ROLL_OVER="touchRollOver",i.TOUCH_OUT="touchOut",i.TOUCH_OVER="touchOver",i}(t.Event);t.TouchEvent=e,e.prototype.__class__="egret.TouchEvent"}(egret||(egret={})),function(t){var e=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)}return __extends(i,e),i.dispatchTimerEvent=function(e,n){t.Event._dispatchByTarget(i,e,n)},i.TIMER="timer",i.TIMER_COMPLETE="timerComplete",i}(t.Event);t.TimerEvent=e,e.prototype.__class__="egret.TimerEvent"}(egret||(egret={})),function(t){var e=function(e){function i(t,i,n,s){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=""),e.call(this,t,i,n),this.text=s}return __extends(i,e),i.dispatchTextEvent=function(e,n,s){var r=t.Event._getPropertyData(i);r.text=s,t.Event._dispatchByTarget(i,e,n,r)},i.LINK="link",i}(t.Event);t.TextEvent=e,e.prototype.__class__="egret.TextEvent"}(egret||(egret={})),function(t){var e=function(e){function i(t,i,n,s,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=0),void 0===r&&(r=0),e.call(this,t,i,n),this.bytesTotal=this.bytesLoaded=0,this.bytesLoaded=s,this.bytesTotal=r}return __extends(i,e),i.dispatchProgressEvent=function(e,n,s,r){void 0===s&&(s=0),void 0===r&&(r=0),t.Event._dispatchByTarget(i,e,n,{bytesLoaded:s,bytesTotal:r})},i.PROGRESS="progress",i.SOCKET_DATA="socketData",i}(t.Event);t.ProgressEvent=e,e.prototype.__class__="egret.ProgressEvent"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.CAPTURING_PHASE=1,t.AT_TARGET=2,t.BUBBLING_PHASE=3,t}();t.EventPhase=e,e.prototype.__class__="egret.EventPhase"}(egret||(egret={})),function(t){var e=function(e){function i(t){void 0===t&&(t=null),e.call(this),this._captureEventsMap=this._eventsMap=this._eventTarget=null,this._eventTarget=t||this}__extends(i,e);var n=i.prototype;return n.addEventListener=function(e,i,n,s,r){void 0===s&&(s=!1),void 0===r&&(r=0),void 0===s&&(s=!1),void 0===r&&(r=0),i||t.Logger.fatalWithErrorId(1010),s?(this._captureEventsMap||(this._captureEventsMap={}),s=this._captureEventsMap):(this._eventsMap||(this._eventsMap={}),s=this._eventsMap);var a=s[e];a||(a=s[e]=[]),this._insertEventBin(a,i,n,r)},n._insertEventBin=function(t,e,i,n,s){void 0===s&&(s=void 0);for(var r=-1,a=t.length,o=0;o<a;o++){var h=t[o];if(h.listener==e&&h.thisObject==i&&h.display==s)return!1;-1==r&&h.priority<n&&(r=o)}return e={listener:e,thisObject:i,priority:n},s&&(e.display=s),-1!=r?t.splice(r,0,e):t.push(e),!0},n.removeEventListener=function(t,e,i,n){if(void 0===n&&(n=!1),n=n?this._captureEventsMap:this._eventsMap){var s=n[t];s&&(this._removeEventBin(s,e,i),0==s.length&&delete n[t])}},n._removeEventBin=function(t,e,i,n,s){void 0===n&&(n=void 0),void 0===s&&(s=0);for(var r=t.length;s<r;s++){var a=t[s];if(a.listener==e&&a.thisObject==i&&a.display==n)return t.splice(s,1),!0}return!1},n.hasEventListener=function(t){return!!(this._eventsMap&&this._eventsMap[t]||this._captureEventsMap&&this._captureEventsMap[t])},n.willTrigger=function(t){return this.hasEventListener(t)},n.dispatchEvent=function(t){return t._reset(),t._target=this._eventTarget,t._currentTarget=this._eventTarget,this._notifyListener(t)},n._notifyListener=function(t){if(!(i=1==t._eventPhase?this._captureEventsMap:this._eventsMap))return!0;if(!(i=i[t._type]))return!0;var e=i.length;if(0==e)return!0;for(var i=i.concat(),n=0;n<e;n++){var s=i[n];if(s.listener.call(s.thisObject,t),t._isPropagationImmediateStopped)break}return!t._isDefaultPrevented},n.dispatchEventWith=function(e,i,n){void 0===i&&(i=!1),t.Event.dispatchEvent(this,e,i,n)},i}(t.HashObject);t.EventDispatcher=e,e.prototype.__class__="egret.EventDispatcher"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this.stage=this.deviceContext=this.netContext=this.touchContext=this.rendererContext=null,this.reuseEvent=new t.Event("")}__extends(i,e);var n=i.prototype;return n.run=function(){t.Ticker.getInstance().run(),t.Ticker.getInstance().register(this.renderLoop,this,Number.NEGATIVE_INFINITY),t.Ticker.getInstance().register(this.broadcastEnterFrame,this,Number.POSITIVE_INFINITY),this.touchContext.run(),this._profileInstance=t.Profiler.getInstance()},n.renderLoop=function(e){if(0<t.__callLaterFunctionList.length){var n=t.__callLaterFunctionList;t.__callLaterFunctionList=[];var s=t.__callLaterThisList;t.__callLaterThisList=[];var r=t.__callLaterArgsList;t.__callLaterArgsList=[]}e=this.stage;var a=i.cachedEvent;a._type=t.Event.RENDER,this.dispatchEvent(a),t.Stage._invalidateRenderFlag&&(this.broadcastRender(),t.Stage._invalidateRenderFlag=!1),n&&this.doCallLaterList(n,s,r),0<t.__callAsyncFunctionList.length&&this.doCallAsyncList(),(n=this.rendererContext).onRenderStart(),n.clearScreen(),i.__DRAW_COMMAND_LIST=[],i._renderLoopPhase="updateTransform",e._updateTransform(),i._renderLoopPhase="draw",a._type=t.Event.FINISH_UPDATE_TRANSFORM,this.dispatchEvent(a),i.__use_new_draw?this._draw(n):e._draw(n),a._type=t.Event.FINISH_RENDER,this.dispatchEvent(a),this._profileInstance._isRunning&&this._profileInstance._drawProfiler(n),n.onRenderFinish()},n._draw=function(t){for(var e=i.__DRAW_COMMAND_LIST,n=e.length,s=0;s<n;s++){var r=e[s];r.call(t),r.dispose()}},n.broadcastEnterFrame=function(e){(e=this.reuseEvent)._type=t.Event.ENTER_FRAME,this.dispatchEvent(e);for(var i=t.DisplayObject._enterFrameCallBackList.concat(),n=i.length,s=0;s<n;s++){var r=i[s];e._target=r.display,e._currentTarget=r.display,r.listener.call(r.thisObject,e)}for(s=(i=t.Recycler._callBackList).length-1;0<=s;s--)i[s]._checkFrame()},n.broadcastRender=function(){var e=this.reuseEvent;e._type=t.Event.RENDER;for(var i=t.DisplayObject._renderCallBackList.concat(),n=i.length,s=0;s<n;s++){var r=i[s],a=r.display;e._target=a,e._currentTarget=a,r.listener.call(r.thisObject,e)}},n.doCallLaterList=function(t,e,i){for(var n=t.length,s=0;s<n;s++){var r=t[s];null!=r&&r.apply(e[s],i[s])}},n.doCallAsyncList=function(){var e=t.__callAsyncFunctionList.concat(),i=t.__callAsyncThisList.concat(),n=t.__callAsyncArgsList.concat();t.__callAsyncFunctionList.length=0,t.__callAsyncThisList.length=0;for(var s=t.__callAsyncArgsList.length=0;s<e.length;s++){var r=e[s];null!=r&&r.apply(i[s],n[s])}},i.deviceType=null,i.DEVICE_PC="web",i.DEVICE_MOBILE="native",i.RUNTIME_HTML5="runtimeHtml5",i.RUNTIME_NATIVE="runtimeNative",i.__DRAW_COMMAND_LIST=[],i.__use_new_draw=!0,i.cachedEvent=new t.Event(""),i}(t.EventDispatcher);t.MainContext=e,e.prototype.__class__="egret.MainContext"}(egret||(egret={}));var testDeviceType=function(){if(!this.navigator)return!0;var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("mobile")||-1!=t.indexOf("android")},testRuntimeType=function(){return!!this.navigator};egret.MainContext.instance=new egret.MainContext,egret.MainContext.deviceType=testDeviceType()?egret.MainContext.DEVICE_MOBILE:egret.MainContext.DEVICE_PC,egret.MainContext.runtimeType=testRuntimeType()?egret.MainContext.RUNTIME_HTML5:egret.MainContext.RUNTIME_NATIVE,delete testDeviceType,delete testRuntimeType,function(t){var e=function(){function e(){this._preDrawCount=this._updateTransformPerformanceCost=this._renderPerformanceCost=this._logicPerformanceCost=this._lastTime=0,this._calculatePreDrawCount=!0,this._txt=null,this._tick=0,this._maxDeltaTime=500,this._totalDeltaTime=0,this._isRunning=!1}var i=e.prototype;return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},i.stop=function(){if(this._isRunning){this._isRunning=!1,t.Ticker.getInstance().unregister(this.update,this);var e=t.MainContext.instance;e.removeEventListener(t.Event.ENTER_FRAME,this.onEnterFrame,this),e.removeEventListener(t.Event.RENDER,this.onStartRender,this),e.removeEventListener(t.Event.FINISH_RENDER,this.onFinishRender,this),e.removeEventListener(t.Event.FINISH_UPDATE_TRANSFORM,this.onFinishUpdateTransform,this)}},i.run=function(){if(null==this._txt&&(this._txt=new t.TextField,this._txt.size=28,this._txt.multiline=!0,this._txt._DO_Props_._parent=new t.DisplayObjectContainer),!this._isRunning){this._isRunning=!0,t.Ticker.getInstance().register(this.update,this);var e=t.MainContext.instance;e.addEventListener(t.Event.ENTER_FRAME,this.onEnterFrame,this),e.addEventListener(t.Event.RENDER,this.onStartRender,this),e.addEventListener(t.Event.FINISH_RENDER,this.onFinishRender,this),e.addEventListener(t.Event.FINISH_UPDATE_TRANSFORM,this.onFinishUpdateTransform,this)}},i._drawProfiler=function(t){"_drawWebGL"in t&&t._drawWebGL(),this._calculatePreDrawCount=!1,this._txt._updateTransform(),this._txt._draw(t)},i._setTxtFontSize=function(t){this._txt.size=t},i.onEnterFrame=function(e){this._lastTime=t.getTimer()},i.onStartRender=function(e){e=t.getTimer(),this._logicPerformanceCost=e-this._lastTime,this._lastTime=e},i.onFinishUpdateTransform=function(e){e=t.getTimer(),this._updateTransformPerformanceCost=e-this._lastTime,this._lastTime=e},i.onFinishRender=function(e){e=t.getTimer(),this._renderPerformanceCost=e-this._lastTime,this._lastTime=e},i.update=function(e){if(this._tick++,this._totalDeltaTime+=e,this._totalDeltaTime>=this._maxDeltaTime){e=this._preDrawCount.toString();var i=Math.ceil(this._logicPerformanceCost).toString()+","+Math.ceil(this._updateTransformPerformanceCost).toString()+","+Math.ceil(this._renderPerformanceCost).toString()+","+Math.ceil(t.MainContext.instance.rendererContext.renderCost).toString();this._txt.text="draw:"+e+"\ncost:"+i+"\nFPS:"+Math.floor(1e3*this._tick/this._totalDeltaTime).toString(),this._tick=this._totalDeltaTime=0}this._preDrawCount=0,this._calculatePreDrawCount=!0},i.onDrawImage=function(){this._calculatePreDrawCount&&this._preDrawCount++},e}();t.Profiler=e,e.prototype.__class__="egret.Profiler"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this._timeScale=1,this._paused=!1,this._callIndex=-1,this.callBackList=[],null!=i.instance&&t.Logger.fatalWithErrorId(1002)}__extends(i,e);var n=i.prototype;return n.run=function(){t.__START_TIME=(new Date).getTime(),t.MainContext.instance.deviceContext.executeMainLoop(this.update,this)},n.update=function(t){if(!this._paused){for(t*=this._timeScale,t*=this._timeScale,this._callList=this.callBackList.concat(),this._callIndex=0;this._callIndex<this._callList.length;this._callIndex++){var e=this._callList[this._callIndex];e.listener.call(e.thisObject,t)}this._callIndex=-1,this._callList=null}},n.register=function(t,e,i){void 0===i&&(i=0),this._insertEventBin(this.callBackList,t,e,i)},n.unregister=function(t,e){this._removeEventBin(this.callBackList,t,e),this._callList&&-1<this._callIndex&&this._removeEventBin(this._callList,t,e,null,this._callIndex+1)},n.setTimeout=function(e,i,n){for(var s=[],r=3;r<arguments.length;r++)s[r-3]=arguments[r];t.Logger.warningWithErrorId(1003),t.setTimeout.apply(null,[e,i,n].concat(s))},n.setTimeScale=function(t){this._timeScale=t},n.getTimeScale=function(){return this._timeScale},n.pause=function(){this._paused=!0},n.resume=function(){this._paused=!1},i.getInstance=function(){return null==i.instance&&(i.instance=new i),i.instance},i}(t.EventDispatcher);t.Ticker=e,e.prototype.__class__="egret.Ticker"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.JUSTIFY="justify",t.CONTENT_JUSTIFY="contentJustify",t}();t.HorizontalAlign=e,e.prototype.__class__="egret.HorizontalAlign"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.TOP="top",t.BOTTOM="bottom",t.MIDDLE="middle",t.JUSTIFY="justify",t.CONTENT_JUSTIFY="contentJustify",t}();t.VerticalAlign=e,e.prototype.__class__="egret.VerticalAlign"}(egret||(egret={})),function(t){var e=function(e){function i(t,i){void 0===i&&(i=0),e.call(this),this._currentCount=0,this._running=!1,this.lastTime=0,this.delay=t,this.repeatCount=i}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0}),Object.defineProperty(n,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),n.reset=function(){this.stop(),this._currentCount=0},n.start=function(){this._running||(this.lastTime=t.getTimer(),t.Ticker.getInstance().register(this.onEnterFrame,this),this._running=!0)},n.stop=function(){this._running&&(t.Ticker.getInstance().unregister(this.onEnterFrame,this),this._running=!1)},n.onEnterFrame=function(e){(e=t.getTimer())-this.lastTime>this.delay&&(this.lastTime=e,this._currentCount++,t.TimerEvent.dispatchTimerEvent(this,t.TimerEvent.TIMER),0<this.repeatCount&&this._currentCount>=this.repeatCount&&(this.stop(),t.TimerEvent.dispatchTimerEvent(this,t.TimerEvent.TIMER_COMPLETE)))},i}(t.EventDispatcher);t.Timer=e,e.prototype.__class__="egret.Timer"}(egret||(egret={})),function(t){function e(t){if((t=t.prototype?t.prototype:Object.getPrototypeOf(t)).hasOwnProperty("__class__"))return t.__class__;var e=(i=t.constructor.toString()).indexOf("("),i=i.substring(9,e);return Object.defineProperty(t,"__class__",{value:i,enumerable:!1,writable:!0}),i}t.getQualifiedClassName=e,t.getQualifiedSuperclassName=function(t){if((t=t.prototype?t.prototype:Object.getPrototypeOf(t)).hasOwnProperty("__superclass__"))return t.__superclass__;var i=Object.getPrototypeOf(t);return null==i?null:(i=e(i.constructor))?(Object.defineProperty(t,"__superclass__",{value:i,enumerable:!1,writable:!0}),i):null}}(egret||(egret={})),function(t){var e={};(egret||(egret={})).getDefinitionByName=function(t){if(!t)return null;if(s=e[t])return s;for(var i=t.split("."),n=i.length,s=__global,r=0;r<n;r++)if(!(s=s[i[r]]))return null;return e[t]=s}}();var __global=__global||this;!function(t){function e(t){for(var e in i){var n=i[e];n.delay-=t,0>=n.delay&&(n.listener.apply(n.thisObject,n.params),delete i[e])}}var i={},n=0;t.setTimeout=function(s,r,a){for(var o=[],h=3;h<arguments.length;h++)o[h-3]=arguments[h];return o={listener:s,thisObject:r,delay:a,params:o},0==n&&t.Ticker.getInstance().register(e,null),n++,i[n]=o,n},t.clearTimeout=function(t){delete i[t]}}(egret||(egret={})),function(t){function e(t){for(var e in i){var n=i[e];n.delay-=t,0>=n.delay&&(n.delay=n.originDelay,n.listener.apply(n.thisObject,n.params))}}var i={},n=0;t.setInterval=function(s,r,a){for(var o=[],h=3;h<arguments.length;h++)o[h-3]=arguments[h];return o={listener:s,thisObject:r,delay:a,originDelay:a,params:o},0==n&&t.Ticker.getInstance().register(e,null),n++,i[n]=o,n},t.clearInterval=function(t){delete i[t]}}(egret||(egret={})),function(t){t.hasDefinition=function(e){return!!t.getDefinitionByName(e)}}(egret||(egret={})),(egret||(egret={})).toColorString=function(t){for((isNaN(t)||0>t)&&(t=0),16777215<t&&(t=16777215),t=t.toString(16).toUpperCase();6>t.length;)t="0"+t;return"#"+t},function(t){var e=function(e){function i(t,i,n,s,r,a){void 0===t&&(t=1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===s&&(s=1),void 0===r&&(r=0),void 0===a&&(a=0),e.call(this),this.a=t,this.b=i,this.c=n,this.d=s,this.tx=r,this.ty=a}__extends(i,e);var n=i.prototype;return n.prepend=function(t,e,i,n,s,r){var a=this.tx;if(1!=t||0!=e||0!=i||1!=n){var o=this.a,h=this.c;this.a=o*t+this.b*i,this.b=o*e+this.b*n,this.c=h*t+this.d*i,this.d=h*e+this.d*n}return this.tx=a*t+this.ty*i+s,this.ty=a*e+this.ty*n+r,this},n.append=function(t,e,i,n,s,r){var a=this.a,o=this.b,h=this.c,l=this.d;return 1==t&&0==e&&0==i&&1==n||(this.a=t*a+e*h,this.b=t*o+e*l,this.c=i*a+n*h,this.d=i*o+n*l),this.tx=s*a+r*h+this.tx,this.ty=s*o+r*l+this.ty,this},n.prependTransform=function(e,i,n,s,r,a,o,h,l){if(r%360){var u=t.NumberUtils.cos(r);r=t.NumberUtils.sin(r)}else u=1,r=0;return(h||l)&&(this.tx-=h,this.ty-=l),a||o?(this.prepend(u*n,r*n,-r*s,u*s,0,0),this.prepend(t.NumberUtils.cos(o),t.NumberUtils.sin(o),-t.NumberUtils.sin(a),t.NumberUtils.cos(a),e,i)):this.prepend(u*n,r*n,-r*s,u*s,e,i),this},n.appendTransform=function(e,i,n,s,r,a,o,h,l){if(r%360){var u=t.NumberUtils.cos(r);r=t.NumberUtils.sin(r)}else u=1,r=0;return a||o?(this.append(t.NumberUtils.cos(o),t.NumberUtils.sin(o),-t.NumberUtils.sin(a),t.NumberUtils.cos(a),e,i),this.append(u*n,r*n,-r*s,u*s,0,0)):this.append(u*n,r*n,-r*s,u*s,e,i),(h||l)&&(this.tx-=h*this.a+l*this.c,this.ty-=h*this.b+l*this.d),this},n.rotate=function(t){var e=Math.cos(t);t=Math.sin(t);var i=this.a,n=this.c,s=this.tx;return this.a=i*e-this.b*t,this.b=i*t+this.b*e,this.c=n*e-this.d*t,this.d=n*t+this.d*e,this.tx=s*e-this.ty*t,this.ty=s*t+this.ty*e,this},n.skew=function(e,i){return this.append(t.NumberUtils.cos(i),t.NumberUtils.sin(i),-t.NumberUtils.sin(e),t.NumberUtils.cos(e),0,0),this},n.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},n.identityMatrix=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,s=this.tx,r=t*n-e*i;return this.a=n/r,this.b=-e/r,this.c=-i/r,this.d=t/r,this.tx=(i*this.ty-n*s)/r,this.ty=-(t*this.ty-e*s)/r,this},i.transformCoords=function(e,i,n){var s=t.Point.identity;return s.x=e.a*i+e.c*n+e.tx,s.y=e.d*n+e.b*i+e.ty,s},n.toArray=function(t){return this.array||(this.array=new Float32Array(9)),t?(this.array[0]=this.a,this.array[1]=this.b,this.array[2]=0,this.array[3]=this.c,this.array[4]=this.d,this.array[5]=0,this.array[6]=this.tx,this.array[7]=this.ty):(this.array[0]=this.a,this.array[1]=this.b,this.array[2]=this.tx,this.array[3]=this.c,this.array[4]=this.d,this.array[5]=this.ty,this.array[6]=0,this.array[7]=0),this.array[8]=1,this.array},n.setTo=function(t,e,i,n,s,r){this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=r},n.copyForm=function(t){this.identityMatrix(t)},i.identity=new i,i.DEG_TO_RAD=Math.PI/180,i}(t.HashObject);t.Matrix=e,e.prototype.__class__="egret.Matrix"}(egret||(egret={})),function(t){var e=function(t){function e(e,i){void 0===e&&(e=0),void 0===i&&(i=0),t.call(this),this.x=e,this.y=i}__extends(e,t);var i=e.prototype;return i.clone=function(){return new e(this.x,this.y)},i.equals=function(t){return this.x==t.x&&this.y==t.y},e.distance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},i.setTo=function(t,e){this.x=t,this.y=e},i.copyForm=function(t){this.x=t.x,this.y=t.y},e.identity=new e(0,0),e}(t.HashObject);t.Point=e,e.prototype.__class__="egret.Point"}(egret||(egret={})),function(t){var e=function(t){function e(e,i,n,s){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===s&&(s=0),t.call(this),this.x=e,this.y=i,this.width=n,this.height=s}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"left",{get:function(){return this.x},set:function(t){this.width+=this.x-t,this.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"right",{get:function(){return this.x+this.width},set:function(t){this.width=t-this.x},enumerable:!0,configurable:!0}),Object.defineProperty(i,"top",{get:function(){return this.y},set:function(t){this.height+=this.y-t,this.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"bottom",{get:function(){return this.y+this.height},set:function(t){this.height=t-this.y},enumerable:!0,configurable:!0}),i.initialize=function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},i.contains=function(t,e){return this.x<=t&&this.x+this.width>=t&&this.y<=e&&this.y+this.height>=e},i.intersects=function(t){return Math.max(this.x,t.x)<=Math.min(this.right,t.right)&&Math.max(this.y,t.y)<=Math.min(this.bottom,t.bottom)},i.setEmpty=function(){this.height=this.width=this.y=this.x=0},i.clone=function(){return new e(this.x,this.y,this.width,this.height)},i.containsPoint=function(t){return this.x<t.x&&this.x+this.width>t.x&&this.y<t.y&&this.y+this.height>t.y},i.setTo=function(t,e,i,n){this.initialize(t,e,i,n)},i.copyForm=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},i.inflate=function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},i.isEmpty=function(){return 0==this.width||0==this.height},e.identity=new e(0,0,0,0),e}(t.HashObject);t.Rectangle=e,e.prototype.__class__="egret.Rectangle"}(egret||(egret={})),function(t){var e=function(t){function e(e,i,n,s,r,a,o,h){void 0===e&&(e=1),void 0===i&&(i=1),void 0===n&&(n=1),void 0===s&&(s=1),void 0===r&&(r=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===h&&(h=0),t.call(this),this._redMultiplier=e,this._greenMultiplier=i,this._blueMultiplier=n,this._alphaMultiplier=s,this._redOffset=r,this._greenOffset=a,this._blueOffset=o,this._alphaOffset=h}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"alphaMultiplier",{get:function(){return this._alphaMultiplier},set:function(t){this._alphaMultiplier=t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"alphaOffset",{get:function(){return this._alphaOffset},set:function(t){this._alphaOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"blueMultiplier",{get:function(){return this._blueMultiplier},set:function(t){this._blueMultiplier=t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"blueOffset",{get:function(){return this._blueOffset},set:function(t){this._blueOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"greenMultiplier",{get:function(){return this._greenMultiplier},set:function(t){this._greenMultiplier=t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"greenOffset",{get:function(){return this._greenOffset},set:function(t){this._greenOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"redMultiplier",{get:function(){return this._redMultiplier},set:function(t){this._redMultiplier=t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"redOffset",{get:function(){return this._redOffset},set:function(t){this._redOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"color",{get:function(){return this._redOffset<<16+this._greenOffset<<8+this._blueOffset},enumerable:!0,configurable:!0}),i.identityColorTransform=function(t){this._alphaMultiplier=t._alphaMultiplier,this._alphaOffset=t._alphaOffset,this._redMultiplier=t._redMultiplier,this._redOffset=t._redOffset,this._greenMultiplier=t._greenMultiplier,this._greenOffset=t._greenOffset,this._blueMultiplier=t._blueMultiplier,this._blueOffset=t._blueOffset},e}(t.HashObject);t.ColorTransform=e,e.prototype.__class__="egret.ColorTransform"}(egret||(egret={})),function(t){var e=function(e){function i(i){e.call(this),this._matrix=new t.Matrix,this._matrix2=new t.Matrix,this._colorTransform=new t.ColorTransform,this._colorTransform2=new t.ColorTransform,this._display=i}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"matrix",{get:function(){return this._matrix2.identityMatrix(this._matrix),this._matrix2},set:function(t){this._setMatrix(t)},enumerable:!0,configurable:!0}),n._setMatrix=function(e){this._display.__hack_local_matrix||(this._display.__hack_local_matrix=new t.Matrix),this._display.__hack_local_matrix.identityMatrix(e),this._matrix.identityMatrix(e)},Object.defineProperty(n,"colorTransform",{get:function(){return this._colorTransform2.identityColorTransform(this._colorTransform),this._colorTransform2},set:function(t){this._setColorTransform(t)},enumerable:!0,configurable:!0}),n._setColorTransform=function(t){this._colorTransform.identityColorTransform(t)},i}(t.HashObject);t.Transform=e,e.prototype.__class__="egret.Transform"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this._isSupportDOMParser=this._xmlDict=this._parser=null,this._xmlDict={},window.DOMParser?(this._isSupportDOMParser=!0,this._parser=new DOMParser):this._isSupportDOMParser=!1}__extends(i,e);var n=i.prototype;return i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},n.parserXML=function(e){for(var i=0;"\n"==e.charAt(i)||"\t"==e.charAt(i)||"\r"==e.charAt(i)||" "==e.charAt(i);)i++;return 0!=i&&(e=e.substring(i,e.length)),this._isSupportDOMParser?i=this._parser.parseFromString(e,"text/xml"):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e)),null==i&&t.Logger.infoWithErrorId(1015),i},i._instance=null,i}(t.HashObject);t.SAXParser=e,e.prototype.__class__="egret.SAXParser"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this._designHeight=this._designWidth=0,this._scaleY=this._scaleX=1,this._stageHeight=this._stageWidth=this._offSetY=0}__extends(i,e);var s=i.prototype;return i.getInstance=function(){return null==i.instance&&(n.initialize(),i.instance=new i),i.instance},s.setDesignSize=function(e,i,n){this._designWidth=e,this._designHeight=i,n&&(t.Logger.warningWithErrorId(1001),this._setResolutionPolicy(n))},s._setResolutionPolicy=function(t){this._resolutionPolicy=t,t.init(this),t._apply(this,this._designWidth,this._designHeight)},s.getScaleX=function(){return this._scaleX},s.getScaleY=function(){return this._scaleY},s.getOffSetY=function(){return this._offSetY},i.canvas_name="egretCanvas",i.egret_root_div="gameDiv",i.canvas_div_name="canvasDiv",i}(t.HashObject);t.StageDelegate=e,e.prototype.__class__="egret.StageDelegate";var i=function(){function t(t,e){this._containerStrategy=t,this._contentStrategy=e}var e=t.prototype;return e.init=function(t){this._containerStrategy.init(t),this._contentStrategy.init(t)},e._apply=function(t,e,i){this._containerStrategy._apply(t,e,i),this._contentStrategy._apply(t,e,i)},t}();t.ResolutionPolicy=i,i.prototype.__class__="egret.ResolutionPolicy";var n=function(){function t(){}var e=t.prototype;return t.initialize=function(){t.EQUAL_TO_FRAME=new s},e.init=function(t){},e._apply=function(t,e,i){},e._setupContainer=function(){var t,e=document.body;e&&(t=e.style)&&(t.paddingTop=t.paddingTop||"0px",t.paddingRight=t.paddingRight||"0px",t.paddingBottom=t.paddingBottom||"0px",t.paddingLeft=t.paddingLeft||"0px",t.borderTop=t.borderTop||"0px",t.borderRight=t.borderRight||"0px",t.borderBottom=t.borderBottom||"0px",t.borderLeft=t.borderLeft||"0px",t.marginTop=t.marginTop||"0px",t.marginRight=t.marginRight||"0px",t.marginBottom=t.marginBottom||"0px",t.marginLeft=t.marginLeft||"0px")},t}();t.ContainerStrategy=n,n.prototype.__class__="egret.ContainerStrategy";var s=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype._apply=function(t){this._setupContainer()},e}(n);t.EqualToFrame=s,s.prototype.__class__="egret.EqualToFrame",i=function(){function i(){}var n=i.prototype;return n.init=function(t){},n._apply=function(t,e,i){},n.setEgretSize=function(i,n,s,r,a,o){void 0===o&&(o=0),t.StageDelegate.getInstance()._stageWidth=Math.round(i),t.StageDelegate.getInstance()._stageHeight=Math.round(n),i=document.getElementById(e.canvas_div_name),n=document.getElementById(e.egret_root_div),i||(i=t.Browser.getInstance().$new("div"),i.id=e.canvas_div_name,n.appendChild(i)),i.style.width=s+"px",i.style.height=r+"px",n.style.width=s+"px",n.style.height=r+"px",n.style.top=o+"px"},n._getClientWidth=function(){return document.documentElement.clientWidth},n._getClientHeight=function(){return document.documentElement.clientHeight},i}(),t.ContentStrategy=i,i.prototype.__class__="egret.ContentStrategy";var r=function(t){function e(e){void 0===e&&(e=0),t.call(this),this.minWidth=NaN,this.minWidth=e}return __extends(e,t),e.prototype._apply=function(t,e,i){e=this._getClientWidth();var n=this._getClientHeight(),s=n/i,r=e/s,a=1;0!=this.minWidth&&(a=Math.min(1,r/this.minWidth)),this.setEgretSize(r/a,i,e,n*a),t._scaleX=s*a,t._scaleY=s*a},e}(i);t.FixedHeight=r,r.prototype.__class__="egret.FixedHeight",r=function(t){function e(e){void 0===e&&(e=0),t.call(this),this.minHeight=NaN,this.minHeight=e}return __extends(e,t),e.prototype._apply=function(t,e,i){i=this._getClientWidth();var n=this._getClientHeight(),s=i/e,r=n/s,a=1;0!=this.minHeight&&(a=Math.min(1,r/this.minHeight)),this.setEgretSize(e,r/a,i*a,n,i*(1-a)/2),t._scaleX=s*a,t._scaleY=s*a},e}(i),t.FixedWidth=r,r.prototype.__class__="egret.FixedWidth",r=function(t){function e(e,i){t.call(this),this.width=e,this.height=i}return __extends(e,t),e.prototype._apply=function(t,e,i){i=this.width;var n=this.height,s=i/e;this.setEgretSize(e,n/s,i,n),t._scaleX=s,t._scaleY=s},e}(i),t.FixedSize=r,r.prototype.__class__="egret.FixedSize",r=function(t){function e(){t.call(this)}return __extends(e,t),e.prototype._apply=function(t,e,i){this.setEgretSize(e,i,e,i,Math.floor((e-e)/2)),t._scaleX=1,t._scaleY=1},e}(i),t.NoScale=r,r.prototype.__class__="egret.NoScale",r=function(t){function e(){t.call(this)}return __extends(e,t),e.prototype._apply=function(t,e,i){var n=this._getClientWidth(),s=this._getClientHeight(),r=(a=n)/e<(o=s)/i?a/e:o/i,a=e*r,o=i*r,n=Math.floor((n-a)/2);t._offSetY=Math.floor((s-o)/2),this.setEgretSize(e,i/1,1*a,o,n,t._offSetY),t._scaleX=1*r,t._scaleY=1*r},e}(i),t.ShowAll=r,r.prototype.__class__="egret.ShowAll",i=function(t){function e(){t.call(this)}return __extends(e,t),e.prototype._apply=function(t,e,i){var n=(n=this._getClientWidth())/e,s=(s=this._getClientHeight())/i;this.setEgretSize(e,i,e*n,i*s),t._scaleX=n,t._scaleY=s},e}(i),t.FullScreen=i,i.prototype.__class__="egret.FullScreen"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this._originalData={},this._drawAreaList=[]}__extends(i,e);var n=i.prototype;return i.getInstance=function(){return null==i.instance&&(i.instance=new i),i.instance},n.addDrawArea=function(t){this._drawAreaList.push(t)},n.clearDrawArea=function(){this._drawAreaList=[]},n.drawImage=function(e,n,s,r,a,o,h,l,u,c,_){void 0===_&&(_=void 0),h=h||0,l=l||0;var d=n._texture_to_render;if(null!=d&&0!=o&&0!=a&&0!=u&&0!=c){var p=t.MainContext.instance.rendererContext._texture_scale_factor;if(a/=p,o/=p,0!=this._drawAreaList.length&&t.MainContext.instance.rendererContext._cacheCanvasContext){p=t.DisplayObject.getTransformBounds(n._getSize(i.identityRectangle),n._worldTransform),n._worldBounds.initialize(p.x,p.y,p.width,p.height),(p=this._originalData).sourceX=s,p.sourceY=r,p.sourceWidth=a,p.sourceHeight=o,p.destX=h,p.destY=l,p.destWidth=u,p.destHeight=c;for(var g=this.getDrawAreaList(),f=0;f<g.length;f++)if(!this.ignoreRender(n,g[f],p.destX,p.destY)){e.drawImage(d,s,r,a,o,h,l,u,c,_);break}}else e.drawImage(d,s,r,a,o,h,l,u,c,_)}},n.ignoreRender=function(t,e,i,n){var s=t._worldBounds;return i*=t._worldTransform.a,n*=t._worldTransform.d,s.x+s.width+i<=e.x||s.x+i>=e.x+e.width||s.y+s.height+n<=e.y||s.y+n>=e.y+e.height},n.getDrawAreaList=function(){var e;return 0==this._drawAreaList.length?(this._defaultDrawAreaList||(this._defaultDrawAreaList=[new t.Rectangle(0,0,t.MainContext.instance.stage.stageWidth,t.MainContext.instance.stage.stageHeight)],t.MainContext.instance.stage.addEventListener(t.Event.RESIZE,this.onResize,this)),e=this._defaultDrawAreaList):e=this._drawAreaList,e},n.onResize=function(){t.MainContext.instance.stage.removeEventListener(t.Event.RESIZE,this.onResize,this),this._defaultDrawAreaList=null},i.identityRectangle=new t.Rectangle,i}(t.HashObject);t.RenderFilter=e,e.prototype.__class__="egret.RenderFilter"}(egret||(egret={})),function(t){var e=function(){function e(){}return e.mapClass=function(t,e,i){void 0===i&&(i=""),t=this.getKey(t)+"#"+i,this.mapClassDic[t]=e},e.getKey=function(e){return"string"==typeof e?e:t.getQualifiedClassName(e)},e.mapValue=function(t,e,i){void 0===i&&(i=""),t=this.getKey(t)+"#"+i,this.mapValueDic[t]=e},e.hasMapRule=function(t,e){void 0===e&&(e="");var i=this.getKey(t)+"#"+e;return!(!this.mapValueDic[i]&&!this.mapClassDic[i])},e.getInstance=function(e,i){void 0===i&&(i="");var n=this.getKey(e)+"#"+i;if(this.mapValueDic[n])return this.mapValueDic[n];var s=this.mapClassDic[n];if(s)return s=new s,this.mapValueDic[n]=s,delete this.mapClassDic[n],s;throw Error(t.getString(1028,n))},e.mapClassDic={},e.mapValueDic={},e}();t.Injector=e,e.prototype.__class__="egret.Injector"}(egret||(egret={})),function(t){(t=t.BitmapFilterQuality||(t.BitmapFilterQuality={})).LOW=1,t.MEDIUM=2,t.HIGH=3}(egret||(egret={})),function(t){var e=function(t){function e(){t.apply(this,arguments),this.type=null}return __extends(e,t),e}(t.HashObject);t.Filter=e,e.prototype.__class__="egret.Filter"}(egret||(egret={})),function(t){var e=function(t){function e(e,i){t.call(this),this.blurX=e,this.blurY=i,this.type="blur"}return __extends(e,t),e}(t.Filter);t.BlurFilter=e,e.prototype.__class__="egret.BlurFilter"}(egret||(egret={})),function(t){var e=function(t){function e(e){void 0===e&&(e=null),t.call(this),this._matrix=[],this._matrix2=[],this.type="colorTransform",this._setMatrix(e)}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"matrix",{get:function(){for(var t=0;20>t;t++)this._matrix2[t]=this._matrix[t];return this._matrix2},set:function(t){this._setMatrix(t)},enumerable:!0,configurable:!0}),i._setMatrix=function(t){for(var e=0;20>e;e++)this._matrix[e]=t&&t[e]||0},e}(t.Filter);t.ColorMatrixFilter=e,e.prototype.__class__="egret.ColorMatrixFilter"}(egret||(egret={})),function(t){var e=function(t){function e(e,i,n,s,r,a,o,h){void 0===e&&(e=16711680),void 0===i&&(i=1),void 0===n&&(n=6),void 0===s&&(s=6),void 0===r&&(r=2),void 0===a&&(a=1),void 0===o&&(o=!1),void 0===h&&(h=!1),t.call(this),this.color=e,this.alpha=i,this.blurX=n,this.blurY=s,this.strength=r,this.quality=a,this.inner=o,this.knockout=h,this.type="glow",this._blue=255&e,this._green=(65280&e)>>8,this._red=e>>16}return __extends(e,t),e}(t.Filter);t.GlowFilter=e,e.prototype.__class__="egret.GlowFilter"}(egret||(egret={})),function(t){var e=function(t){function e(e,i,n,s,r,a,o,h,l,u,c){void 0===e&&(e=4),void 0===i&&(i=45),void 0===n&&(n=0),void 0===s&&(s=1),void 0===r&&(r=4),void 0===a&&(a=4),void 0===o&&(o=1),void 0===h&&(h=1),void 0===l&&(l=!1),void 0===u&&(u=!1),t.call(this,n,s,r,a,o,h,l,u),this.distance=e,this.angle=i}return __extends(e,t),e}(t.GlowFilter);t.DropShadowFilter=e,e.prototype.__class__="egret.DropShadowFilter"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.NORMAL="normal",t.ADD="add",t.ERASE="erase",t.ERASE_REVERSE="eraseReverse",t}();t.BlendMode=e,e.prototype.__class__="egret.BlendMode"}(egret||(egret={})),function(t){var e=function(){function t(){this._name=null,this._explicitHeight=this._explicitWidth=NaN,this._y=this._x=0,this._scaleY=this._scaleX=1,this._rotation=this._anchorY=this._anchorX=this._anchorOffsetY=this._anchorOffsetX=0,this._alpha=1,this._skewY=this._skewX=0,this._blendMode=null,this._touchEnabled=t.defaultTouchEnabled,this._visible=!0,this._worldAlpha=1,this._scrollRect=null,this._cacheAsBitmap=!1,this._stage=this._parent=null,this._needDraw=!1,this._filters=null,this._hasHeightSet=this._hasWidthSet=!1,this._sizeDirty=this._normalDirty=!0,this._isContainer=!1}return t.defaultTouchEnabled=!1,t}();t.DisplayObjectProperties=e,e.prototype.__class__="egret.DisplayObjectProperties"}(egret||(egret={})),function(t){var e=function(){this._hitTestPointTexture=null,this._rectH=this._rectW=0,this._cacheDirty=!1};(egret||(egret={})).DisplayObjectPrivateProperties=e,e.prototype.__class__="egret.DisplayObjectPrivateProperties"}(),function(t){var e=function(e){function i(){e.call(this),this.renderTexture=this.mask=this._sizeChangeCallTarget=this._sizeChangeCallBack=this.__hack_local_matrix=this._worldBounds=this._texture_to_render=null,this._DO_Props_=new t.DisplayObjectProperties,this._DO_Privs_=new t.DisplayObjectPrivateProperties,this._worldTransform=new t.Matrix,this._worldBounds=new t.Rectangle(0,0,0,0),this._DO_Privs_._cacheBounds=new t.Rectangle(0,0,0,0)}__extends(i,e);var n=i.prototype;return n._setDirty=function(){this._DO_Props_._normalDirty=!0},n.getDirty=function(){return this._DO_Props_._normalDirty||this._DO_Props_._sizeDirty},n._setParentSizeDirty=function(){var t=this._DO_Props_._parent;t&&(t._DO_Props_._hasWidthSet||t._DO_Props_._hasHeightSet?t._setCacheDirty():t._setSizeDirty())},n._setSizeDirty=function(){var t=this._DO_Props_;t._sizeDirty||(t._sizeDirty=!0,this._setDirty(),this._setCacheDirty(),this._setParentSizeDirty(),null!=this._sizeChangeCallBack&&(this._sizeChangeCallTarget==t._parent?this._sizeChangeCallBack.call(this._sizeChangeCallTarget):this._sizeChangeCallTarget=this._sizeChangeCallBack=null))},n._clearDirty=function(){this._DO_Props_._normalDirty=!1},n._clearSizeDirty=function(){this._DO_Props_._sizeDirty=!1},Object.defineProperty(n,"name",{get:function(){return this._DO_Props_._name},set:function(t){this._DO_Props_._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"parent",{get:function(){return this._DO_Props_._parent},enumerable:!0,configurable:!0}),n._parentChanged=function(t){this._DO_Props_._parent=t},Object.defineProperty(n,"x",{get:function(){return this._DO_Props_._x},set:function(t){this._setX(t)},enumerable:!0,configurable:!0}),n._setX=function(e){t.NumberUtils.isNumber(e)&&this._DO_Props_._x!=e&&(this._DO_Props_._x=e,this._setDirty(),this._setParentSizeDirty())},Object.defineProperty(n,"y",{get:function(){return this._DO_Props_._y},set:function(t){this._setY(t)},enumerable:!0,configurable:!0}),n._setY=function(e){t.NumberUtils.isNumber(e)&&this._DO_Props_._y!=e&&(this._DO_Props_._y=e,this._setDirty(),this._setParentSizeDirty())},Object.defineProperty(n,"scaleX",{get:function(){return this._DO_Props_._scaleX},set:function(e){t.NumberUtils.isNumber(e)&&this._DO_Props_._scaleX!=e&&(this._DO_Props_._scaleX=e,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"scaleY",{get:function(){return this._DO_Props_._scaleY},set:function(e){t.NumberUtils.isNumber(e)&&this._DO_Props_._scaleY!=e&&(this._DO_Props_._scaleY=e,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"anchorOffsetX",{get:function(){return this._DO_Props_._anchorOffsetX},set:function(e){t.NumberUtils.isNumber(e)&&this._DO_Props_._anchorOffsetX!=e&&(this._DO_Props_._anchorOffsetX=e,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"anchorOffsetY",{get:function(){return this._DO_Props_._anchorOffsetY},set:function(e){t.NumberUtils.isNumber(e)&&this._DO_Props_._anchorOffsetY!=e&&(this._DO_Props_._anchorOffsetY=e,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"anchorX",{get:function(){return this._DO_Props_._anchorX},set:function(t){this._setAnchorX(t)},enumerable:!0,configurable:!0}),n._setAnchorX=function(e){t.NumberUtils.isNumber(e)&&this._DO_Props_._anchorX!=e&&(this._DO_Props_._anchorX=e,this._setDirty(),this._setParentSizeDirty())},Object.defineProperty(n,"anchorY",{get:function(){return this._DO_Props_._anchorY},set:function(t){this._setAnchorY(t)},enumerable:!0,configurable:!0}),n._setAnchorY=function(e){t.NumberUtils.isNumber(e)&&this._DO_Props_._anchorY!=e&&(this._DO_Props_._anchorY=e,this._setDirty(),this._setParentSizeDirty())},Object.defineProperty(n,"visible",{get:function(){return this._DO_Props_._visible},set:function(t){this._setVisible(t)},enumerable:!0,configurable:!0}),n._setVisible=function(t){this._DO_Props_._visible!=t&&(this._DO_Props_._visible=t,this._setSizeDirty())},Object.defineProperty(n,"rotation",{get:function(){return this._DO_Props_._rotation},set:function(e){t.NumberUtils.isNumber(e)&&this._DO_Props_._rotation!=e&&(this._DO_Props_._rotation=e,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"alpha",{get:function(){return this._DO_Props_._alpha},set:function(t){this._setAlpha(t)},enumerable:!0,configurable:!0}),n._setAlpha=function(e){t.NumberUtils.isNumber(e)&&this._DO_Props_._alpha!=e&&(this._DO_Props_._alpha=e,this._setDirty(),this._setCacheDirty())},Object.defineProperty(n,"skewX",{get:function(){return this._DO_Props_._skewX},set:function(e){t.NumberUtils.isNumber(e)&&this._DO_Props_._skewX!=e&&(this._DO_Props_._skewX=e,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"skewY",{get:function(){return this._DO_Props_._skewY},set:function(e){t.NumberUtils.isNumber(e)&&this._DO_Props_._skewY!=e&&(this._DO_Props_._skewY=e,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"touchEnabled",{get:function(){return this._DO_Props_._touchEnabled},set:function(t){this._setTouchEnabled(t)},enumerable:!0,configurable:!0}),n._setTouchEnabled=function(t){this._DO_Props_._touchEnabled=t},Object.defineProperty(n,"blendMode",{get:function(){return this._DO_Props_._blendMode},set:function(t){this._DO_Props_._blendMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"scrollRect",{get:function(){return this._DO_Props_._scrollRect},set:function(t){this._setScrollRect(t)},enumerable:!0,configurable:!0}),n._setScrollRect=function(t){this._DO_Props_._scrollRect=t,this._setSizeDirty()},Object.defineProperty(n,"measuredWidth",{get:function(){return this._measureBounds().width},enumerable:!0,configurable:!0}),Object.defineProperty(n,"measuredHeight",{get:function(){return this._measureBounds().height},enumerable:!0,configurable:!0}),Object.defineProperty(n,"explicitWidth",{get:function(){return this._DO_Props_._explicitWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n,"explicitHeight",{get:function(){return this._DO_Props_._explicitHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n,"width",{get:function(){return this._getWidth()},set:function(t){this._setWidth(t)},enumerable:!0,configurable:!0}),n._getWidth=function(){return this._getSize(t.Rectangle.identity).width},Object.defineProperty(n,"height",{get:function(){return this._getHeight()},set:function(t){this._setHeight(t)},enumerable:!0,configurable:!0}),n._getHeight=function(){return this._getSize(t.Rectangle.identity).height},n._setWidth=function(e){this._setSizeDirty(),this._setCacheDirty(),this._DO_Props_._explicitWidth=e,this._DO_Props_._hasWidthSet=t.NumberUtils.isNumber(e)},n._setHeight=function(e){this._setSizeDirty(),this._setCacheDirty(),this._DO_Props_._explicitHeight=e,this._DO_Props_._hasHeightSet=t.NumberUtils.isNumber(e)},Object.defineProperty(n,"worldAlpha",{get:function(){return this._DO_Props_._worldAlpha},set:function(t){this._DO_Props_._worldAlpha=t},enumerable:!0,configurable:!0}),n._draw=function(e){if(this._DO_Props_._visible&&!this.drawCacheTexture(e)){var i=t.MainContext.__use_new_draw&&this._DO_Props_._isContainer;this._hasFilters()&&!i&&this._setGlobalFilters(e),e.setAlpha(this.worldAlpha,this.blendMode),e.setTransform(this._worldTransform);var n=this.mask||this._DO_Props_._scrollRect;n&&!i&&e.pushMask(n),this._render(e),n&&!i&&e.popMask(),this._hasFilters()&&!i&&this._removeGlobalFilters(e)}this.destroyCacheBounds()},n._setGlobalFilters=function(t){var e;if(e=this._DO_Props_._filters?this._DO_Props_._filters.concat():[],this._transform){var n=this._transform._colorTransform,s=i.color;s[0]=n._redMultiplier,s[4]=n._redOffset,s[6]=n._greenMultiplier,s[9]=n._greenOffset,s[12]=n._blueMultiplier,s[14]=n._blueOffset,s[18]=n._alphaMultiplier,s[19]=n._alphaOffset,i.colorMatrixFilter._matrix=s,e.push(i.colorMatrixFilter)}t.setGlobalFilters(e)},n._removeGlobalFilters=function(t){t.setGlobalFilters(null)},n._hasFilters=function(){var t=this._DO_Props_._filters&&0<this._DO_Props_._filters.length;if(this._transform){var e=this._transform._colorTransform;1==e._redMultiplier&&0==e._redOffset&&1==e._greenMultiplier&&0==e._greenOffset&&1==e._blueMultiplier&&0==e._blueOffset&&1==e._alphaMultiplier&&0==e._alphaOffset||(t=!0)}return t},n._pushMask=function(t){t.setTransform(this._worldTransform);var e=this.mask||this._DO_Props_._scrollRect;e&&t.pushMask(e)},n._popMask=function(t){t.popMask()},n.drawCacheTexture=function(e){if(0==this._DO_Props_._cacheAsBitmap)return!1;i=this.getBounds(t.Rectangle.identity);if((this._DO_Privs_._cacheDirty||null==this._texture_to_render||1<=Math.round(i.width)-this._texture_to_render._textureWidth||1<=Math.round(i.height)-this._texture_to_render._textureHeight)&&(i=this._makeBitmapCache(),this._DO_Privs_._cacheDirty=!i),null==this._texture_to_render)return!1;var i=(r=this._texture_to_render)._offsetX,n=r._offsetY,s=r._textureWidth,r=r._textureHeight;return this._updateTransform(),e.setAlpha(this.worldAlpha,this.blendMode),e.setTransform(this._worldTransform),t.RenderFilter.getInstance().drawImage(e,this,0,0,s,r,i,n,s,r),!0},Object.defineProperty(n,"needDraw",{get:function(){return this._DO_Props_._needDraw},set:function(t){this._DO_Props_._needDraw=t},enumerable:!0,configurable:!0}),n._updateTransform=function(){var e=this._DO_Props_;e._visible&&(this._calculateWorldTransform(),"updateTransform"==t.MainContext._renderLoopPhase&&(this.needDraw||this._texture_to_render||e._cacheAsBitmap)&&t.RenderCommand.push(this._draw,this))},n._calculateWorldTransform=function(){var t=this._DO_Props_,e=this._worldTransform,i=t._parent;e.identityMatrix(i._worldTransform),this._getMatrix(e);var n=t._scrollRect;n&&e.append(1,0,0,1,-n.x,-n.y),this.worldAlpha=i.worldAlpha*t._alpha},n._render=function(t){},n.getBounds=function(e,i){void 0===i&&(i=!0);var n=this._DO_Props_,s=this._DO_Privs_,r=this._measureBounds(),a=n._hasWidthSet?n._explicitWidth:r.width,o=n._hasHeightSet?n._explicitHeight:r.height;s._rectW=r.width,s._rectH=r.height,this._clearSizeDirty();var h=r.x,r=r.y,l=0,u=0;return i&&(0!=n._anchorX||0!=n._anchorY?(l=a*n._anchorX,u=o*n._anchorY):(l=n._anchorOffsetX,u=n._anchorOffsetY)),s._cacheBounds.initialize(h-l,r-u,a,o),n=s._cacheBounds,e||(e=new t.Rectangle),e.initialize(n.x,n.y,n.width,n.height)},n.destroyCacheBounds=function(){var t=this._DO_Privs_;t._cacheBounds.x=0,t._cacheBounds.y=0,t._cacheBounds.width=0,t._cacheBounds.height=0},n._getConcatenatedMatrix=function(){for(var e=i.identityMatrixForGetConcatenated.identity(),n=this;null!=n;){var s=n._DO_Props_;0!=s._anchorX||0!=s._anchorY?(n=n._getSize(t.Rectangle.identity),e.prependTransform(s._x,s._y,s._scaleX,s._scaleY,s._rotation,s._skewX,s._skewY,n.width*s._anchorX,n.height*s._anchorY)):e.prependTransform(s._x,s._y,s._scaleX,s._scaleY,s._rotation,s._skewX,s._skewY,s._anchorOffsetX,s._anchorOffsetY),s._scrollRect&&e.prepend(1,0,0,1,-s._scrollRect.x,-s._scrollRect.y),n=s._parent}return e},n.localToGlobal=function(e,i,n){void 0===e&&(e=0),void 0===i&&(i=0);var s=this._getConcatenatedMatrix();return s.append(1,0,0,1,e,i),n||(n=new t.Point),n.x=s.tx,n.y=s.ty,n},n.globalToLocal=function(e,i,n){void 0===e&&(e=0),void 0===i&&(i=0);var s=this._getConcatenatedMatrix();return s.invert(),s.append(1,0,0,1,e,i),n||(n=new t.Point),n.x=s.tx,n.y=s.ty,n},n.hitTest=function(e,i,n){void 0===n&&(n=!1);var s=this._DO_Props_;return s._visible&&(n||s._touchEnabled)?(n=this.getBounds(t.Rectangle.identity,!1),e-=n.x,i-=n.y,0<=e&&e<n.width&&0<=i&&i<n.height?this.mask||s._scrollRect?s._scrollRect&&e>s._scrollRect.x&&i>s._scrollRect.y&&e<s._scrollRect.x+s._scrollRect.width&&i<s._scrollRect.y+s._scrollRect.height||this.mask&&this.mask.x<=e&&e<this.mask.x+this.mask.width&&this.mask.y<=i&&i<this.mask.y+this.mask.height?this:null:this:null):null},n.hitTestPoint=function(e,i,n){var s=this._DO_Privs_;return e=this.globalToLocal(e,i),n?(s._hitTestPointTexture||(s._hitTestPointTexture=new t.RenderTexture),(n=s._hitTestPointTexture).drawToTexture(this),0!=n.getPixel32(e.x-s._hitTestPointTexture._offsetX,e.y-s._hitTestPointTexture._offsetY)[3]):!!this.hitTest(e.x,e.y,!0)},n._getMatrix=function(e){e||(e=t.Matrix.identity.identity());var i,n,s=this._DO_Props_;i=(n=this._getOffsetPoint()).x,n=n.y;var r=this.__hack_local_matrix;return r?(e.append(r.a,r.b,r.c,r.d,r.tx,r.ty),e.append(1,0,0,1,-i,-n)):e.appendTransform(s._x,s._y,s._scaleX,s._scaleY,s._rotation,s._skewX,s._skewY,i,n),e},n._getSize=function(t){var e=this._DO_Props_;return e._hasHeightSet&&e._hasWidthSet?(this._clearSizeDirty(),t.initialize(0,0,e._explicitWidth,e._explicitHeight)):(this._measureSize(t),e._hasWidthSet&&(t.width=e._explicitWidth),e._hasHeightSet&&(t.height=e._explicitHeight),t)},n._measureSize=function(t){var e=this._DO_Privs_;return this._DO_Props_._sizeDirty?(t=this._measureBounds(),e._rectW=t.width,e._rectH=t.height,this._clearSizeDirty()):(t.width=e._rectW,t.height=e._rectH),t.x=0,t.y=0,t},n._measureBounds=function(){return t.Rectangle.identity.initialize(0,0,0,0)},n._getOffsetPoint=function(){var e=this._DO_Props_,i=e._anchorOffsetX,n=e._anchorOffsetY;return 0==e._anchorX&&0==e._anchorY||(n=this._getSize(t.Rectangle.identity),i=e._anchorX*n.width,n=e._anchorY*n.height),e=t.Point.identity,e.x=i,e.y=n,e},n._onAddToStage=function(){this._DO_Props_._stage=t.MainContext.instance.stage,t.DisplayObjectContainer.__EVENT__ADD_TO_STAGE_LIST.push(this)},n._onRemoveFromStage=function(){t.DisplayObjectContainer.__EVENT__REMOVE_FROM_STAGE_LIST.push(this)},Object.defineProperty(n,"stage",{get:function(){return this._DO_Props_._stage},enumerable:!0,configurable:!0}),n.addEventListener=function(n,s,r,a,o){void 0===a&&(a=!1),void 0===o&&(o=0),e.prototype.addEventListener.call(this,n,s,r,a,o),((a=n==t.Event.ENTER_FRAME)||n==t.Event.RENDER)&&this._insertEventBin(a?i._enterFrameCallBackList:i._renderCallBackList,s,r,o,this)},n.removeEventListener=function(n,s,r,a){void 0===a&&(a=!1),e.prototype.removeEventListener.call(this,n,s,r,a),((a=n==t.Event.ENTER_FRAME)||n==t.Event.RENDER)&&this._removeEventBin(a?i._enterFrameCallBackList:i._renderCallBackList,s,r,this)},n.dispatchEvent=function(t){if(!t._bubbles)return e.prototype.dispatchEvent.call(this,t);for(var i=[],n=this;n;)i.push(n),n=n._DO_Props_._parent;return t._reset(),this._dispatchPropagationEvent(t,i),!t._isDefaultPrevented},n._dispatchPropagationEvent=function(t,e,i){for(var n=1,s=(i=e.length)-1;0<=s;s--){var r=e[s];if(t._currentTarget=r,t._target=this,t._eventPhase=n,r._notifyListener(t),t._isPropagationStopped||t._isPropagationImmediateStopped)return}if(r=e[0],t._currentTarget=r,t._target=this,t._eventPhase=2,r._notifyListener(t),!t._isPropagationStopped&&!t._isPropagationImmediateStopped)for(n=3,s=1;s<i&&(r=e[s],t._currentTarget=r,t._target=this,t._eventPhase=n,r._notifyListener(t),!t._isPropagationStopped&&!t._isPropagationImmediateStopped);s++);},n.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e._DO_Props_._parent}return!1},Object.defineProperty(n,"cacheAsBitmap",{get:function(){return this._DO_Props_._cacheAsBitmap},set:function(e){(this._DO_Props_._cacheAsBitmap=e)?t.callLater(this._makeBitmapCache,this):this._texture_to_render=null},enumerable:!0,configurable:!0}),n._makeBitmapCache=function(){this.renderTexture||(this.renderTexture=new t.RenderTexture);var e=this.renderTexture.drawToTexture(this);return this._texture_to_render=e?this.renderTexture:null,e},n._setCacheDirty=function(t){void 0===t&&(t=!0),this._DO_Privs_._cacheDirty=t},i.getTransformBounds=function(t,e){var i=t.x,n=t.y,s=t.width,r=t.height;(i||n)&&e.appendTransform(0,0,1,1,0,0,0,-i,-n);var a=s*e.a,s=s*e.b,o=r*e.c,r=r*e.d,h=e.tx,l=e.ty,u=h,c=h,_=l,d=l;return(i=a+h)<u?u=i:i>c&&(c=i),(i=a+o+h)<u?u=i:i>c&&(c=i),(i=o+h)<u?u=i:i>c&&(c=i),(n=s+l)<_?_=n:n>d&&(d=n),(n=s+r+l)<_?_=n:n>d&&(d=n),(n=r+l)<_?_=n:n>d&&(d=n),t.initialize(u,_,c-u,d-_)},Object.defineProperty(n,"filters",{get:function(){return this._DO_Props_._filters},set:function(t){this._DO_Props_._filters=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"transform",{get:function(){return this._transform||(this._transform=new t.Transform(this)),this._transform},enumerable:!0,configurable:!0}),i.color=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],i.colorMatrixFilter=new t.ColorMatrixFilter,i.identityMatrixForGetConcatenated=new t.Matrix,i._enterFrameCallBackList=[],i._renderCallBackList=[],i}(t.EventDispatcher);t.DisplayObject=e,e.prototype.__class__="egret.DisplayObject"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this._touchChildren=!0,this._children=[],this._DO_Props_._isContainer=!0}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"touchChildren",{get:function(){return this._touchChildren},set:function(t){this._touchChildren=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"numChildren",{get:function(){return this._children.length},enumerable:!0,configurable:!0}),n.setChildIndex=function(t,e){this.doSetChildIndex(t,e)},n.doSetChildIndex=function(e,i){var n=this._children.indexOf(e);0>n&&t.Logger.fatalWithErrorId(1006),this._children.splice(n,1),0>i||this._children.length<=i?this._children.push(e):this._children.splice(i,0,e)},n.addChild=function(t){var e=this._children.length;return t.parent==this&&e--,this._doAddChild(t,e)},n.addChildAt=function(t,e){return this._doAddChild(t,e)},n._doAddChild=function(e,n,s){if(void 0===s&&(s=!0),e==this)return e;if(0>n||n>this._children.length)return t.Logger.fatalWithErrorId(1007),e;var r=e.parent;if(r==this)return this.doSetChildIndex(e,n),e;if(r){var a=r._children.indexOf(e);0<=a&&r._doRemoveChild(a)}if(this._children.splice(n,0,e),e._parentChanged(this),s&&e.dispatchEventWith(t.Event.ADDED,!0),this._DO_Props_._stage)for(e._onAddToStage(),n=i.__EVENT__ADD_TO_STAGE_LIST;0<n.length;)r=n.shift(),s&&r.dispatchEventWith(t.Event.ADDED_TO_STAGE);return e._setDirty(),this._setSizeDirty(),e},n.removeChild=function(e){return 0<=(e=this._children.indexOf(e))?this._doRemoveChild(e):(t.Logger.fatalWithErrorId(1008),null)},n.removeChildAt=function(e){return 0<=e&&e<this._children.length?this._doRemoveChild(e):(t.Logger.fatalWithErrorId(1007),null)},n._doRemoveChild=function(e,n){void 0===n&&(n=!0);var s=this._children,r=s[e];if(n&&r.dispatchEventWith(t.Event.REMOVED,!0),this._DO_Props_._stage){r._onRemoveFromStage();for(var a=i.__EVENT__REMOVE_FROM_STAGE_LIST;0<a.length;){var o=a.shift();n&&o.dispatchEventWith(t.Event.REMOVED_FROM_STAGE),o._DO_Props_._stage=null}}return r._parentChanged(null),s.splice(e,1),this._setSizeDirty(),r},n.getChildAt=function(e){return 0<=e&&e<this._children.length?this._children[e]:(t.Logger.fatalWithErrorId(1007),null)},n.contains=function(t){for(;t;){if(t==this)return!0;t=t.parent}return!1},n.swapChildrenAt=function(e,i){0<=e&&e<this._children.length&&0<=i&&i<this._children.length?this._swapChildrenAt(e,i):t.Logger.fatalWithErrorId(1007)},n.swapChildren=function(e,i){var n=this._children.indexOf(e),s=this._children.indexOf(i);-1==n||-1==s?t.Logger.fatalWithErrorId(1008):this._swapChildrenAt(n,s)},n._swapChildrenAt=function(t,e){if(t!=e){var i=this._children,n=i[t];i[t]=i[e],i[e]=n}},n.getChildIndex=function(t){return this._children.indexOf(t)},n.removeChildren=function(){for(var t=this._children.length-1;0<=t;t--)this._doRemoveChild(t)},n._updateTransform=function(){if(this._DO_Props_._visible){this._hasFilters()&&t.RenderCommand.push(this._setGlobalFilters,this);var i=this.mask||this._DO_Props_._scrollRect;if(i&&t.RenderCommand.push(this._pushMask,this),e.prototype._updateTransform.call(this),!this._DO_Props_._cacheAsBitmap||!this._texture_to_render)for(var n=0,s=this._children,r=s.length;n<r;n++)s[n]._updateTransform();i&&t.RenderCommand.push(this._popMask,this),this._hasFilters()&&t.RenderCommand.push(this._removeGlobalFilters,this)}},n._render=function(e){if(!t.MainContext.__use_new_draw)for(var i=0,n=this._children,s=n.length;i<s;i++)n[i]._draw(e)},n._measureBounds=function(){for(var e=0,i=0,n=0,s=0,r=this._children,a=r.length,o=0;o<a;o++){if((_=r[o]).visible){var h=(c=_.getBounds(t.Rectangle.identity,!1)).x,l=c.y,u=c.width,c=c.height,_=_._getMatrix(),h=(_=t.DisplayObject.getTransformBounds(t.Rectangle.identity.initialize(h,l,u,c),_)).x,l=_.y,u=_.width+_.x,_=_.height+_.y;(h<e||0==o)&&(e=h),(u>i||0==o)&&(i=u),(l<n||0==o)&&(n=l),(_>s||0==o)&&(s=_)}}return t.Rectangle.identity.initialize(e,n,i-e,s-n)},n.hitTest=function(i,n,s){void 0===s&&(s=!1);var r;if(!this._DO_Props_._visible)return null;if(this._DO_Props_._scrollRect){if(i<this._DO_Props_._scrollRect.x||n<this._DO_Props_._scrollRect.y||i>this._DO_Props_._scrollRect.x+this._DO_Props_._scrollRect.width||n>this._DO_Props_._scrollRect.y+this._DO_Props_._scrollRect.height)return null}else if(this.mask&&(this.mask.x>i||i>this.mask.x+this.mask.width||this.mask.y>n||n>this.mask.y+this.mask.height))return null;for(var a=this._children,o=this._touchChildren,h=a.length-1;0<=h;h--){var l=a[h],u=l._getMatrix(),c=l.scrollRect;if(c&&u.append(1,0,0,1,-c.x,-c.y),u.invert(),u=t.Matrix.transformCoords(u,i,n),l=l.hitTest(u.x,u.y,!0)){if(!o)return this;if(l._DO_Props_._touchEnabled&&o)return l;r=this}}return r||(this._texture_to_render?e.prototype.hitTest.call(this,i,n,s):null)},n._onAddToStage=function(){e.prototype._onAddToStage.call(this);for(var t=this._children.length,i=0;i<t;i++)this._children[i]._onAddToStage()},n._onRemoveFromStage=function(){e.prototype._onRemoveFromStage.call(this);for(var t=this._children,i=t.length,n=0;n<i;n++)t[n]._onRemoveFromStage()},n.getChildByName=function(t){for(var e,i=this._children,n=i.length,s=0;s<n;s++)if((e=i[s]).name==t)return e;return null},i.__EVENT__ADD_TO_STAGE_LIST=[],i.__EVENT__REMOVE_FROM_STAGE_LIST=[],i}(t.DisplayObject);t.DisplayObjectContainer=e,e.prototype.__class__="egret.DisplayObjectContainer"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.NO_BORDER="noBorder",t.NO_SCALE="noScale",t.SHOW_ALL="showAll",t.EXACT_FIT="exactFit",t}();t.StageScaleMode=e,e.prototype.__class__="egret.StageScaleMode"}(egret||(egret={})),function(t){var e=function(e){function i(t,i){void 0===t&&(t=480),void 0===i&&(i=800),e.call(this),this._changeSizeDispatchFlag=!0,this._scaleMode="",this._stageHeight=this._stageWidth=NaN,this.touchEnabled=!0,this._DO_Props_._stage=this,this._stageWidth=t,this._stageHeight=i}__extends(i,e);var n=i.prototype;return n.invalidate=function(){i._invalidateRenderFlag=!0},Object.defineProperty(n,"scaleMode",{get:function(){return this._scaleMode},set:function(t){this._scaleMode!=t&&(this._scaleMode=t,this.setResolutionPolicy())},enumerable:!0,configurable:!0}),n.changeSize=function(){this._changeSizeDispatchFlag&&(this.setResolutionPolicy(),this.dispatchEventWith(t.Event.RESIZE))},n.setResolutionPolicy=function(){if(!(n=i.SCALE_MODE_ENUM[this._scaleMode]))throw Error(t.getString(1024));var e=new t.EqualToFrame,n=new t.ResolutionPolicy(e,n);t.StageDelegate.getInstance()._setResolutionPolicy(n),this._stageWidth=t.StageDelegate.getInstance()._stageWidth,this._stageHeight=t.StageDelegate.getInstance()._stageHeight},Object.defineProperty(n,"stageWidth",{get:function(){return this._stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n,"stageHeight",{get:function(){return this._stageHeight},enumerable:!0,configurable:!0}),n.hitTest=function(e,i,n){if(!this._DO_Props_._touchEnabled)return null;var s;if(!this._touchChildren)return this;for(var r=(n=this._children).length-1;0<=r;r--){var a=(s=n[r])._getMatrix(),o=s.scrollRect;if(o&&a.append(1,0,0,1,-o.x,-o.y),a.invert(),a=t.Matrix.transformCoords(a,e,i),(s=s.hitTest(a.x,a.y,!0))&&s.touchEnabled)return s}return this},n.getBounds=function(e){return e||(e=new t.Rectangle),e.initialize(0,0,this._stageWidth,this._stageHeight)},n._updateTransform=function(){for(var t=0,e=this._children.length;t<e;t++)this._children[t]._updateTransform()},Object.defineProperty(n,"focus",{get:function(){return null},enumerable:!0,configurable:!0}),i.registerScaleMode=function(e,n,s){i.SCALE_MODE_ENUM[e]&&!s?t.Logger.warningWithErrorId(1009,e):i.SCALE_MODE_ENUM[e]=n},i._invalidateRenderFlag=!1,i.SCALE_MODE_ENUM={},i}(t.DisplayObjectContainer);t.Stage=e,e.prototype.__class__="egret.Stage"}(egret||(egret={})),egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.NO_SCALE]=new egret.NoScale,egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.SHOW_ALL]=new egret.ShowAll,egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.NO_BORDER]=new egret.FixedWidth,egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.EXACT_FIT]=new egret.FullScreen,function(t){var e=function(){this._horizontalScrollPolicy=this._verticalScrollPolicy="auto",this._scrollTop=this._scrollLeft=0,this._vCanScroll=this._hCanScroll=!1,this._lastTouchPosition=new t.Point(0,0),this._touchStartPosition=new t.Point(0,0),this._scrollStarted=!1,this._lastTouchTime=0,this._lastTouchEvent=null,this._velocitys=[],this._isVTweenPlaying=this._isHTweenPlaying=!1,this._vScrollTween=this._hScrollTween=null};t.ScrollViewProperties=e,e.prototype.__class__="egret.ScrollViewProperties"}(egret||(egret={})),function(t){var e=function(e){function i(i){void 0===i&&(i=null),e.call(this),this.scrollBeginThreshold=10,this.scrollSpeed=1,this.touchBeginTimer=this.delayTouchBeginEvent=this._content=null,this.touchEnabled=!0,this._ScrV_Props_=new t.ScrollViewProperties,i&&this.setContent(i)}__extends(i,e);var n=i.prototype;return n.setContent=function(t){this._content!==t&&(this.removeContent(),t&&(this._content=t,e.prototype.addChild.call(this,t),this._addEvents()))},n.removeContent=function(){this._content&&(this._removeEvents(),e.prototype.removeChildAt.call(this,0)),this._content=null},Object.defineProperty(n,"verticalScrollPolicy",{get:function(){return this._ScrV_Props_._verticalScrollPolicy},set:function(t){t!=this._ScrV_Props_._verticalScrollPolicy&&(this._ScrV_Props_._verticalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"horizontalScrollPolicy",{get:function(){return this._ScrV_Props_._horizontalScrollPolicy},set:function(t){t!=this._ScrV_Props_._horizontalScrollPolicy&&(this._ScrV_Props_._horizontalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"scrollLeft",{get:function(){return this._ScrV_Props_._scrollLeft},set:function(t){t!=this._ScrV_Props_._scrollLeft&&(this._ScrV_Props_._scrollLeft=t,this._validatePosition(!1,!0),this._updateContentPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"scrollTop",{get:function(){return this._ScrV_Props_._scrollTop},set:function(t){t!=this._ScrV_Props_._scrollTop&&(this._ScrV_Props_._scrollTop=t,this._validatePosition(!0,!1),this._updateContentPosition())},enumerable:!0,configurable:!0}),n.setScrollPosition=function(t,e,i){if(void 0===i&&(i=!1),(!i||0!=t||0!=e)&&(i||this._ScrV_Props_._scrollTop!=t||this._ScrV_Props_._scrollLeft!=e)){if(i){i=this._isOnTheEdge(!0);var n=this._isOnTheEdge(!1);this._ScrV_Props_._scrollTop+=i?t/2:t,this._ScrV_Props_._scrollLeft+=n?e/2:e}else this._ScrV_Props_._scrollTop=t,this._ScrV_Props_._scrollLeft=e;this._validatePosition(!0,!0),this._updateContentPosition()}},n._isOnTheEdge=function(t){void 0===t&&(t=!0);var e=this._ScrV_Props_._scrollTop,i=this._ScrV_Props_._scrollLeft;return t?0>e||e>this.getMaxScrollTop():0>i||i>this.getMaxScrollLeft()},n._validatePosition=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),t){var i=this.height,n=this._getContentHeight();this._ScrV_Props_._scrollTop=Math.max(this._ScrV_Props_._scrollTop,(0-i)/2),this._ScrV_Props_._scrollTop=Math.min(this._ScrV_Props_._scrollTop,n>i?n-i/2:i/2)}e&&(i=this.width,n=this._getContentWidth(),this._ScrV_Props_._scrollLeft=Math.max(this._ScrV_Props_._scrollLeft,(0-i)/2),this._ScrV_Props_._scrollLeft=Math.min(this._ScrV_Props_._scrollLeft,n>i?n-i/2:i/2))},n._setWidth=function(t){this._DO_Props_._explicitWidth!=t&&(e.prototype._setWidth.call(this,t),this._updateContentPosition())},n._setHeight=function(t){this._DO_Props_._explicitHeight!=t&&(e.prototype._setHeight.call(this,t),this._updateContentPosition())},n._updateContentPosition=function(){var e=this.getBounds(t.Rectangle.identity);this.scrollRect=new t.Rectangle(this._ScrV_Props_._scrollLeft,this._ScrV_Props_._scrollTop,e.width,e.height),this.dispatchEvent(new t.Event(t.Event.CHANGE))},n._checkScrollPolicy=function(){var t=this.__checkScrollPolicy(this._ScrV_Props_._horizontalScrollPolicy,this._getContentWidth(),this.width);this._ScrV_Props_._hCanScroll=t;var e=this.__checkScrollPolicy(this._ScrV_Props_._verticalScrollPolicy,this._getContentHeight(),this.height);return this._ScrV_Props_._vCanScroll=e,t||e},n.__checkScrollPolicy=function(t,e,i){return"on"==t||"off"!=t&&e>i},n._addEvents=function(){this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},n._removeEvents=function(){this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},n._onTouchBegin=function(e){!e._isDefaultPrevented&&this._checkScrollPolicy()&&(this._ScrV_Props_._touchStartPosition.x=e.stageX,this._ScrV_Props_._touchStartPosition.y=e.stageY,(this._ScrV_Props_._isHTweenPlaying||this._ScrV_Props_._isVTweenPlaying)&&this._onScrollFinished(),this.stage.addEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this.stage.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),this.stage.addEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.addEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._logTouchEvent(e),e.preventDefault())},n._onTouchBeginCapture=function(e){var i=this._checkScrollPolicy();if(i){for(var n=e.target;n!=this;){if("_checkScrollPolicy"in n&&(i=n._checkScrollPolicy()))return;n=n.parent}e.stopPropagation(),this.delayTouchBeginEvent=this.cloneTouchEvent(e),this.touchBeginTimer||(this.touchBeginTimer=new t.Timer(100,1),this.touchBeginTimer.addEventListener(t.TimerEvent.TIMER_COMPLETE,this._onTouchBeginTimer,this)),this.touchBeginTimer.start(),this._onTouchBegin(e)}},n._onTouchEndCapture=function(t){this.delayTouchBeginEvent&&this._onTouchBeginTimer()},n._onTouchBeginTimer=function(){this.touchBeginTimer.stop();var t=this.delayTouchBeginEvent;this.delayTouchBeginEvent=null,this.stage&&this.dispatchPropagationEvent(t)},n.dispatchPropagationEvent=function(t){for(var e=[],i=t._target,n=0;i;)i==this&&(n=e.length),e.push(i),i=i.parent;e=(i=(i=e.slice(0,n)).reverse()).concat(e),this._dispatchPropagationEvent(t,e,n)},n._dispatchPropagationEvent=function(t,e,i){for(var n=e.length,s=0;s<n;s++){var r=e[s];if(t._currentTarget=r,t._eventPhase=s<i?1:s==i?2:3,r._notifyListener(t),t._isPropagationStopped||t._isPropagationImmediateStopped)break}},n._onTouchMove=function(t){if(this._ScrV_Props_._lastTouchPosition.x!=t.stageX||this._ScrV_Props_._lastTouchPosition.y!=t.stageY){if(!this._ScrV_Props_._scrollStarted){var e=t.stageX-this._ScrV_Props_._touchStartPosition.x,i=t.stageY-this._ScrV_Props_._touchStartPosition.y;if(Math.sqrt(e*e+i*i)<this.scrollBeginThreshold)return void this._logTouchEvent(t)}this._ScrV_Props_._scrollStarted=!0,this.delayTouchBeginEvent&&(this.delayTouchBeginEvent=null,this.touchBeginTimer.stop()),this.touchChildren=!1,e=this._getPointChange(t),this.setScrollPosition(e.y,e.x,!0),this._calcVelocitys(t),this._logTouchEvent(t)}},n._onTouchEnd=function(e){this.touchChildren=!0,this._ScrV_Props_._scrollStarted=!1,t.MainContext.instance.stage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),t.MainContext.instance.stage.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),t.MainContext.instance.stage.removeEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.removeEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._moveAfterTouchEnd()},n._onEnterFrame=function(e){100<(e=t.getTimer())-this._ScrV_Props_._lastTouchTime&&300>e-this._ScrV_Props_._lastTouchTime&&this._calcVelocitys(this._ScrV_Props_._lastTouchEvent)},n._logTouchEvent=function(e){this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY,this._ScrV_Props_._lastTouchEvent=this.cloneTouchEvent(e),this._ScrV_Props_._lastTouchTime=t.getTimer()},n._getPointChange=function(t){return{x:!1===this._ScrV_Props_._hCanScroll?0:this._ScrV_Props_._lastTouchPosition.x-t.stageX,y:!1===this._ScrV_Props_._vCanScroll?0:this._ScrV_Props_._lastTouchPosition.y-t.stageY}},n._calcVelocitys=function(e){n=t.getTimer();if(0==this._ScrV_Props_._lastTouchTime)this._ScrV_Props_._lastTouchTime=n;else{var i=this._getPointChange(e),n=n-this._ScrV_Props_._lastTouchTime;i.x/=n,i.y/=n,this._ScrV_Props_._velocitys.push(i),5<this._ScrV_Props_._velocitys.length&&this._ScrV_Props_._velocitys.shift(),this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY}},n._getContentWidth=function(){return this._content.explicitWidth||this._content.width},n._getContentHeight=function(){return this._content.explicitHeight||this._content.height},n.getMaxScrollLeft=function(){var t=this._getContentWidth()-this.width;return Math.max(0,t)},n.getMaxScrollTop=function(){var t=this._getContentHeight()-this.height;return Math.max(0,t)},n._moveAfterTouchEnd=function(){if(0!=this._ScrV_Props_._velocitys.length){for(var t=0,e=0,n=0,s=0;s<this._ScrV_Props_._velocitys.length;s++)var r=this._ScrV_Props_._velocitys[s],a=i.weight[s],t=t+r.x*a,e=e+r.y*a,n=n+a;this._ScrV_Props_._velocitys.length=0,0>=this.scrollSpeed&&(this.scrollSpeed=1),t=t/n*this.scrollSpeed,e=e/n*this.scrollSpeed,r=Math.abs(t),n=Math.abs(e),a=this.getMaxScrollLeft(),s=this.getMaxScrollTop(),t=.02<r?this.getAnimationDatas(t,this._ScrV_Props_._scrollLeft,a):{position:this._ScrV_Props_._scrollLeft,duration:1},e=.02<n?this.getAnimationDatas(e,this._ScrV_Props_._scrollTop,s):{position:this._ScrV_Props_._scrollTop,duration:1},this.setScrollLeft(t.position,t.duration),this.setScrollTop(e.position,e.duration)}},n._onTweenFinished=function(t){t==this._ScrV_Props_._vScrollTween&&(this._ScrV_Props_._isVTweenPlaying=!1),t==this._ScrV_Props_._hScrollTween&&(this._ScrV_Props_._isHTweenPlaying=!1),0==this._ScrV_Props_._isHTweenPlaying&&0==this._ScrV_Props_._isVTweenPlaying&&this._onScrollFinished()},n._onScrollStarted=function(){},n._onScrollFinished=function(){t.Tween.removeTweens(this),this._ScrV_Props_._hScrollTween=null,this._ScrV_Props_._vScrollTween=null,this._ScrV_Props_._isHTweenPlaying=!1,this._ScrV_Props_._isVTweenPlaying=!1,this.dispatchEvent(new t.Event(t.Event.COMPLETE))},n.setScrollTop=function(e,i){void 0===i&&(i=0);var n=Math.min(this.getMaxScrollTop(),Math.max(e,0));if(0==i)return this.scrollTop=n,null;var s=t.Tween.get(this).to({scrollTop:e},i,t.Ease.quartOut);return n!=e&&s.to({scrollTop:n},300,t.Ease.quintOut),this._ScrV_Props_._isVTweenPlaying=!0,this._ScrV_Props_._vScrollTween=s,s.call(this._onTweenFinished,this,[s]),this._ScrV_Props_._isHTweenPlaying||this._onScrollStarted(),s},n.setScrollLeft=function(e,i){void 0===i&&(i=0);var n=Math.min(this.getMaxScrollLeft(),Math.max(e,0));if(0==i)return this.scrollLeft=n,null;var s=t.Tween.get(this).to({scrollLeft:e},i,t.Ease.quartOut);return n!=e&&s.to({scrollLeft:n},300,t.Ease.quintOut),this._ScrV_Props_._isHTweenPlaying=!0,this._ScrV_Props_._hScrollTween=s,s.call(this._onTweenFinished,this,[s]),this._ScrV_Props_._isVTweenPlaying||this._onScrollStarted(),s},n.getAnimationDatas=function(t,e,i){var n=Math.abs(t),s=0,r=e+500*t;if(0>r||r>i)for(r=e;1/0!=Math.abs(t)&&.02<Math.abs(t);)r+=t,t=0>r||r>i?.998*t*.95:.998*t,s++;else s=500*-Math.log(.02/n);return{position:Math.min(i+50,Math.max(r,-50)),duration:s}},n.cloneTouchEvent=function(e){var i=new t.TouchEvent(e._type,e._bubbles,e.cancelable);return i.touchPointID=e.touchPointID,i._stageX=e._stageX,i._stageY=e._stageY,i.ctrlKey=e.ctrlKey,i.altKey=e.altKey,i.shiftKey=e.shiftKey,i.touchDown=e.touchDown,i._isDefaultPrevented=!1,i._target=e._target,i},n.throwNotSupportedError=function(){throw Error(t.getString(1023))},n.addChild=function(t){return this.throwNotSupportedError(),null},n.addChildAt=function(t,e){return this.throwNotSupportedError(),null},n.removeChild=function(t){return this.throwNotSupportedError(),null},n.removeChildAt=function(t){return this.throwNotSupportedError(),null},n.setChildIndex=function(t,e){this.throwNotSupportedError()},n.swapChildren=function(t,e){this.throwNotSupportedError()},n.swapChildrenAt=function(t,e){this.throwNotSupportedError()},n.hitTest=function(i,n,s){void 0===s&&(s=!1);var r=e.prototype.hitTest.call(this,i,n,s);return r||t.DisplayObject.prototype.hitTest.call(this,i,n,s)},i.weight=[1,1.33,1.66,2,2.33],i}(t.DisplayObjectContainer);t.ScrollView=e,e.prototype.__class__="egret.ScrollView"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.REPEAT="repeat",t.SCALE="scale",t}();t.BitmapFillMode=e,e.prototype.__class__="egret.BitmapFillMode"}(egret||(egret={})),function(t){var e=function(e){function i(t){e.call(this),this.scale9Grid=this._texture=null,this.fillMode="scale",t&&(this._texture=t,this._setSizeDirty()),this.needDraw=!0}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"texture",{get:function(){return this._texture},set:function(t){t!=this._texture&&(this._setSizeDirty(),this._texture=t)},enumerable:!0,configurable:!0}),n._render=function(t){var e=this._texture;e?(this._texture_to_render=e,i._drawBitmap(t,this._DO_Props_._hasWidthSet?this._DO_Props_._explicitWidth:e._textureWidth,this._DO_Props_._hasHeightSet?this._DO_Props_._explicitHeight:e._textureHeight,this)):this._texture_to_render=null},i._drawBitmap=function(t,e,n,s){var r=s._texture_to_render;if(r){var a=r._textureWidth,o=r._textureHeight;if("scale"==s.fillMode){if((h=s.scale9Grid||r.scale9Grid)&&a-h.width<e&&o-h.height<n)i.drawScale9GridImage(t,s,h,e,n);else{var h=r._offsetX,l=r._offsetY,u=r._bitmapWidth||a,c=r._bitmapHeight||o;e/=a,h=Math.round(h*e),e=Math.round(u*e),n/=o,l=Math.round(l*n),n=Math.round(c*n),i.renderFilter.drawImage(t,s,r._bitmapX,r._bitmapY,u,c,h,l,e,n)}}else i.drawRepeatImage(t,s,e,n,s.fillMode)}},i.drawRepeatImage=function(e,i,n,s,r){if(c=i._texture_to_render){var a=c._textureWidth,o=c._textureHeight,h=c._bitmapX,l=c._bitmapY,a=c._bitmapWidth||a,o=c._bitmapHeight||o,u=c._offsetX,c=c._offsetY;t.RenderFilter.getInstance().drawImage(e,i,h,l,a,o,u,c,n,s,r)}},i.drawScale9GridImage=function(e,i,n,s,r){var a=t.MainContext.instance.rendererContext._texture_scale_factor,o=i._texture_to_render;if(o&&n){var h=o._textureWidth,l=o._textureHeight,u=o._bitmapX,c=o._bitmapY;if(s-=h-(E=o._bitmapWidth||h),r-=l-(y=o._bitmapHeight||l),!e.drawImageScale9(o,u,c,E,y,o._offsetX,o._offsetY,s,r,n)){h=o._offsetX/a,l=o._offsetY/a,o=t.RenderFilter.getInstance(),n=t.Rectangle.identity.initialize(n.x-Math.round(h),n.y-Math.round(h),n.width,n.height),h=Math.round(h),l=Math.round(l),n.y==n.bottom&&(n.bottom<y?n.bottom++:n.y--),n.x==n.right&&(n.right<E?n.right++:n.x--);var _=u+n.x/a,d=u+n.right/a,p=E-n.right,g=c+n.y/a,a=c+n.bottom/a,f=y-n.bottom,m=h+n.x,v=l+n.y,y=r-(y-n.bottom),E=s-(E-n.right);o.drawImage(e,i,u,c,n.x,n.y,h,l,n.x,n.y),o.drawImage(e,i,_,c,n.width,n.y,m,l,E-n.x,n.y),o.drawImage(e,i,d,c,p,n.y,h+E,l,s-E,n.y),o.drawImage(e,i,u,g,n.x,n.height,h,v,n.x,y-n.y),o.drawImage(e,i,_,g,n.width,n.height,m,v,E-n.x,y-n.y),o.drawImage(e,i,d,g,p,n.height,h+E,v,s-E,y-n.y),o.drawImage(e,i,u,a,n.x,f,h,l+y,n.x,r-y),o.drawImage(e,i,_,a,n.width,f,m,l+y,E-n.x,r-y),o.drawImage(e,i,d,a,p,f,h+E,l+y,s-E,r-y)}}},n._measureBounds=function(){var i=this._texture;return i?t.Rectangle.identity.initialize(0,0,i._textureWidth,i._textureHeight):e.prototype._measureBounds.call(this)},i.renderFilter=t.RenderFilter.getInstance(),i}(t.DisplayObject);t.Bitmap=e,e.prototype.__class__="egret.Bitmap"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this._text="",this._textChanged=!1,this._font=null,this._fontChanged=!1,this._textOffsetY=this._textOffsetX=this._textHeight=this._textWidth=this._lineSpacing=this._letterSpacing=0,this.textLinesChange=!0,this._lineHeights=[],this.needDraw=this.cacheAsBitmap=!0}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"text",{get:function(){return this._text},set:function(t){this._text!=t&&(this._textChanged=!0,this._text=t,this._setSizeDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"font",{get:function(){return this._font},set:function(t){this._font!=t&&(this._font=t,this._fontChanged=!0,this._setSizeDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._setLetterSpacing(t)},enumerable:!0,configurable:!0}),n._setLetterSpacing=function(t){this._letterSpacing=t,this._setSizeDirty()},Object.defineProperty(n,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){this._setLineSpacing(t)},enumerable:!0,configurable:!0}),n._setLineSpacing=function(t){this._lineSpacing=t},n._setSizeDirty=function(){e.prototype._setSizeDirty.call(this),this.textLinesChange=!0},n._render=function(e){var n=this._getTextLines(),s=n.length;if(0!=s){for(var r=this._font,a=r._getFirstCharHeight(),a=Math.ceil(a*i.EMPTY_FACTOR),o=0,h=this._DO_Props_._hasHeightSet?this._DO_Props_._explicitHeight:Number.POSITIVE_INFINITY,l=this._lineHeights,u=0;u<s;u++){var c=l[u];if(0<u&&o+c>h)break;for(var _=n[u],d=_.length,p=0,g=0;g<d;g++){var f=_.charAt(g),m=r.getTexture(f);if(m){var f=m._bitmapWidth||m._textureWidth,v=m._bitmapHeight||m._textureHeight;this._texture_to_render=m,t.RenderFilter.getInstance().drawImage(e,this,m._bitmapX,m._bitmapY,f,v,p+m._offsetX,o+m._offsetY,f,v),p+=m._textureWidth+this._letterSpacing}else" "==f?p+=a:t.Logger.warningWithErrorId(1011,f)}o+=c+this._lineSpacing}this._texture_to_render=null}},n._measureBounds=function(){var e=this._getTextLines();return 0==e.length?t.Rectangle.identity.initialize(0,0,0,0):t.Rectangle.identity.initialize(this._textOffsetX,this._textOffsetY,this._textWidth-this._textOffsetX,this._textHeight-this._textOffsetY+(e.length-1)*this._lineSpacing)},n._getTextLines=function(){if(!this.textLinesChange)return this._textLines;var e=[];this._textLines=e,this.textLinesChange=!1;var n=[];if(this._lineHeights=n,!this._text||!this._font)return e;for(var s=0,r=0,a=0,o=0,h=this._DO_Props_._hasWidthSet,l=this._DO_Props_._hasWidthSet?this._DO_Props_._explicitWidth:Number.POSITIVE_INFINITY,u=this._font,c=u._getFirstCharHeight(),_=Math.ceil(c*i.EMPTY_FACTOR),d=this._text.split(/(?:\r\n|\r|\n)/),p=d.length,g=!0,f=0;f<p;f++){for(var m=d[f],v=m.length,y=0,E=0,b=!0,S=0;S<v;S++){b||(E+=this._letterSpacing);var C,T=m.charAt(S),x=0,P=0,w=u.getTexture(T);if(w)T=w._textureWidth,C=w._textureHeight,x=w._offsetX,P=w._offsetY;else{if(" "!=T){t.Logger.warningWithErrorId(1011,T),b&&(b=!1);continue}T=_,C=c}b&&(b=!1,a=Math.min(x,a)),g&&(o=Math.min(P,o)),h&&0<S&&E+T>l?(e.push(m.substring(0,S)),n.push(y),r+=y,s=Math.max(E,s),m=m.substring(S),v=m.length,S=0,E=T,y=C):(E+=T,y=Math.max(C,y))}g&&(g=!1),e.push(m),n.push(y),r+=y,s=Math.max(E,s)}return this._textWidth=s,this._textHeight=r,this._textOffsetX=a,this._textOffsetY=o,e},i.EMPTY_FACTOR=.33,i}(t.DisplayObject);t.BitmapText=e,e.prototype.__class__="egret.BitmapText"}(egret||(egret={})),function(t){var e=function(){function e(){this.fillStyleColor=this.strokeStyleColor=this.commandQueue=this._renderContext=null,this._dirty=!1,this.lineY=this.lineX=0,this._firstCheck=!0,this._lastY=this._lastX=this._maxY=this._maxX=this._minY=this._minX=0,this.commandQueue=[]}var n=e.prototype;return n.beginFill=function(t,e){void 0===e&&(e=1),this.fillStyleColor=this._parseColor(t,e),this._pushCommand(new i(this._setStyle,this,[this.fillStyleColor]))},n._parseColor=function(t,e){return"rgba("+(t>>16)+","+((65280&t)>>8)+","+(255&t)+","+e+")"},n._setStyle=function(t){this._renderContext.fillStyle=t,this._renderContext.beginPath()},n.drawRect=function(t,e,n,s){this._pushCommand(new i(function(t,e,i,n){this._renderContext.beginPath(),this._renderContext.rect(t,e,i,n),this._renderContext.closePath()},this,[t,e,n,s])),this._checkRect(t,e,n,s)},n.drawCircle=function(t,e,n){this._pushCommand(new i(function(t,e,i){this._renderContext.beginPath(),this._renderContext.arc(t,e,i,0,2*Math.PI),this._renderContext.closePath()},this,[t,e,n])),this._checkRect(t-n,e-n,2*n,2*n)},n.drawRoundRect=function(t,e,n,s,r,a){this._pushCommand(new i(function(t,e,i,n,s,r){s/=2,i=t+i;var a=(n=e+n)-(r=r?r/2:s);this._renderContext.beginPath(),this._renderContext.moveTo(i,a),this._renderContext.quadraticCurveTo(i,n,i-s,n),this._renderContext.lineTo(t+s,n),this._renderContext.quadraticCurveTo(t,n,t,n-r),this._renderContext.lineTo(t,e+r),this._renderContext.quadraticCurveTo(t,e,t+s,e),this._renderContext.lineTo(i-s,e),this._renderContext.quadraticCurveTo(i,e,i,e+r),this._renderContext.lineTo(i,a),this._renderContext.closePath()},this,[t,e,n,s,r,a])),this._checkRect(t,e,n,s)},n.drawEllipse=function(t,e,n,s){this._pushCommand(new i(function(t,e,i,n){t+=i/2,e+=n/2;var s=i>n?i:n;i/=s,n/=s,s/=2,this._renderContext.scale(i,n),this._renderContext.beginPath(),this._renderContext.arc(t/i,e/n,s,0,2*Math.PI),this._renderContext.closePath(),this._renderContext.scale(1/i,1/n)},this,[t,e,n,s])),this._checkRect(t,e,n,s)},n.lineStyle=function(t,e,n,s,r,a,o,h){void 0===t&&(t=NaN),void 0===e&&(e=0),void 0===n&&(n=1),void 0===s&&(s=!1),void 0===r&&(r="normal"),void 0===a&&(a=null),void 0===o&&(o=null),void 0===h&&(h=3),this.strokeStyleColor&&(this._createEndLineCommand(),this._pushCommand(this._endLineCommand)),this.strokeStyleColor=this._parseColor(e,n),this._pushCommand(new i(function(t,e){this._renderContext.lineWidth=t,this._renderContext.strokeStyle=e,this._renderContext.beginPath()},this,[t,this.strokeStyleColor])),this.moveTo(this.lineX,this.lineY)},n.lineTo=function(t,e){this._pushCommand(new i(function(t,e){this._renderContext.lineTo(t,e)},this,[t,e])),this._checkPoint(this.lineX,this.lineY),this.lineX=t,this.lineY=e,this._checkPoint(t,e)},n.curveTo=function(t,e,n,s){this._pushCommand(new i(function(t,e,i,n){this._renderContext.quadraticCurveTo(t,e,i,n)},this,[t,e,n,s])),this._checkPoint(this.lineX,this.lineY),this.lineX=n,this.lineY=s,this._checkPoint(t,e),this._checkPoint(n,s)},n.cubicCurveTo=function(t,e,n,s,r,a){this._pushCommand(new i(function(t,e,i,n,s,r){this._renderContext.bezierCurveTo(t,e,i,n,s,r)},this,[t,e,n,s,r,a])),this._checkPoint(this.lineX,this.lineY),this.lineX=r,this.lineY=a,this._checkPoint(t,e),this._checkPoint(n,s),this._checkPoint(r,a)},n.moveTo=function(t,e){this._pushCommand(new i(function(t,e){this._renderContext.moveTo(t,e)},this,[t,e])),this.lineX=t,this.lineY=e},n.clear=function(){this.lineY=this.lineX=this.commandQueue.length=0,this.fillStyleColor=this.strokeStyleColor=null,this._maxY=this._maxX=this._minY=this._minX=0,this._dirty=this._firstCheck=!0},n.endFill=function(){null!=this.fillStyleColor&&(this._fill(),this.fillStyleColor=null)},n._beginDraw=function(t){},n._endDraw=function(t){},n._draw=function(t){var e=this.commandQueue.length;if(0!=e){this._beginDraw(t);for(var i=0;i<e;i++){var n=this.commandQueue[i];n.method.apply(n.thisObject,n.args)}this.fillStyleColor&&(this._createEndFillCommand(),(n=this._endFillCommand).method.apply(n.thisObject,n.args)),this.strokeStyleColor&&(this._createEndLineCommand(),(n=this._endLineCommand).method.apply(n.thisObject,n.args)),this._endDraw(t),this._dirty=!1}},n._checkRect=function(t,e,i,n){this._firstCheck?(this._firstCheck=!1,this._minX=t,this._minY=e,this._maxX=t+i,this._maxY=e+n):(this._minX=Math.min(this._minX,t),this._minY=Math.min(this._minY,e),this._maxX=Math.max(this._maxX,t+i),this._maxY=Math.max(this._maxY,e+n)),this._dirty=!0},n._checkPoint=function(t,e){this._firstCheck?(this._firstCheck=!1,this._minX=t,this._minY=e,this._maxX=t,this._maxY=e):(this._minX=Math.min(this._minX,t),this._minY=Math.min(this._minY,e),this._maxX=Math.max(this._maxX,t),this._maxY=Math.max(this._maxY,e)),this._lastX=t,this._lastY=e,this._dirty=!0},n._measureBounds=function(){return t.Rectangle.identity.initialize(this._minX,this._minY,this._maxX-this._minX,this._maxY-this._minY)},n._createEndFillCommand=function(){this._endFillCommand||(this._endFillCommand=new i(function(){this._renderContext.fill(),this._renderContext.closePath()},this,null))},n._fill=function(){this.fillStyleColor&&(this._createEndFillCommand(),this._pushCommand(this._endFillCommand)),this.strokeStyleColor&&(this._createEndLineCommand(),this._pushCommand(this._endLineCommand))},n._createEndLineCommand=function(){this._endLineCommand||(this._endLineCommand=new i(function(){this._renderContext.stroke(),this._renderContext.closePath()},this,null))},n._pushCommand=function(t){this.commandQueue.push(t),this._dirty=!0},e}();t.Graphics=e,e.prototype.__class__="egret.Graphics";var i=function(t,e,i){this.method=t,this.thisObject=e,this.args=i};i.prototype.__class__="egret.Command"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this._graphics=null}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"graphics",{get:function(){return this._graphics||(this._graphics=new t.Graphics,this.needDraw=!0),this._graphics},enumerable:!0,configurable:!0}),n._draw=function(t){this._graphics&&this._graphics._dirty&&this._setCacheDirty(),e.prototype._draw.call(this,t)},n._render=function(t){this._graphics&&this._graphics._draw(t)},n._measureBounds=function(){var t=this._graphics;return t?t._measureBounds():e.prototype._measureBounds.call(this)},i}(t.DisplayObject);t.Shape=e,e.prototype.__class__="egret.Shape"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this._graphics=null}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"graphics",{get:function(){return this._graphics||(this._graphics=new t.Graphics,this.needDraw=!0),this._graphics},enumerable:!0,configurable:!0}),n._draw=function(t){this._graphics&&this._graphics._dirty&&this._setCacheDirty(),e.prototype._draw.call(this,t)},n._render=function(t){this._graphics&&this._graphics._draw(t),e.prototype._render.call(this,t)},n._measureBounds=function(){for(var e=0,i=0,n=0,s=0,r=this._children.length,a=0;a<r;a++){if((c=this._children[a]).visible){var o=(u=c.getBounds(t.Rectangle.identity,!1)).x,h=u.y,l=u.width,u=u.height,c=c._getMatrix(),o=(c=t.DisplayObject.getTransformBounds(t.Rectangle.identity.initialize(o,h,l,u),c)).x,h=c.y,l=c.width+c.x,c=c.height+c.y;(o<e||0==a)&&(e=o),(l>i||0==a)&&(i=l),(h<n||0==a)&&(n=h),(c>s||0==a)&&(s=c)}}return this._graphics&&(o=(r=this._graphics._measureBounds()).x,h=r.y,l=r.width+r.x,c=r.height+r.y,(o<e||0==a)&&(e=o),(l>i||0==a)&&(i=l),(h<n||0==a)&&(n=h),(c>s||0==a)&&(s=c)),t.Rectangle.identity.initialize(e,n,i-e,s-n)},n.hitTest=function(i,n,s){void 0===s&&(s=!1);var r=e.prototype.hitTest.call(this,i,n,s);return r||(this._graphics?t.DisplayObject.prototype.hitTest.call(this,i,n,s):null)},i}(t.DisplayObjectContainer);t.Sprite=e,e.prototype.__class__="egret.Sprite"}(egret||(egret={})),function(t){var e=function(){function e(){}return e._getStartLine=function(t){var i=e._getTextHeight(t),n=0;return t._DO_Props_._hasHeightSet&&(!(i<t._DO_Props_._explicitHeight)&&i>t._DO_Props_._explicitHeight&&(n=Math.max(t._TF_Props_._scrollV-1,0),n=Math.min(t._TF_Props_._numLines-1,n)),t._TF_Props_._multiline||(n=Math.max(t._TF_Props_._scrollV-1,0),n=Math.min(t._TF_Props_._numLines-1,n))),n},e._getHalign=function(e){var i=e._getLinesArr(),n=0;return e._TF_Props_._textAlign==t.HorizontalAlign.CENTER?n=.5:e._TF_Props_._textAlign==t.HorizontalAlign.RIGHT&&(n=1),e._TF_Props_._type==t.TextFieldType.INPUT&&!e._TF_Props_._multiline&&1<i.length&&(n=0),n},e._getTextHeight=function(e){return t.TextFieldType.INPUT!=e._TF_Props_._type||e._TF_Props_._multiline?e._TF_Props_._textMaxHeight+(e._TF_Props_._numLines-1)*e._TF_Props_._lineSpacing:e._TF_Props_._size},e._getValign=function(i){var n=e._getTextHeight(i);return i._TF_Props_._type==t.TextFieldType.INPUT?i._TF_Props_._multiline?0:.5:i._DO_Props_._hasHeightSet&&n<i._DO_Props_._explicitHeight?(n=0,i._TF_Props_._verticalAlign==t.VerticalAlign.MIDDLE?n=.5:i._TF_Props_._verticalAlign==t.VerticalAlign.BOTTOM&&(n=1),n):0},e._getTextElement=function(t,i,n){return i=e._getHit(t,i,n),t=t._getLinesArr(),i&&t[i.lineIndex]&&t[i.lineIndex].elements[i.textElementIndex]?t[i.lineIndex].elements[i.textElementIndex]:null},e._getHit=function(t,i,n){var s=t._getLinesArr();if(0==t._TF_Props_._textMaxWidth)return null;var r=0,a=e._getTextHeight(t),o=0;for(t._DO_Props_._hasHeightSet&&t._DO_Props_._explicitHeight>a&&0!=(o=e._getValign(t)*(t._DO_Props_._explicitHeight-a))&&(n-=o),o=0,a=e._getStartLine(t);a<s.length;a++){var h=s[a];if(o+h.height>=n){r=a+1;break}if((o+=h.height)+t._TF_Props_._lineSpacing>n)return null;o+=t._TF_Props_._lineSpacing}if(0===r)return null;for(t=s[r-1],a=n=0;a<t.elements.length;a++){if(s=t.elements[a],!(n+s.width<i))return{lineIndex:r-1,textElementIndex:a};n+=s.width}return null},e._getScrollNum=function(t){var e=1;if(t._TF_Props_._multiline){var i=t.height,n=t.size;i-(n+(t=t.lineSpacing))*(e=Math.floor(i/(n+t)))>n/2&&e++}return e},e}();t.TextFieldUtils=e,e.prototype.__class__="egret.TextFieldUtils"}(egret||(egret={})),function(t){var e=function(){this._text=this._type="",this._displayAsPassword=!1,this._fontFamily=t.TextField.default_fontFamily,this._size=30,this._bold=this._italic=!1,this._textColorString="#FFFFFF",this._textColor=16777215,this._strokeColorString="#000000",this._stroke=this._strokeColor=0,this._border=!1,this._borderColor=0,this._background=!1,this._backgroundColor=16777215,this._textAlign="left",this._verticalAlign="top",this._maxChars=this._textMaxHeight=this._textMaxWidth=0,this._scrollV=-1,this._numLines=this._lineSpacing=0,this._multiline=!1};t.TextFieldProperties=e,e.prototype.__class__="egret.TextFieldProperties"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this._inputEnabled=!1,this._bgGraphics=this._inputUtils=null,this._isFlow=!1,this._textArr=[],this._isArrayChanged=!1,this._linesArr=[],this._isTyping=!1,this.needDraw=!0,this._TF_Props_=new t.TextFieldProperties}__extends(i,e);var n=i.prototype;return n.isInput=function(){return this._TF_Props_._type==t.TextFieldType.INPUT},n._setTouchEnabled=function(t){e.prototype._setTouchEnabled.call(this,t),this.isInput()&&(this._inputEnabled=!0)},Object.defineProperty(n,"type",{get:function(){return this._TF_Props_._type},set:function(t){this._setType(t)},enumerable:!0,configurable:!0}),n._setType=function(e){var i=this._TF_Props_;i._type!=e&&(i._type=e,i._type==t.TextFieldType.INPUT?(this._DO_Props_._hasWidthSet||this._setWidth(100),this._DO_Props_._hasHeightSet||this._setHeight(30),null==this._inputUtils&&(this._inputUtils=new t.InputController),this._inputUtils.init(this),this._setDirty(),this._DO_Props_._stage&&this._inputUtils._addStageText()):this._inputUtils&&(this._inputUtils._removeStageText(),this._inputUtils=null))},Object.defineProperty(n,"text",{get:function(){return this._getText()},set:function(t){this._setText(t)},enumerable:!0,configurable:!0}),n._getText=function(){return this._TF_Props_._type==t.TextFieldType.INPUT?this._inputUtils._getText():this._TF_Props_._text},n._setSizeDirty=function(){e.prototype._setSizeDirty.call(this),this._isArrayChanged=!0},n._setTextDirty=function(){this._setSizeDirty()},n._setBaseText=function(t){null==t&&(t="");var e=this._TF_Props_;this._isFlow=!1,e._text!=t&&(this._setTextDirty(),e._text=t,t="",t=e._displayAsPassword?this.changeToPassText(e._text):e._text,this.setMiddleStyle([{text:t}]))},n._setText=function(t){null==t&&(t=""),this._setBaseText(t),this._inputUtils&&this._inputUtils._setText(this._TF_Props_._text)},Object.defineProperty(n,"displayAsPassword",{get:function(){return this._TF_Props_._displayAsPassword},set:function(t){this._setDisplayAsPassword(t)},enumerable:!0,configurable:!0}),n._setDisplayAsPassword=function(t){var e=this._TF_Props_;e._displayAsPassword!=t&&(e._displayAsPassword=t,this._setTextDirty(),t="",t=e._displayAsPassword?this.changeToPassText(e._text):e._text,this.setMiddleStyle([{text:t}]))},Object.defineProperty(n,"fontFamily",{get:function(){return this._TF_Props_._fontFamily},set:function(t){this._setFontFamily(t)},enumerable:!0,configurable:!0}),n._setFontFamily=function(t){this._TF_Props_._fontFamily!=t&&(this._setTextDirty(),this._TF_Props_._fontFamily=t)},Object.defineProperty(n,"size",{get:function(){return this._TF_Props_._size},set:function(t){this._setSize(t)},enumerable:!0,configurable:!0}),n._setSize=function(t){this._TF_Props_._size!=t&&(this._setTextDirty(),this._TF_Props_._size=t)},Object.defineProperty(n,"italic",{get:function(){return this._TF_Props_._italic},set:function(t){this._setItalic(t)},enumerable:!0,configurable:!0}),n._setItalic=function(t){this._TF_Props_._italic!=t&&(this._setTextDirty(),this._TF_Props_._italic=t)},Object.defineProperty(n,"bold",{get:function(){return this._TF_Props_._bold},set:function(t){this._setBold(t)},enumerable:!0,configurable:!0}),n._setBold=function(t){this._TF_Props_._bold!=t&&(this._setTextDirty(),this._TF_Props_._bold=t)},Object.defineProperty(n,"textColor",{get:function(){return this._TF_Props_._textColor},set:function(t){this._setTextColor(t)},enumerable:!0,configurable:!0}),n._setTextColor=function(e){this._TF_Props_._textColor!=e&&(this._setTextDirty(),this._TF_Props_._textColor=e,this._TF_Props_._textColorString=t.toColorString(e))},Object.defineProperty(n,"strokeColor",{get:function(){return this._TF_Props_._strokeColor},set:function(t){this._setStrokeColor(t)},enumerable:!0,configurable:!0}),n._setStrokeColor=function(e){this._TF_Props_._strokeColor!=e&&(this._setTextDirty(),this._TF_Props_._strokeColor=e,this._TF_Props_._strokeColorString=t.toColorString(e))},Object.defineProperty(n,"stroke",{get:function(){return this._TF_Props_._stroke},set:function(t){this._setStroke(t)},enumerable:!0,configurable:!0}),n._setStroke=function(t){this._TF_Props_._stroke!=t&&(this._setTextDirty(),this._TF_Props_._stroke=t)},Object.defineProperty(n,"textAlign",{get:function(){return this._TF_Props_._textAlign},set:function(t){this._setTextAlign(t)},enumerable:!0,configurable:!0}),n._setTextAlign=function(t){this._TF_Props_._textAlign!=t&&(this._setTextDirty(),this._TF_Props_._textAlign=t)},Object.defineProperty(n,"verticalAlign",{get:function(){return this._TF_Props_._verticalAlign},set:function(t){this._setVerticalAlign(t)},enumerable:!0,configurable:!0}),n._setVerticalAlign=function(t){this._TF_Props_._verticalAlign!=t&&(this._setTextDirty(),this._TF_Props_._verticalAlign=t)},Object.defineProperty(n,"maxChars",{get:function(){return this._TF_Props_._maxChars},set:function(t){this._setMaxChars(t)},enumerable:!0,configurable:!0}),n._setMaxChars=function(t){this._TF_Props_._maxChars!=t&&(this._TF_Props_._maxChars=t)},Object.defineProperty(n,"scrollV",{get:function(){return Math.min(Math.max(this._TF_Props_._scrollV,1),this.maxScrollV)},set:function(t){this._TF_Props_._scrollV=Math.max(t,1),this._setDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(n,"maxScrollV",{get:function(){return this._getLinesArr(),Math.max(this._TF_Props_._numLines-t.TextFieldUtils._getScrollNum(this)+1,1)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"selectionBeginIndex",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(n,"selectionEndIndex",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(n,"caretIndex",{get:function(){return 0},enumerable:!0,configurable:!0}),n._setSelection=function(t,e){},Object.defineProperty(n,"lineSpacing",{get:function(){return this._TF_Props_._lineSpacing},set:function(t){this._setLineSpacing(t)},enumerable:!0,configurable:!0}),n._setLineSpacing=function(t){this._TF_Props_._lineSpacing!=t&&(this._setTextDirty(),this._TF_Props_._lineSpacing=t)},n._getLineHeight=function(){return this._TF_Props_._lineSpacing+this._TF_Props_._size},Object.defineProperty(n,"numLines",{get:function(){return this._TF_Props_._numLines},enumerable:!0,configurable:!0}),Object.defineProperty(n,"multiline",{get:function(){return this._TF_Props_._multiline},set:function(t){this._setMultiline(t)},enumerable:!0,configurable:!0}),n._setMultiline=function(t){this._TF_Props_._multiline=t,this._setDirty()},n._setWidth=function(t){e.prototype._setWidth.call(this,t),this.fillBackground()},n._setHeight=function(t){e.prototype._setHeight.call(this,t),this.fillBackground()},Object.defineProperty(n,"border",{get:function(){return this._TF_Props_._border},set:function(t){this._TF_Props_._border=t,this.fillBackground()},enumerable:!0,configurable:!0}),Object.defineProperty(n,"borderColor",{get:function(){return this._TF_Props_._borderColor},set:function(t){this._TF_Props_._borderColor=t,this.fillBackground()},enumerable:!0,configurable:!0}),Object.defineProperty(n,"background",{get:function(){return this._TF_Props_._background},set:function(t){this._TF_Props_._background=t,this.fillBackground()},enumerable:!0,configurable:!0}),Object.defineProperty(n,"backgroundColor",{get:function(){return this._TF_Props_._backgroundColor},set:function(t){this._TF_Props_._backgroundColor=t,this.fillBackground()},enumerable:!0,configurable:!0}),n.fillBackground=function(){var e=this._bgGraphics,i=this._TF_Props_;e&&e.clear(),(i._background||i._border)&&(null==e&&(e=this._bgGraphics=new t.Graphics),i._background&&e.beginFill(i._backgroundColor,1),i._border&&e.lineStyle(1,i._borderColor),e.drawRect(0,0,this._getWidth(),this._getHeight()),e.endFill())},n.setFocus=function(){t.Logger.warningWithErrorId(1013)},n._onRemoveFromStage=function(){e.prototype._onRemoveFromStage.call(this),this._removeEvent(),this._TF_Props_._type==t.TextFieldType.INPUT&&this._inputUtils._removeStageText()},n._onAddToStage=function(){e.prototype._onAddToStage.call(this),this._addEvent(),this._TF_Props_._type==t.TextFieldType.INPUT&&this._inputUtils._addStageText()},n._updateBaseTransform=function(){this._getLinesArr(),0==this._TF_Props_._textMaxWidth&&this._TF_Props_._type!=t.TextFieldType.INPUT||e.prototype._updateTransform.call(this)},n._updateTransform=function(){this._TF_Props_._type==t.TextFieldType.INPUT?this._DO_Props_._normalDirty?this._inputUtils._updateProperties():this._inputUtils._updateTransform():this._updateBaseTransform()},n._draw=function(i){var n=this._TF_Props_;if(n._type==t.TextFieldType.INPUT){if(this._isTyping)return}else if(0==n._textMaxWidth)return;e.prototype._draw.call(this,i)},n._render=function(t){this._bgGraphics&&this._bgGraphics._draw(t),this.drawText(t),this._clearDirty()},n._measureBounds=function(){var e=this._TF_Props_;return this._getLinesArr(),0==e._textMaxWidth?t.Rectangle.identity.initialize(0,0,0,0):t.Rectangle.identity.initialize(0,0,e._textMaxWidth,t.TextFieldUtils._getTextHeight(this))},Object.defineProperty(n,"textFlow",{get:function(){return this._textArr},set:function(t){var e=this._TF_Props_;this._isFlow=!0;var i="";null==t&&(t=[]);for(var n=0;n<t.length;n++)i+=t[n].text;e._displayAsPassword?this._setBaseText(i):(e._text=i,this.setMiddleStyle(t))},enumerable:!0,configurable:!0}),n.changeToPassText=function(t){if(this._TF_Props_._displayAsPassword){for(var e="",i=0,n=t.length;i<n;i++)switch(t.charAt(i)){case"\n":e+="\n";break;case"\r":break;default:e+="*"}return e}return t},n.setMiddleStyle=function(t){this._isArrayChanged=!0,this._textArr=t,this._setSizeDirty()},Object.defineProperty(n,"textWidth",{get:function(){return this._TF_Props_._textMaxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n,"textHeight",{get:function(){return t.TextFieldUtils._getTextHeight(this)},enumerable:!0,configurable:!0}),n.appendText=function(t){this.appendElement({text:t})},n.appendElement=function(t){this._textArr.push(t),this.setMiddleStyle(this._textArr)},n._getLinesArr=function(){var e=this._TF_Props_;if(!this._isArrayChanged)return this._linesArr;this._isArrayChanged=!1;var i=this._textArr,n=t.MainContext.instance.rendererContext;if(this._linesArr.length=0,e._textMaxHeight=0,e._textMaxWidth=0,this._DO_Props_._hasWidthSet&&0==this._DO_Props_._explicitWidth)return e._numLines=0,[{width:0,height:0,charNum:0,elements:[],hasNextLine:!1}];this._isFlow||n.setupFont(this);for(var s,r=this._linesArr,a=0,o=0,h=0,l=0,u=0,c=i.length;u<c;u++){var _=i[u];_.style=_.style||{};for(var d=_.text.toString().split(/(?:\r\n|\r|\n)/),p=0,g=d.length;p<g;p++){null==r[l]&&(s={width:0,height:0,elements:[],charNum:0,hasNextLine:!1},r[l]=s,o=h=a=0);var h=e._type==t.TextFieldType.INPUT?e._size:Math.max(h,_.style.size||e._size),f=!0;if(""==d[p])p==g-1&&(f=!1);else{this._isFlow&&n.setupFont(this,_.style);var m=n.measureText(d[p]);if(this._DO_Props_._hasWidthSet)if(a+m<=this._DO_Props_._explicitWidth)s.elements.push({width:m,text:d[p],style:_.style}),a+=m,o+=d[p].length,p==g-1&&(f=!1);else{for(var v=f=0,y=d[p],E=y.length;f<E&&(m=n.measureText(y.charAt(f)),!(a+m>this._DO_Props_._explicitWidth&&0!=a+f));f++)v+=m,a+=m,o+=1;0<f&&(s.elements.push({width:v,text:y.substring(0,f),style:_.style}),d[p]=y.substring(f)),p--,f=!1}else a+=m,o+=d[p].length,s.elements.push({width:m,text:d[p],style:_.style}),p==g-1&&(f=!1)}f&&(o++,s.hasNextLine=!0),p<d.length-1&&(s.width=a,s.height=h,s.charNum=o,e._textMaxWidth=Math.max(e._textMaxWidth,a),e._textMaxHeight+=h,l++)}u==i.length-1&&s&&(s.width=a,s.height=h,s.charNum=o,e._textMaxWidth=Math.max(e._textMaxWidth,a),e._textMaxHeight+=h)}return e._numLines=r.length,r},n.drawText=function(e){var i=this._TF_Props_,n=this._getLinesArr();if(0!=i._textMaxWidth){var s=this._DO_Props_._hasWidthSet?this._DO_Props_._explicitWidth:i._textMaxWidth,r=t.TextFieldUtils._getTextHeight(this),a=0,o=t.TextFieldUtils._getStartLine(this);if(this._DO_Props_._hasHeightSet&&this._DO_Props_._explicitHeight>r)var h=t.TextFieldUtils._getValign(this),a=a+h*(this._DO_Props_._explicitHeight-r);for(var a=Math.round(a),r=t.TextFieldUtils._getHalign(this),h=0,l=o,u=i._numLines;l<u;l++){var c=n[l],_=c.height,a=a+_/2;if(l!=o){if(i._type==t.TextFieldType.INPUT&&!i._multiline)break;if(this._DO_Props_._hasHeightSet&&a>this._DO_Props_._explicitHeight)break}for(var h=Math.round((s-c.width)*r),d=0,p=c.elements.length;d<p;d++){var g=c.elements[d];e.drawText(this,g.text,h,a+(_-(g.style.size||i._size))/2,g.width,g.style),h+=g.width}a+=_/2+i._lineSpacing}}},n._addEvent=function(){this.addEventListener(t.TouchEvent.TOUCH_TAP,this.onTapHandler,this)},n._removeEvent=function(){this.removeEventListener(t.TouchEvent.TOUCH_TAP,this.onTapHandler,this)},n.onTapHandler=function(e){if(this._TF_Props_._type!=t.TextFieldType.INPUT&&null!=(e=t.TextFieldUtils._getTextElement(this,e.localX,e.localY))&&(e=e.style)&&e.href&&e.href.match(/^event:/)){var i=e.href.match(/^event:/)[0];t.TextEvent.dispatchTextEvent(this,t.TextEvent.LINK,e.href.substring(i.length))}},i.default_fontFamily="Arial",i}(t.DisplayObject);t.TextField=e,e.prototype.__class__="egret.TextField"}(egret||(egret={})),function(t){var e=function(){function t(){this.resutlArr=[]}var e=t.prototype;return e.parser=function(t){this.stackArray=[],this.resutlArr=[];for(var e=0,i=t.length;e<i;){var n=t.indexOf("<",e);0>n?(this.addToResultArr(t.substring(e)),e=i):(this.addToResultArr(t.substring(e,n)),e=t.indexOf(">",n),"/"==t.charAt(n+1)?this.stackArray.pop():this.addToArray(t.substring(n+1,e)),e+=1)}return this.resutlArr},e.addToResultArr=function(t){if(""!=t){var e=[];e.push(["&lt;","<"]),e.push(["&gt;",">"]),e.push(["&amp;","&"]),e.push(["&quot;",'"']),e.push(["&apos;;","'"]);for(var i=0;i<e.length;i++)t.replace(new RegExp(e[i][0],"g"),e[i][1]);0<this.stackArray.length?this.resutlArr.push({text:t,style:this.stackArray[this.stackArray.length-1]}):this.resutlArr.push({text:t})}},e.changeStringToObject=function(t){var e={};t=t.replace(/( )+/g," ").split(" ");for(var i=0;i<t.length;i++)this.addProperty(e,t[i]);return e},e.addProperty=function(t,e){var i=e.replace(/( )*=( )*/g,"=").split("=");switch(i[1]&&(i[1]=i[1].replace(/(\"|\')/g,"")),i[0].toLowerCase()){case"color":case"textcolor":i[1]=i[1].replace(/#/,"0x"),t.textColor=parseInt(i[1]);break;case"strokecolor":i[1]=i[1].replace(/#/,"0x"),t.strokeColor=parseInt(i[1]);break;case"stroke":t.stroke=parseInt(i[1]);break;case"b":t.bold="true"==(i[1]||"true");break;case"i":t.italic="true"==(i[1]||"true");break;case"size":t.size=parseInt(i[1]);break;case"fontfamily":t.fontFamily=i[1];break;case"href":t.href=i[1]}},e.addToArray=function(t){if(t=this.changeStringToObject(t),0!=this.stackArray.length){var e,i=this.stackArray[this.stackArray.length-1];for(e in i)null==t[e]&&(t[e]=i[e])}this.stackArray.push(t)},t}();t.HtmlTextParser=e,e.prototype.__class__="egret.HtmlTextParser"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.DYNAMIC="dynamic",t.INPUT="input",t}();t.TextFieldType=e,e.prototype.__class__="egret.TextFieldType"}(egret||(egret={})),function(t){var e=function(e){function i(t){e.call(this),this._bitmapY=this._bitmapX=this._sourceHeight=this._sourceWidth=0,this._textureMap={},this.texture=t,this._sourceWidth=t._sourceWidth,this._sourceHeight=t._sourceHeight,this._bitmapX=t._bitmapX-t._offsetX,this._bitmapY=t._bitmapY-t._offsetY}__extends(i,e);var n=i.prototype;return n.getTexture=function(t){return this._textureMap[t]},n.createTexture=function(e,i,n,s,r,a,o,h,l){void 0===a&&(a=0),void 0===o&&(o=0),void 0===h&&(h=a+s),void 0===l&&(l=o+r);var u=this.texture._clone(),c=t.MainContext.instance.rendererContext._texture_scale_factor;return u._bitmapX=this._bitmapX+i,u._bitmapY=this._bitmapY+n,u._bitmapWidth=s*c,u._bitmapHeight=r*c,u._offsetX=a,u._offsetY=o,u._textureWidth=h*c,u._textureHeight=l*c,u._sourceWidth=this._sourceWidth,u._sourceHeight=this._sourceHeight,this._textureMap[e]=u},n.dispose=function(){this.texture&&this.texture.dispose()},i}(t.HashObject);t.SpriteSheet=e,e.prototype.__class__="egret.SpriteSheet"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this._text=null,this._isFocus=!1}__extends(i,e);var n=i.prototype;return n.init=function(e){this._text=e,this.stageText=t.StageText.create(),this.stageText._setTextField(this._text)},n._addStageText=function(){this._text._inputEnabled||(this._text._DO_Props_._touchEnabled=!0),this.stageText._add(),this.stageText._addListeners(),this.stageText.addEventListener("updateText",this.updateTextHandler,this),this._text.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.onMouseDownHandler,this),t.MainContext.instance.stage.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.onStageDownHandler,this),this.stageText.addEventListener("blur",this.blurHandler,this),this.stageText.addEventListener("focus",this.focusHandler,this)},n._removeStageText=function(){this._text._inputEnabled||(this._text._DO_Props_._touchEnabled=!1),this.stageText._remove(),this.stageText._removeListeners(),this.stageText._removeInput(),this.stageText.removeEventListener("updateText",this.updateTextHandler,this),this._text.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.onMouseDownHandler,this),t.MainContext.instance.stage.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.onStageDownHandler,this),this.stageText.removeEventListener("blur",this.blurHandler,this),this.stageText.removeEventListener("focus",this.focusHandler,this)},n._getText=function(){return this.stageText._getText()},n._setText=function(t){this.stageText._setText(t)},n.focusHandler=function(e){this._isFocus=!0,this._text._isTyping=!0,this._text.dispatchEvent(new t.FocusEvent(t.FocusEvent.FOCUS_IN))},n.blurHandler=function(e){this._isFocus=!1,this._text._isTyping=!1,this._text.dispatchEvent(new t.FocusEvent(t.FocusEvent.FOCUS_OUT))},n.onMouseDownHandler=function(t){t.stopPropagation(),this._text._DO_Props_._visible&&!this._isFocus&&(this._isFocus=!0,this.stageText._show(this._text._TF_Props_._multiline,this._text.size,this._text.width,this._text.height),t=this._text.localToGlobal(),this.stageText._initElement(t.x,t.y,this._text._worldTransform.a,this._text._worldTransform.d))},n.onStageDownHandler=function(t){this.stageText._hide()},n.updateTextHandler=function(e){this.resetText(),this._text.dispatchEvent(new t.Event(t.Event.CHANGE))},n.resetText=function(){this._text._setBaseText(this.stageText._getText())},n._hideInput=function(){this.stageText._removeInput()},n._updateTransform=function(){this._text._updateBaseTransform(),!this._text._DO_Props_._visible&&this.stageText&&this._hideInput()},n._updateProperties=function(){if(!this._isFocus){var t=this._text._DO_Props_._stage;if(null==t)this.stageText._setVisible(!1);else{for(var e=this._text,i=e._DO_Props_._visible;i&&(e=e.parent)!=t;)i=e._DO_Props_._visible;this.stageText._setVisible(i)}this.stageText._setMultiline(this._text._TF_Props_._multiline),this.stageText._setTextType(this._text._TF_Props_._displayAsPassword?"password":"text"),this.stageText._setText(this._text._TF_Props_._text),this.stageText._resetStageText()}this._updateTransform()},i}(t.HashObject);t.InputController=e,e.prototype.__class__="egret.InputController"}(egret||(egret={})),function(t){var e=function(t){function e(e,i){t.call(this,e),this.firstCharHeight=0,"string"==typeof i?this.charList=this.parseConfig(i):i&&i.hasOwnProperty("frames")?this.charList=i.frames:this.charList={}}__extends(e,t);var i=e.prototype;return i.getTexture=function(t){var e=this._textureMap[t];if(!e){if(!(e=this.charList[t]))return null;e=this.createTexture(t,e.x,e.y,e.w,e.h,e.offX,e.offY,e.sourceW,e.sourceH),this._textureMap[t]=e}return e},i._getFirstCharHeight=function(){if(0==this.firstCharHeight)for(var t in this.charList){var e=this.charList[t];if(e){var i=e.sourceH;if(void 0===i&&(void 0===(i=e.h)&&(i=0),void 0===(e=e.offY)&&(e=0),i+=e),!(0>=i)){this.firstCharHeight=i;break}}}return this.firstCharHeight},i.parseConfig=function(t){t=(t=t.split("\r\n").join("\n")).split("\n");for(var e=this.getConfigByKey(t[3],"count"),i={},n=4;n<4+e;n++){var s=t[n],r={};i[String.fromCharCode(this.getConfigByKey(s,"id"))]=r,r.x=this.getConfigByKey(s,"x"),r.y=this.getConfigByKey(s,"y"),r.w=this.getConfigByKey(s,"width"),r.h=this.getConfigByKey(s,"height"),r.offX=this.getConfigByKey(s,"xoffset"),r.offY=this.getConfigByKey(s,"yoffset")}return i},i.getConfigByKey=function(t,e){for(var i=t.split(" "),n=0,s=i.length;n<s;n++){var r=i[n];if(e==r.substring(0,e.length))return i=r.substring(e.length+1),parseInt(i)}return 0},e}(t.SpriteSheet);t.BitmapFont=e,e.prototype.__class__="egret.BitmapFont"}(egret||(egret={})),function(t){var e=function(e){function i(t){e.call(this),this._isAddedToStage=!1,this._frames=this._movieClipData=this._textureToRender=null,this._totalFrames=0,this._frameLabels=null,this._frameIntervalTime=0,this._eventPool=null,this._isPlaying=!1,this._isStopped=!0,this._passedTime=this._displayedKeyFrameNum=this._nextFrameNum=this._currentFrameNum=this._playTimes=0,this._setMovieClipData(t),this.needDraw=!0}__extends(i,e);var n=i.prototype;return n._init=function(){this._reset();var t=this._movieClipData;t&&t._isDataValid()&&(this._frames=t.frames,this._totalFrames=t.numFrames,this._frameLabels=t.labels,this._frameIntervalTime=1e3/t.frameRate,this._initFrame())},n._reset=function(){this._frames=null,this._playTimes=0,this._isPlaying=!1,this.setIsStopped(!0),this._currentFrameNum=0,this._nextFrameNum=1,this._passedTime=this._displayedKeyFrameNum=0,this._eventPool=[]},n._initFrame=function(){this._movieClipData._isTextureValid()&&(this._advanceFrame(),this._constructFrame())},n._render=function(t){var e=this._textureToRender;if(this._texture_to_render=e){var n=Math.round(e._offsetX),s=Math.round(e._offsetY),r=e._bitmapWidth||e._textureWidth,a=e._bitmapHeight||e._textureHeight,o=Math.round(r),h=Math.round(a);i.renderFilter.drawImage(t,this,e._bitmapX,e._bitmapY,r,a,n,s,o,h)}},n._measureBounds=function(){var i=this._textureToRender;return i?t.Rectangle.identity.initialize(i._offsetX,i._offsetY,i._textureWidth,i._textureHeight):e.prototype._measureBounds.call(this)},n._onAddToStage=function(){e.prototype._onAddToStage.call(this),this._isAddedToStage=!0,this._isPlaying&&1<this._totalFrames&&this.setIsStopped(!1)},n._onRemoveFromStage=function(){e.prototype._onRemoveFromStage.call(this),this._isAddedToStage=!1,this.setIsStopped(!0)},n._getFrameLabelByName=function(t,e){void 0===e&&(e=!1),e&&(t=t.toLowerCase());var i=this._frameLabels;if(i)for(var n=null,s=0;s<i.length;s++)if(n=i[s],e?n.name.toLowerCase()===t:n.name===t)return n;return null},n._getFrameLabelByFrame=function(t){var e=this._frameLabels;if(e)for(var i=null,n=0;n<e.length;n++)if((i=e[n]).frame===t)return i;return null},n._getFrameLabelForFrame=function(t){var e=null,i=null,n=this._frameLabels;if(n)for(var s=0;s<n.length&&!((i=n[s]).frame>t);s++)e=i;return e},n.play=function(t){void 0===t&&(t=0),this._isPlaying=!0,this.setPlayTimes(t),1<this._totalFrames&&this._isAddedToStage&&this.setIsStopped(!1)},n.stop=function(){this._isPlaying=!1,this.setIsStopped(!0)},n.prevFrame=function(){this.gotoAndStop(this._currentFrameNum-1)},n.nextFrame=function(){this.gotoAndStop(this._currentFrameNum+1)},n.gotoAndPlay=function(e,i){if(void 0===i&&(i=0),0===arguments.length||2<arguments.length)throw Error(t.getString(1022,"MovieClip.gotoAndPlay()"));this.play(i),this._gotoFrame(e)},n.gotoAndStop=function(e){if(1!=arguments.length)throw Error(t.getString(1022,"MovieClip.gotoAndStop()"));this.stop(),this._gotoFrame(e)},n._gotoFrame=function(e){var i;if("string"==typeof e)i=this._getFrameLabelByName(e).frame;else if((i=parseInt(e+"",10))!=e)throw Error(t.getString(1022,"Frame Label Not Found"));1>i?i=1:i>this._totalFrames&&(i=this._totalFrames),i!==this._nextFrameNum&&(this._nextFrameNum=i,this._advanceFrame(),this._constructFrame(),this._handlePendingEvent())},n._advanceTime=function(e){var i=this._frameIntervalTime;if(e=this._passedTime+e,this._passedTime=e%i,!(1>(i=e/i))){for(;1<=i;){if(i--,this._nextFrameNum++,this._nextFrameNum>this._totalFrames)if(-1==this._playTimes)this._eventPool.push(t.Event.LOOP_COMPLETE),this._nextFrameNum=1;else{if(this._playTimes--,!(0<this._playTimes)){this._nextFrameNum=this._totalFrames,this._eventPool.push(t.Event.COMPLETE),this.stop();break}this._eventPool.push(t.Event.LOOP_COMPLETE),this._nextFrameNum=1}this._advanceFrame()}this._constructFrame(),this._handlePendingEvent(),this._setDirty()}},n._advanceFrame=function(){this._currentFrameNum=this._nextFrameNum},n._constructFrame=function(){var t=this._currentFrameNum;this._displayedKeyFrameNum!=t&&(this._textureToRender=this._movieClipData.getTextureByFrame(t),this._DO_Props_._sizeDirty=!0,this._displayedKeyFrameNum=t)},n._handlePendingEvent=function(){if(0!=this._eventPool.length){this._eventPool.reverse();for(var e=this._eventPool,i=e.length,n=!1,s=!1,r=0;r<i;r++){var a=e.pop();a==t.Event.LOOP_COMPLETE?s=!0:a==t.Event.COMPLETE?n=!0:this.dispatchEventWith(a)}s&&this.dispatchEventWith(t.Event.LOOP_COMPLETE),n&&this.dispatchEventWith(t.Event.COMPLETE)}},Object.defineProperty(n,"totalFrames",{get:function(){return this._totalFrames},enumerable:!0,configurable:!0}),Object.defineProperty(n,"currentFrame",{get:function(){return this._currentFrameNum},enumerable:!0,configurable:!0}),Object.defineProperty(n,"currentFrameLabel",{get:function(){var t=this._getFrameLabelByFrame(this._currentFrameNum);return t&&t.name},enumerable:!0,configurable:!0}),Object.defineProperty(n,"currentLabel",{get:function(){var t=this._getFrameLabelForFrame(this._currentFrameNum);return t?t.name:null},enumerable:!0,configurable:!0}),Object.defineProperty(n,"frameRate",{get:function(){return this.movieClipData.frameRate},set:function(t){t!=this._movieClipData.frameRate&&(this._movieClipData.frameRate=t,this._frameIntervalTime=1e3/this._movieClipData.frameRate)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(n,"movieClipData",{get:function(){return this._movieClipData},set:function(t){this._setMovieClipData(t)},enumerable:!0,configurable:!0}),n._setMovieClipData=function(t){this._movieClipData!=t&&(this._movieClipData=t,this._init())},n.setPlayTimes=function(t){(0>t||1<=t)&&(this._playTimes=0>t?-1:Math.floor(t))},n.setIsStopped=function(e){this._isStopped!=e&&((this._isStopped=e)?(this._playTimes=0,t.Ticker.getInstance().unregister(this._advanceTime,this)):(this._playTimes=0==this._playTimes?1:this._playTimes,t.Ticker.getInstance().register(this._advanceTime,this)))},i.renderFilter=t.RenderFilter.getInstance(),i}(t.DisplayObject);t.MovieClip=e,e.prototype.__class__="egret.MovieClip"}(egret||(egret={})),function(t){var e=function(t){function e(e,i){t.call(this),this._name=e,this._frame=0|i}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(i,"frame",{get:function(){return this._frame},enumerable:!0,configurable:!0}),i.clone=function(){return new e(this._name,this._frame)},e}(t.EventDispatcher);t.FrameLabel=e,e.prototype.__class__="egret.FrameLabel"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this._mcData=null,this.numFrames=1,this.frames=[],this.labels=null,this.frameRate=0,this.spriteSheet=this.textureData=null}__extends(i,e);var n=i.prototype;return n._init=function(t,e,i){this.textureData=e,this.spriteSheet=i,this._setMCData(t)},n.getKeyFrameData=function(t){return(t=this.frames[t-1]).frame&&(t=this.frames[t.frame-1]),t},n.getTextureByFrame=function(t){if((t=this.getKeyFrameData(t)).res){var e=this.getTextureByResName(t.res);return e._offsetX=0|t.x,e._offsetY=0|t.y,e}return null},n.getTextureByResName=function(t){var e=this.spriteSheet.getTexture(t);return e||(e=this.textureData[t],e=this.spriteSheet.createTexture(t,e.x,e.y,e.w,e.h)),e},n._isDataValid=function(){return 0<this.frames.length},n._isTextureValid=function(){return null!=this.textureData&&null!=this.spriteSheet},n._fillMCData=function(t){this.frameRate=t.frameRate||24,this._fillFramesData(t.frames),this._fillFrameLabelsData(t.labels)},n._fillFramesData=function(t){for(var e,i=this.frames,n=t?t.length:0,s=0;s<n;s++)if(e=t[s],i.push(e),e.duration){var r=parseInt(e.duration);if(1<r){e=i.length;for(var a=1;a<r;a++)i.push({frame:e})}}this.numFrames=i.length},n._fillFrameLabelsData=function(e){if(e){var i=e.length;if(0<i){this.labels=[];for(var n=0;n<i;n++){var s=e[n];this.labels.push(new t.FrameLabel(s.name,s.frame))}}}},Object.defineProperty(n,"mcData",{get:function(){return this._mcData},set:function(t){this._setMCData(t)},enumerable:!0,configurable:!0}),n._setMCData=function(t){this._mcData!=t&&(this._mcData=t)&&this._fillMCData(t)},i}(t.HashObject);t.MovieClipData=e,e.prototype.__class__="egret.MovieClipData"}(egret||(egret={})),function(t){var e=function(e){function i(t,i){e.call(this),this.enableCache=!0,this._mcDataCache={},this._mcDataSet=t,this.setTexture(i)}__extends(i,e);var n=i.prototype;return n.clearCache=function(){this._mcDataCache={}},n.generateMovieClipData=function(e){if(void 0===e&&(e=""),""==e&&this._mcDataSet)for(e in this._mcDataSet.mc)break;if(""==e)return null;var i=this._findFromCache(e,this._mcDataCache);return i||(i=new t.MovieClipData,this._fillData(e,i,this._mcDataCache)),i},n._findFromCache=function(t,e){return this.enableCache&&e[t]?e[t]:null},n._fillData=function(t,e,i){if(this._mcDataSet){var n=this._mcDataSet.mc[t];n&&(e._init(n,this._mcDataSet.res,this._spriteSheet),this.enableCache&&(i[t]=e))}},Object.defineProperty(n,"mcDataSet",{get:function(){return this._mcDataSet},set:function(t){this._mcDataSet=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"texture",{set:function(t){this.setTexture(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"spriteSheet",{get:function(){return this._spriteSheet},enumerable:!0,configurable:!0}),n.setTexture=function(e){this._spriteSheet=e?new t.SpriteSheet(e):null},i}(t.EventDispatcher);t.MovieClipDataFactory=e,e.prototype.__class__="egret.MovieClipDataFactory"}(egret||(egret={})),function(t){var e=function(t){function e(){t.call(this),this._scaleY=this._scaleX=1,this._size=30,this._color="#FFFFFF",this._fontFamily="Arial",this._italic=this._bold=!1,this._textAlign="left",this._verticalAlign="top",this._visible=!1,this._height=this._width=0,this._multiline=!1,this._maxChars=0}__extends(e,t);var i=e.prototype;return i._setTextField=function(t){this._textfield=t},i._getText=function(){return null},i._setText=function(t){},i._setTextType=function(t){},i._getTextType=function(){return null},i._show=function(t,e,i,n){},i._add=function(){},i._remove=function(){},i._hide=function(){},i._addListeners=function(){},i._removeListeners=function(){},i._setScale=function(t,e){this._scaleX=t,this._scaleY=e},i.changePosition=function(t,e){},i._setSize=function(t){this._size=t},i._setTextColor=function(t){this._color=t},i._setTextFontFamily=function(t){this._fontFamily=t},i._setBold=function(t){this._bold=t},i._setItalic=function(t){this._italic=t},i._setTextAlign=function(t){this._textAlign=t},i._setVerticalAlign=function(t){this._verticalAlign=t},i._setVisible=function(t){this._visible=t},i._setWidth=function(t){this._width=t},i._setHeight=function(t){this._height=t},i._setMultiline=function(t){this._multiline=t},i._setMaxChars=function(t){this._maxChars=t},i._resetStageText=function(){},i._initElement=function(t,e,i,n){},i._removeInput=function(){},e.create=function(){return null},e}(t.EventDispatcher);t.StageText=e,e.prototype.__class__="egret.StageText"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.GET="get",t.POST="post",t}();t.URLRequestMethod=e,e.prototype.__class__="egret.URLRequestMethod"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.BINARY="binary",t.TEXT="text",t.VARIABLES="variables",t.TEXTURE="texture",t.SOUND="sound",t}();t.URLLoaderDataFormat=e,e.prototype.__class__="egret.URLLoaderDataFormat"}(egret||(egret={})),function(t){var e=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.variables=null,null!==e&&this.decode(e)}__extends(e,t);var i=e.prototype;return i.decode=function(t){this.variables||(this.variables={}),t=t.split("+").join(" ");for(var e,i=/[?&]?([^=]+)=([^&]*)/g;e=i.exec(t);){var n=decodeURIComponent(e[1]);if(e=decodeURIComponent(e[2]),0==n in this.variables)this.variables[n]=e;else{var s=this.variables[n];s instanceof Array?s.push(e):this.variables[n]=[s,e]}}},i.toString=function(){if(!this.variables)return"";var t,e=this.variables,i=[];for(t in e)i.push(this.encodeValue(t,e[t]));return i.join("&")},i.encodeValue=function(t,e){return e instanceof Array?this.encodeArray(t,e):encodeURIComponent(t)+"="+encodeURIComponent(e)},i.encodeArray=function(t,e){return t?0==e.length?encodeURIComponent(t)+"=":e.map(function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&"):""},e}(t.HashObject);t.URLVariables=e,e.prototype.__class__="egret.URLVariables"}(egret||(egret={})),function(t){var e=function(t,e){this.value=this.name="",this.name=t,this.value=e};(egret||(egret={})).URLRequestHeader=e,e.prototype.__class__="egret.URLRequestHeader"}(),function(t){var e=function(e){function i(i){void 0===i&&(i=null),e.call(this),this.data=null,this.method=t.URLRequestMethod.GET,this.url="",this.url=i}return __extends(i,e),i}(t.HashObject);t.URLRequest=e,e.prototype.__class__="egret.URLRequest"}(egret||(egret={})),function(t){var e=function(e){function i(i){void 0===i&&(i=null),e.call(this),this.dataFormat=t.URLLoaderDataFormat.TEXT,this._request=this.data=null,this._status=-1,i&&this.load(i)}__extends(i,e);var n=i.prototype;return n.load=function(e){this._request=e,this.data=null,t.MainContext.instance.netContext.proceed(this)},n.__recycle=function(){this.data=this._request=null},i}(t.EventDispatcher);t.URLLoader=e,e.prototype.__class__="egret.URLLoader"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this._sourceHeight=this._sourceWidth=this._textureHeight=this._textureWidth=this._offsetY=this._offsetX=this._bitmapHeight=this._bitmapWidth=this._bitmapY=this._bitmapX=0,this._bitmapData=null}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"textureWidth",{get:function(){return this._textureWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n,"textureHeight",{get:function(){return this._textureHeight},enumerable:!0,configurable:!0}),n._setBitmapData=function(e){var i=t.MainContext.instance.rendererContext._texture_scale_factor;this._bitmapData=e,this._sourceWidth=e.width,this._sourceHeight=e.height,this._textureWidth=this._sourceWidth*i,this._textureHeight=this._sourceHeight*i,this._bitmapWidth=this._textureWidth,this._bitmapHeight=this._textureHeight,this._offsetX=this._offsetY=this._bitmapX=this._bitmapY=0},n.getPixel32=function(t,e){return this._bitmapData.getContext("2d").getImageData(t,e,1,1).data},n.dispose=function(){var t=this._bitmapData;t.dispose&&t.dispose()},n._clone=function(){var t=new i;return t._bitmapData=this._bitmapData,t},n.draw=function(t,e,i,n,s,r,a,o,h,l){},n._drawForCanvas=function(t,e,i,n,s,r,a,o,h,l){var u=this._bitmapData;u&&u.avaliable&&(void 0!=l?this._drawRepeatImageForCanvas(t,e,i,n,s,r,a,o,h,l):t.drawImage(u,e,i,n,s,r,a,o,h))},n._drawForNative=function(t,e,i,n,s,r,a,o,h,l){var u=this._bitmapData;u&&u.avaliable&&(void 0!==l?this._drawRepeatImageForNative(t,e,i,n,s,r,a,o,h,l):t.drawImage(u,e,i,n,s,r,a,o,h))},n._drawRepeatImageForNative=function(e,i,n,s,r,a,o,h,l,u){for(s*=u=t.MainContext.instance.rendererContext._texture_scale_factor,r*=u;a<h;a+=s)for(var c=o;c<l;c+=r){var _=Math.min(s,h-a),d=Math.min(r,l-c);this._drawForNative(e,i,n,_/u,d/u,a,c,_,d,void 0)}},n._drawRepeatImageForCanvas=function(e,i,n,s,r,a,o,h,l,u){if(void 0===this.pattern){var c=t.MainContext.instance.rendererContext._texture_scale_factor,_=this._bitmapData,d=_;_.width==s&&_.height==r&&1==c||(d=document.createElement("canvas"),d.width=s*c,d.height=r*c,d.getContext("2d").drawImage(_,i,n,s,r,0,0,s*c,r*c)),this.pattern=e.createPattern(d,u)}e.fillStyle=this.pattern,e.translate(a,o),e.fillRect(0,0,h,l),e.translate(-a,-o)},n._disposeForCanvas=function(){i.deleteWebGLTexture(this);var t=this._bitmapData;t.onload=null,t.onerror=null,t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAATSURBVHjaYvj//z8DAAAA//8DAAj8Av7TpXVhAAAAAElFTkSuQmCC",t.avaliable=!1,console.log("_disposeForCanvas")},n._disposeForNative=function(){var t=this._bitmapData;t.dispose(),t.avaliable=!1,console.log("_disposeForNative")},i.deleteWebGLTexture=function(t){if(t=t._bitmapData){var e=t.webGLTexture;if(e)for(var i in e){var n=e[i];n.glContext.deleteTexture(n)}t.webGLTexture=null}},i.createBitmapData=function(t,e){},i._createBitmapDataForCanvasAndWebGl=function(e,n){var s=i._bitmapDataFactory[e];if(s||((s=document.createElement("img")).setAttribute("bitmapSrc",e),i._bitmapDataFactory[e]=s),s.avaliable)n(0,s);else{s.crossOrigin=i.crossOrigin;var r=window.URL||window.webkitURL;if(null==i._bitmapCallbackMap[e])if(i._addToCallbackList(e,n),0!=e.indexOf("data:")&&0!=e.indexOf("http:")&&0!=e.indexOf("https:")&&t.Browser.getInstance().isIOS()&&7<=parseInt(t.Browser.getInstance().getIOSVersion().charAt(0))&&r){var a=new XMLHttpRequest;a.open("get",e,!0),a.responseType="blob",a.onload=function(){if(200==this.status){var t=this.response;s.onload=function(){r.revokeObjectURL(s.src),i._onLoad(e,s)},s.onerror=function(){i._onError(e,s)},s.src=r.createObjectURL(t)}else n(1,null)},a.send()}else s.onload=function(){i._onLoad(e,s)},s.onerror=function(){i._onError(e,s)},s.src=e;else i._addToCallbackList(e,n)}},i._onLoad=function(t,e){e.avaliable=!0,e.onload&&(e.onload=null),e.onerror&&(e.onerror=null);var n=i._bitmapCallbackMap[t];if(n&&n.length){delete i._bitmapCallbackMap[t];for(var s=n.length,r=0;r<s;r++)(0,n[r])(0,e)}},i._onError=function(t,e){var n=i._bitmapCallbackMap[t];if(n&&n.length){delete i._bitmapCallbackMap[t];for(var s=n.length,r=0;r<s;r++)(0,n[r])(1,e)}},i._createBitmapDataForNative=function(e,n){console.log("_createBitmapDataForNative:"+e);var s=i._bitmapDataFactory[e];s?(s.avaliable||(console.log("reload"),s.reload(),s.avaliable=!0),n(0,s)):t.NativeNetContext.__use_asyn?i._bitmapCallbackMap[e]?i._addToCallbackList(e,n):(i._addToCallbackList(e,n),s=new t.PromiseObject,s.onSuccessFunc=function(t){i._bitmapDataFactory[e]=t,i._onLoad(e,t)},s.onErrorFunc=function(){i._onError(e,null)},console.log("addTextureAsyn"),egret_native.Texture.addTextureAsyn(e,s)):(console.log("addTexture"),s=egret_native.Texture.addTexture(e),i._bitmapDataFactory[e]=s,s.avaliable=!0,n(0,s))},i._addToCallbackList=function(t,e){var n=i._bitmapCallbackMap[t];n||(n=[]),n.push(e),i._bitmapCallbackMap[t]=n},i.crossOrigin=null,i._bitmapDataFactory={},i._bitmapCallbackMap={},i}(t.HashObject);t.Texture=e,e.prototype.__class__="egret.Texture"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this)}__extends(i,e);var n=i.prototype;return n.init=function(){this._bitmapData=document.createElement("canvas"),this._bitmapData.avaliable=!0,this.renderContext=t.RendererContext.createRendererContext(this._bitmapData)},n.drawToTexture=function(e,n,s){if(0==(u=n||e.getBounds(t.Rectangle.identity)).width||0==u.height)return!1;this._bitmapData||this.init();var r,a,o=u.x,h=u.y,l=u.width,u=u.height,c=t.MainContext.instance.rendererContext._texture_scale_factor;if(r=l/c,a=u/c,r=Math.round(r),a=Math.round(a),this.setSize(r,a),this.begin(),e._worldTransform.identity(),e._worldTransform.a=1/c,e._worldTransform.d=1/c,s&&(e._worldTransform.a*=s,e._worldTransform.d*=s),s=e._DO_Props_._anchorOffsetX,c=e._DO_Props_._anchorOffsetY,0==e._DO_Props_._anchorX&&0==e._DO_Props_._anchorY||(s=e._DO_Props_._anchorX*r,c=e._DO_Props_._anchorY*a),this._offsetX=o+s,this._offsetY=h+c,e._worldTransform.append(1,0,0,1,-this._offsetX,-this._offsetY),n&&(this._offsetX-=o,this._offsetY-=h),e.worldAlpha=1,e instanceof t.DisplayObjectContainer)for(n=e._children,o=0,h=n.length;o<h;o++)n[o]._updateTransform();return this.renderContext.setTransform(e._worldTransform),n=t.RenderFilter.getInstance(),o=n._drawAreaList.concat(),n._drawAreaList.length=0,this.renderContext.clearScreen(),this.renderContext.onRenderStart(),t.Texture.deleteWebGLTexture(this),e._hasFilters()&&e._setGlobalFilters(this.renderContext),(h=e.mask||e._DO_Props_._scrollRect)&&this.renderContext.pushMask(h),s=t.MainContext.__use_new_draw,t.MainContext.__use_new_draw=!1,e._render(this.renderContext),t.MainContext.__use_new_draw=s,h&&this.renderContext.popMask(),e._hasFilters()&&e._removeGlobalFilters(this.renderContext),i.identityRectangle.width=r,i.identityRectangle.height=a,n.addDrawArea(i.identityRectangle),this.renderContext.onRenderFinish(),n._drawAreaList=o,this._sourceWidth=r,this._sourceHeight=a,this._textureWidth=Math.round(l),this._textureHeight=Math.round(u),this.end(),!0},n.setSize=function(t,e){var i=this._bitmapData;i.width=t,i.height=e,i.style.width=t+"px",i.style.height=e+"px",this.renderContext._cacheCanvas&&(this.renderContext._cacheCanvas.width=t,this.renderContext._cacheCanvas.height=e)},n.begin=function(){},n.end=function(){},n.dispose=function(){this._bitmapData&&(this.renderContext=this._bitmapData=null)},i.create=function(){return i._pool.length?i._pool.pop():new i},i.release=function(t){i._pool.push(t)},i.identityRectangle=new t.Rectangle,i._pool=[],i}(t.Texture);t.RenderTexture=e,e.prototype.__class__="egret.RenderTexture"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this.renderCost=0,this._texture_scale_factor=1,this.profiler=t.Profiler.getInstance(),i.blendModesForGL||i.initBlendMode()}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"texture_scale_factor",{get:function(){return this._texture_scale_factor},set:function(t){this._setTextureScaleFactor(t)},enumerable:!0,configurable:!0}),n._setTextureScaleFactor=function(t){this._texture_scale_factor=t},n.clearScreen=function(){},n.clearRect=function(t,e,i,n){},n.drawImage=function(t,e,i,n,s,r,a,o,h,l){this.profiler.onDrawImage()},n.drawImageScale9=function(t,e,i,n,s,r,a,o,h,l){return!1},n._addOneDraw=function(){this.profiler.onDrawImage()},n.setTransform=function(t){},n.setAlpha=function(t,e){},n.setupFont=function(t,e){},n.measureText=function(t){return 0},n.drawText=function(t,e,i,n,s,r){this.profiler.onDrawImage()},n.strokeRect=function(t,e,i,n,s){},n.pushMask=function(t){},n.popMask=function(){},n.onRenderStart=function(){},n.onRenderFinish=function(){},n.setGlobalFilters=function(t){},n.drawCursor=function(t,e,i,n){},i.createRendererContext=function(t){return null},i.initBlendMode=function(){(i.blendModesForGL={})[t.BlendMode.NORMAL]=[1,771],i.blendModesForGL[t.BlendMode.ADD]=[770,1],i.blendModesForGL[t.BlendMode.ERASE]=[0,771],i.blendModesForGL[t.BlendMode.ERASE_REVERSE]=[0,770]},i.registerBlendModeForGL=function(e,n,s,r){i.blendModesForGL[e]&&!r?t.Logger.warningWithErrorId(1005,e):i.blendModesForGL[e]=[n,s]},i.imageSmoothingEnabled=!0,i.blendModesForGL=null,i}(t.HashObject);t.RendererContext=e,e.prototype.__class__="egret.RendererContext"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.MOUSE="mouse",t.TOUCH="touch",t.mode="touch",t}();t.InteractionMode=e,e.prototype.__class__="egret.InteractionMode"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this._currentTouchTarget={},this.maxTouches=2,this.touchDownTarget={},this.touchingIdentifiers=[],this.lastTouchY=this.lastTouchX=-1}__extends(i,e);var n=i.prototype;return n.run=function(){},n.getTouchData=function(t,e,i){var n=this._currentTouchTarget[t];return null==n&&(n={},this._currentTouchTarget[t]=n),n.stageX=e,n.stageY=i,n.identifier=t,n},n.dispatchEvent=function(e,i){t.TouchEvent.dispatchTouchEvent(i.target,e,i.identifier,i.stageX,i.stageY,!1,!1,!1,1==this.touchDownTarget[i.identifier])},n.onTouchBegan=function(e,i,n){if(this.touchingIdentifiers.length!=this.maxTouches){this.lastTouchX=e,this.lastTouchY=i;var s=t.MainContext.instance.stage.hitTest(e,i);s&&(e=this.getTouchData(n,e,i),this.touchDownTarget[n]=!0,e.target=s,e.beginTarget=s,this.dispatchEvent(t.TouchEvent.TOUCH_BEGIN,e)),this.touchingIdentifiers.push(n)}},n.onTouchMove=function(e,i,n){if(-1!=this.touchingIdentifiers.indexOf(n)&&(e!=this.lastTouchX||i!=this.lastTouchY)){this.lastTouchX=e,this.lastTouchY=i;var s=t.MainContext.instance.stage.hitTest(e,i);s&&(e=this.getTouchData(n,e,i),e.target=s,this.dispatchEvent(t.TouchEvent.TOUCH_MOVE,e))}},n.onTouchEnd=function(e,i,n){var s=this.touchingIdentifiers.indexOf(n);-1!=s&&(this.touchingIdentifiers.splice(s,1),s=t.MainContext.instance.stage.hitTest(e,i))&&(e=this.getTouchData(n,e,i),delete this.touchDownTarget[n],n=e.beginTarget,e.target=s,this.dispatchEvent(t.TouchEvent.TOUCH_END,e),n==s?this.dispatchEvent(t.TouchEvent.TOUCH_TAP,e):e.beginTarget&&(e.target=e.beginTarget,this.dispatchEvent(t.TouchEvent.TOUCH_RELEASE_OUTSIDE,e)),delete this._currentTouchTarget[e.identifier])},i}(t.HashObject);t.TouchContext=e,e.prototype.__class__="egret.TouchContext"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this)}__extends(i,e);var n=i.prototype;return n.proceed=function(t){},i._getUrl=function(e){var i=e.url;return-1==i.indexOf("?")&&e.method==t.URLRequestMethod.GET&&e.data&&e.data instanceof t.URLVariables&&(i=i+"?"+e.data.toString()),i},n.getChangeList=function(){return[]},i}(t.HashObject);t.NetContext=e,e.prototype.__class__="egret.NetContext"}(egret||(egret={})),function(t){var e=function(t){function e(){t.call(this),this.frameRate=60}return __extends(e,t),e.prototype.executeMainLoop=function(t,e){},e}(t.HashObject);t.DeviceContext=e,e.prototype.__class__="egret.DeviceContext"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.call=function(t,e){},t.addCallback=function(t,e){},t}();t.ExternalInterface=e,e.prototype.__class__="egret.ExternalInterface"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this.header=this.trans=null,this.ua=navigator.userAgent.toLowerCase(),this.trans=this.getTrans("transform")}__extends(i,e);var n=i.prototype;return i.getInstance=function(){return null==i.instance&&(i.instance=new i),i.instance},Object.defineProperty(n,"isMobile",{get:function(){return t.Logger.warningWithErrorId(1e3),t.MainContext.deviceType==t.MainContext.DEVICE_MOBILE},enumerable:!0,configurable:!0}),n.isIOS=function(){return 0>this.ua.indexOf("windows")&&(0<=this.ua.indexOf("iphone")||0<=this.ua.indexOf("ipad")||0<=this.ua.indexOf("ipod"))},n.getIOSVersion=function(){return this.ua.toLowerCase().match(/cpu [^\d]*\d.*like mac os x/)[0].match(/\d(_\d)*/)[0]},n.getUserAgent=function(){return this.ua},n.getTrans=function(t,e){void 0===e&&(e=!1);var i="";return e?i=this.getHeader(t):(null==this.header&&(this.header=this.getHeader("transform")),i=this.header),""==i?t:i+t.charAt(0).toUpperCase()+t.substring(1,t.length)},n.getHeader=function(t){var e=document.createElement("div").style;if(t in e)return"";t=t.charAt(0).toUpperCase()+t.substring(1,t.length);for(var i=["webkit","ms","Moz","O"],n=0;n<i.length;n++)if(i[n]+t in e)return i[n];return""},n.$new=function(t){return this.$(document.createElement(t))},n.$=function(e){var n=document;return(e=e instanceof HTMLElement?e:n.querySelector(e))&&(e.find=e.find||this.$,e.hasClass=e.hasClass||function(t){return this.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},e.addClass=e.addClass||function(t){return this.hasClass(t)||(this.className&&(this.className+=" "),this.className+=t),this},e.removeClass=e.removeClass||function(t){return this.hasClass(t)&&(this.className=this.className.replace(t,"")),this},e.remove=e.remove||function(){},e.appendTo=e.appendTo||function(t){return t.appendChild(this),this},e.prependTo=e.prependTo||function(t){return t.childNodes[0]?t.insertBefore(this,t.childNodes[0]):t.appendChild(this),this},e.transforms=e.transforms||function(){return this.style[i.getInstance().trans]=i.getInstance().translate(this.position)+i.getInstance().rotate(this.rotation)+i.getInstance().scale(this.scale)+i.getInstance().skew(this.skew),this},e.position=e.position||{x:0,y:0},e.rotation=e.rotation||0,e.scale=e.scale||{x:1,y:1},e.skew=e.skew||{x:0,y:0},e.translates=function(e,i){return this.position.x=e,this.position.y=i-t.MainContext.instance.stage.stageHeight,this.transforms(),this},e.rotate=function(t){return this.rotation=t,this.transforms(),this},e.resize=function(t,e){return this.scale.x=t,this.scale.y=e,this.transforms(),this},e.setSkew=function(t,e){return this.skew.x=t,this.skew.y=e,this.transforms(),this}),e},n.translate=function(t){return"translate("+t.x+"px, "+t.y+"px) "},n.rotate=function(t){return"rotate("+t+"deg) "},n.scale=function(t){return"scale("+t.x+", "+t.y+") "},n.skew=function(t){return"skewX("+-t.x+"deg) skewY("+t.y+"deg)"},i}(t.HashObject);t.Browser=e,e.prototype.__class__="egret.Browser"}(egret||(egret={})),function(t){!function(t){t.getItem=function(t){return null},t.setItem=function(t,e){return!1},t.removeItem=function(t){},t.clear=function(){}}(t.localStorage||(t.localStorage={}))}(egret||(egret={})),function(t){var e=function(){function e(){}return e.parse=function(i){if(!(i=t.SAXParser.getInstance().parserXML(i))||!i.childNodes)return null;for(var n=i.childNodes.length,s=!1,r=0;r<n;r++){var a=i.childNodes[r];if(1==a.nodeType){s=!0;break}}return s?e.parseNode(a):null},e.parseNode=function(t){if(!t||1!=t.nodeType)return null;var i={};i.localName=t.localName,i.name=t.nodeName,t.namespaceURI&&(i.namespace=t.namespaceURI),t.prefix&&(i.prefix=t.prefix);for(var n=t.attributes,s=n.length,r=0;r<s;r++){var a=n[r],o=a.name;0!=o.indexOf("xmlns:")&&(i["$"+o]=a.value)}for(s=(n=t.childNodes).length,r=0;r<s;r++)(a=e.parseNode(n[r]))&&(i.children||(i.children=[]),a.parent=i,i.children.push(a));return!i.children&&(t=t.textContent.trim())&&(i.text=t),i},e.findChildren=function(t,i,n){return n?n.length=0:n=[],e.findByPath(t,i,n),n},e.findByPath=function(t,i,n){var s,r=i.indexOf(".");if(-1==r?(s=i,r=!0):(s=i.substring(0,r),i=i.substring(r+1),r=!1),t=t.children)for(var a=t.length,o=0;o<a;o++){var h=t[o];h.localName==s&&(r?n.push(h):e.findByPath(h,i,n))}},e.getAttributes=function(t,e){e?e.length=0:e=[];for(var i in t)"$"==i.charAt(0)&&e.push(i.substring(1));return e},e}();t.XML=e,e.prototype.__class__="egret.XML"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.LITTLE_ENDIAN="littleEndian",t.BIG_ENDIAN="bigEndian",t}();t.Endian=e,e.prototype.__class__="egret.Endian";var i=function(){function i(t){this.BUFFER_EXT_SIZE=0,this.EOF_code_point=this.EOF_byte=-1,this._setArrayBuffer(t||new ArrayBuffer(this.BUFFER_EXT_SIZE)),this.endian=e.BIG_ENDIAN}var n=i.prototype;return n._setArrayBuffer=function(t){this.write_position=t.byteLength,this.data=new DataView(t),this._position=0},n.setArrayBuffer=function(t){},Object.defineProperty(n,"buffer",{get:function(){return this.data.buffer},set:function(t){this.data=new DataView(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"dataView",{get:function(){return this.data},set:function(t){this.data=t,this.write_position=t.byteLength},enumerable:!0,configurable:!0}),Object.defineProperty(n,"bufferOffset",{get:function(){return this.data.byteOffset},enumerable:!0,configurable:!0}),Object.defineProperty(n,"position",{get:function(){return this._position},set:function(t){this._position<t&&!this.validate(t-this._position)||(this._position=t,this.write_position=t>this.write_position?t:this.write_position)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"length",{get:function(){return this.write_position},set:function(t){this.validateBuffer(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"bytesAvailable",{get:function(){return this.data.byteLength-this._position},enumerable:!0,configurable:!0}),n.clear=function(){this._setArrayBuffer(new ArrayBuffer(this.BUFFER_EXT_SIZE))},n.readBoolean=function(){return this.validate(i.SIZE_OF_BOOLEAN)?0!=this.data.getUint8(this.position++):null},n.readByte=function(){return this.validate(i.SIZE_OF_INT8)?this.data.getInt8(this.position++):null},n.readBytes=function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=0),0==n)n=this.bytesAvailable;else if(!this.validate(n))return null;t?t.validateBuffer(n):t=new i(new ArrayBuffer(n));for(var s=0;s<n;s++)t.data.setUint8(s+e,this.data.getUint8(this.position++))},n.readDouble=function(){if(!this.validate(i.SIZE_OF_FLOAT64))return null;var t=this.data.getFloat64(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_FLOAT64,t},n.readFloat=function(){if(!this.validate(i.SIZE_OF_FLOAT32))return null;var t=this.data.getFloat32(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_FLOAT32,t},n.readInt=function(){if(!this.validate(i.SIZE_OF_INT32))return null;var t=this.data.getInt32(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_INT32,t},n.readShort=function(){if(!this.validate(i.SIZE_OF_INT16))return null;var t=this.data.getInt16(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_INT16,t},n.readUnsignedByte=function(){return this.validate(i.SIZE_OF_UINT8)?this.data.getUint8(this.position++):null},n.readUnsignedInt=function(){if(!this.validate(i.SIZE_OF_UINT32))return null;var t=this.data.getUint32(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_UINT32,t},n.readUnsignedShort=function(){if(!this.validate(i.SIZE_OF_UINT16))return null;var t=this.data.getUint16(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_UINT16,t},n.readUTF=function(){if(!this.validate(i.SIZE_OF_UINT16))return null;var t=this.data.getUint16(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_UINT16,0<t?this.readUTFBytes(t):""},n.readUTFBytes=function(t){if(!this.validate(t))return null;var e=new Uint8Array(this.buffer,this.bufferOffset+this.position,t);return this.position+=t,this.decodeUTF8(e)},n.writeBoolean=function(t){this.validateBuffer(i.SIZE_OF_BOOLEAN),this.data.setUint8(this.position++,t?1:0)},n.writeByte=function(t){this.validateBuffer(i.SIZE_OF_INT8),this.data.setInt8(this.position++,t)},n.writeBytes=function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),!(0>e||0>i)&&0<(i=0==i?t.length-e:Math.min(t.length-e,i))){this.validateBuffer(i),t=new DataView(t.buffer);for(var n=e;n<i+e;n++)this.data.setUint8(this.position++,t.getUint8(n))}},n.writeDouble=function(t){this.validateBuffer(i.SIZE_OF_FLOAT64),this.data.setFloat64(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_FLOAT64},n.writeFloat=function(t){this.validateBuffer(i.SIZE_OF_FLOAT32),this.data.setFloat32(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_FLOAT32},n.writeInt=function(t){this.validateBuffer(i.SIZE_OF_INT32),this.data.setInt32(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_INT32},n.writeShort=function(t){this.validateBuffer(i.SIZE_OF_INT16),this.data.setInt16(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_INT16},n.writeUnsignedInt=function(t){this.validateBuffer(i.SIZE_OF_UINT32),this.data.setUint32(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_UINT32},n.writeUTF=function(t){var n=(t=this.encodeUTF8(t)).length;this.validateBuffer(i.SIZE_OF_UINT16+n),this.data.setUint16(this.position,n,this.endian===e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_UINT16,this._writeUint8Array(t,!1)},n.writeUTFBytes=function(t){this._writeUint8Array(this.encodeUTF8(t))},n.toString=function(){return"[ByteArray] length:"+this.length+", bytesAvailable:"+this.bytesAvailable},n._writeUint8Array=function(t,e){void 0===e&&(e=!0),e&&this.validateBuffer(this.position+t.length);for(var i=0;i<t.length;i++)this.data.setUint8(this.position++,t[i])},n.validate=function(e){if(0<this.data.byteLength&&this._position+e<=this.data.byteLength)return!0;throw t.getString(1025)},n.validateBuffer=function(t,e){if(void 0===e&&(e=!1),this.write_position=t>this.write_position?t:this.write_position,t+=this._position,this.data.byteLength<t||e){var i=new Uint8Array(new ArrayBuffer(t+this.BUFFER_EXT_SIZE)),n=Math.min(this.data.buffer.byteLength,t+this.BUFFER_EXT_SIZE);i.set(new Uint8Array(this.data.buffer,0,n)),this.buffer=i.buffer}},n.encodeUTF8=function(t){var e=0;t=this.stringToCodePoints(t);for(var i=[];t.length>e;){var n=t[e++];if(this.inRange(n,55296,57343))this.encoderError(n);else if(this.inRange(n,0,127))i.push(n);else{var s,r;for(this.inRange(n,128,2047)?(s=1,r=192):this.inRange(n,2048,65535)?(s=2,r=224):this.inRange(n,65536,1114111)&&(s=3,r=240),i.push(this.div(n,Math.pow(64,s))+r);0<s;){var a=this.div(n,Math.pow(64,s-1));i.push(128+a%64),s-=1}}}return new Uint8Array(i)},n.decodeUTF8=function(t){for(var e,i=0,n="",s=0,r=0,a=0,o=0;t.length>i;){if((e=t[i++])===this.EOF_byte)e=0!==r?this.decoderError(!1):this.EOF_code_point;else if(0===r)this.inRange(e,0,127)||(this.inRange(e,194,223)?(r=1,o=128,s=e-192):this.inRange(e,224,239)?(r=2,o=2048,s=e-224):this.inRange(e,240,244)?(r=3,o=65536,s=e-240):this.decoderError(!1),s*=Math.pow(64,r),e=null);else if(this.inRange(e,128,191))if(a+=1,s+=(e-128)*Math.pow(64,r-a),a!==r)e=null;else{var h=s,l=o,o=a=r=s=0;e=this.inRange(h,l,1114111)&&!this.inRange(h,55296,57343)?h:this.decoderError(!1,e)}else o=a=r=s=0,i--,e=this.decoderError(!1,e);null!==e&&e!==this.EOF_code_point&&(65535>=e?0<e&&(n+=String.fromCharCode(e)):(e-=65536,n+=String.fromCharCode(55296+(e>>10&1023)),n+=String.fromCharCode(56320+(1023&e))))}return n},n.encoderError=function(e){throw t.getString(1026,e)},n.decoderError=function(e,i){if(e)throw t.getString(1027);return i||65533},n.inRange=function(t,e,i){return e<=t&&t<=i},n.div=function(t,e){return Math.floor(t/e)},n.stringToCodePoints=function(t){for(var e=[],i=0,n=t.length;i<t.length;){var s=t.charCodeAt(i);if(this.inRange(s,55296,57343))if(this.inRange(s,56320,57343))e.push(65533);else if(i===n-1)e.push(65533);else{var r=t.charCodeAt(i+1);this.inRange(r,56320,57343)?(s&=1023,r&=1023,i+=1,e.push(65536+(s<<10)+r)):e.push(65533)}else e.push(s);i+=1}return e},i.SIZE_OF_BOOLEAN=1,i.SIZE_OF_INT8=1,i.SIZE_OF_INT16=2,i.SIZE_OF_INT32=4,i.SIZE_OF_UINT8=1,i.SIZE_OF_UINT16=2,i.SIZE_OF_UINT32=4,i.SIZE_OF_FLOAT32=4,i.SIZE_OF_FLOAT64=8,i}();t.ByteArray=i,i.prototype.__class__="egret.ByteArray"}(egret||(egret={})),(egret||(egret={})).getOption=function(t){if(window.hasOwnProperty("location")){e=location.search;if(""==e)return"";for(var e,i=(e=(e=e.slice(1)).split("&")).length,n=0;n<i;n++){var s=e[n].split("=");if(s[0]==t)return s[1]}}return""},function(t){var e=function(e){function i(t,i,n){e.call(this),this._target=null,this.loop=this.ignoreGlobalPause=this._useTicks=!1,this._actions=this._steps=this.pluginData=null,this.paused=!1,this.duration=0,this._prevPos=-1,this.position=null,this._stepPosition=this._prevPosition=0,this.passive=!1,this.initialize(t,i,n)}__extends(i,e);var n=i.prototype;return i.get=function(t,e,n,s){return void 0===e&&(e=null),void 0===n&&(n=null),void 0===s&&(s=!1),s&&i.removeTweens(t),new i(t,e,n)},i.removeTweens=function(t){if(t.tween_count){for(var e=i._tweens,n=e.length-1;0<=n;n--)e[n]._target==t&&(e[n].paused=!0,e.splice(n,1));t.tween_count=0}},i.pauseTweens=function(e){if(e.tween_count)for(var i=t.Tween._tweens,n=i.length-1;0<=n;n--)i[n]._target==e&&(i[n].paused=!0)},i.resumeTweens=function(e){if(e.tween_count)for(var i=t.Tween._tweens,n=i.length-1;0<=n;n--)i[n]._target==e&&(i[n].paused=!1)},i.tick=function(t,e){void 0===e&&(e=!1);for(var n=i._tweens.concat(),s=n.length-1;0<=s;s--){var r=n[s];e&&!r.ignoreGlobalPause||r.paused||r.tick(r._useTicks?1:t)}},i._register=function(e,n){var s=e._target,r=i._tweens;if(n)s&&(s.tween_count=0<s.tween_count?s.tween_count+1:1),r.push(e),i._inited||(t.Ticker.getInstance().register(i.tick,null),i._inited=!0);else for(s&&s.tween_count--,s=r.length;s--;)if(r[s]==e){r.splice(s,1);break}},i.removeAllTweens=function(){for(var t=i._tweens,e=0,n=t.length;e<n;e++){var s=t[e];s.paused=!0,s._target.tweenjs_count=0}t.length=0},n.initialize=function(t,e,n){this._target=t,e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.addEventListener("change",e.onChange,e.onChangeObj),e.override&&i.removeTweens(t)),this.pluginData=n||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],e&&e.paused?this.paused=!0:i._register(this,!0),e&&null!=e.position&&this.setPosition(e.position,i.NONE)},n.setPosition=function(t,e){void 0===e&&(e=1),0>t&&(t=0);var i=t,n=!1;if(i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,n=!0)),i==this._prevPos)return n;var s=this._prevPos;if(this.position=this._prevPos=i,this._prevPosition=t,this._target)if(n)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var r=0,a=this._steps.length;r<a&&!(this._steps[r].t>i);r++);r=this._steps[r-1],this._updateTargetProps(r,(this._stepPosition=i-r.t)/r.d)}return 0!=e&&0<this._actions.length&&(this._useTicks?this._runActions(i,i):1==e&&i<s?(s!=this.duration&&this._runActions(s,this.duration),this._runActions(0,i,!0)):this._runActions(s,i)),n&&this.setPaused(!0),this.dispatchEventWith("change"),n},n._runActions=function(t,e,i){void 0===i&&(i=!1);var n=t,s=e,r=-1,a=this._actions.length,o=1;for(t>e&&(n=e,s=t,r=a,a=o=-1);(r+=o)!=a;){var h=(e=this._actions[r]).t;(h==s||h>n&&h<s||i&&h==t)&&e.f.apply(e.o,e.p)}},n._updateTargetProps=function(t,e){var n,s,r,a;if(t||1!=e){if(this.passive=!!t.v)return;t.e&&(e=t.e(e,0,1,1)),n=t.p0,s=t.p1}else this.passive=!1,n=s=this._curQueueProps;for(var o in this._initQueueProps){null==(r=n[o])&&(n[o]=r=this._initQueueProps[o]),null==(a=s[o])&&(s[o]=a=r),r=r==a||0==e||1==e||"number"!=typeof r?1==e?a:r:r+(a-r)*e;var h=!1;if(a=i._plugins[o])for(var l=0,u=a.length;l<u;l++){var c=a[l].tween(this,o,r,n,s,e,!!t&&n==s,!t);c==i.IGNORE?h=!0:r=c}h||(this._target[o]=r)}},n.setPaused=function(t){return this.paused=t,i._register(this,!t),this},n._cloneProps=function(t){var e,i={};for(e in t)i[e]=t[e];return i},n._addStep=function(t){return 0<t.d&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},n._appendQueueProps=function(t){var e,n,s,r,a,o;for(o in t)if(void 0===this._initQueueProps[o]){if(n=this._target[o],e=i._plugins[o])for(s=0,r=e.length;s<r;s++)n=e[s].init(this,o,n);this._initQueueProps[o]=this._curQueueProps[o]=void 0===n?null:n}for(o in t){if(n=this._curQueueProps[o],e=i._plugins[o])for(a=a||{},s=0,r=e.length;s<r;s++)e[s].step&&e[s].step(this,o,n,t[o],a);this._curQueueProps[o]=t[o]}return a&&this._appendQueueProps(a),this._curQueueProps},n._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},n._set=function(t,e){for(var i in t)e[i]=t[i]},n.wait=function(t,e){if(null==t||0>=t)return this;var i=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:i,p1:i,v:e})},n.to=function(t,e,i){return void 0===i&&(i=void 0),(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(t))})},n.call=function(t,e,i){return void 0===e&&(e=void 0),void 0===i&&(i=void 0),this._addAction({f:t,p:i||[],o:e||this._target})},n.set=function(t,e){return void 0===e&&(e=null),this._addAction({f:this._set,o:this,p:[t,e||this._target]})},n.play=function(t){return t||(t=this),this.call(t.setPaused,t,[!1])},n.pause=function(t){return t||(t=this),this.call(t.setPaused,t,[!0])},n.tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},i.NONE=0,i.LOOP=1,i.REVERSE=2,i._tweens=[],i.IGNORE={},i._plugins={},i._inited=!1,i}(t.EventDispatcher);t.Tween=e,e.prototype.__class__="egret.Tween"}(egret||(egret={})),function(t){var e=function(){function e(){t.Logger.fatalWithErrorId(1014)}return e.get=function(t){return-1>t&&(t=-1),1<t&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},e.getPowIn=function(t){return function(e){return Math.pow(e,t)}},e.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},e.getPowInOut=function(t){return function(e){return 1>(e*=2)?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},e.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},e.sineOut=function(t){return Math.sin(t*Math.PI/2)},e.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},e.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},e.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},e.getBackInOut=function(t){return t*=1.525,function(e){return 1>(e*=2)?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)}},e.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},e.circOut=function(t){return Math.sqrt(1- --t*t)},e.circInOut=function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},e.bounceInOut=function(t){return.5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.getElasticIn=function(t,e){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var s=e/i*Math.asin(1/t);return-t*Math.pow(2,10*(n-=1))*Math.sin((n-s)*i/e)}},e.getElasticOut=function(t,e){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var s=e/i*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-s)*i/e)+1}},e.getElasticInOut=function(t,e){var i=2*Math.PI;return function(n){var s=e/i*Math.asin(1/t);return 1>(n*=2)?-.5*t*Math.pow(2,10*(n-=1))*Math.sin((n-s)*i/e):t*Math.pow(2,-10*(n-=1))*Math.sin((n-s)*i/e)*.5+1}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.backIn=e.getBackIn(1.7),e.backOut=e.getBackOut(1.7),e.backInOut=e.getBackInOut(1.7),e.elasticIn=e.getElasticIn(1,.3),e.elasticOut=e.getElasticOut(1,.3),e.elasticInOut=e.getElasticInOut(1,.3*1.5),e}();t.Ease=e,e.prototype.__class__="egret.Ease"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this.path="",this.audio=null,this.type=i.EFFECT,this._pauseTime=0,this._listeners=[]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"position",{get:function(){return this.audio?Math.floor(1e3*this.audio._getCurrentTime()):0},enumerable:!0,configurable:!0}),n.play=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=0);var i=this.audio;i&&(i._setCurrentTime(e/1e3),i._setLoop(t),i._play(this.type))},n.stop=function(){var t=this.audio;t&&(this._pauseTime=0,t._setCurrentTime(0),t._pause())},n.pause=function(){var t=this.audio;t&&(this._pauseTime=t._getCurrentTime(),t._pause())},n.resume=function(){var t=this.audio;t&&(t._setCurrentTime(this._pauseTime),this._pauseTime=0,t._play(this.type))},n.load=function(){var t=this.audio;t&&t._load()},n.addEventListener=function(i,n,s){e.prototype.addEventListener.call(this,i,n,s);var r=this;this.audio&&1==this._eventsMap[i].length&&(n=i==t.SoundEvent.SOUND_COMPLETE?function(e){t.Event._dispatchByTarget(t.SoundEvent,r,t.SoundEvent.SOUND_COMPLETE)}:function(e){t.Event._dispatchByTarget(t.Event,r,e.type)},this._listeners.push({type:i,func:n}),i=r.getVirtualType(i),this.audio._addEventListener(i,n,!1))},n.removeEventListener=function(t,i,n){if(e.prototype.removeEventListener.call(this,t,i,n),this.audio&&(!this._eventsMap||!this._eventsMap[t]||0==this._eventsMap[t].length))for(n=0;n<this._listeners.length;n++)if((i=this._listeners[n]).type==t){this._listeners.splice(n,1),t=this.getVirtualType(t),this.audio._removeEventListener(t,i.func,!1);break}},n.getVirtualType=function(e){switch(e){case t.SoundEvent.SOUND_COMPLETE:return"ended";default:return e}},Object.defineProperty(n,"volume",{get:function(){return this.audio?this.audio._getVolume():0},set:function(t){var e=this.audio;e&&e._setVolume(Math.max(0,Math.min(t,1)))},enumerable:!0,configurable:!0}),n.setVolume=function(e){t.Logger.warningWithErrorId(1031),this.volume=e},n.getVolume=function(){return t.Logger.warningWithErrorId(1032),this.volume},n.preload=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),this.type=t,this.audio._preload(t,e,i)},n._setAudio=function(t){this.audio=t},n.destroy=function(){this.audio._destroy()},i.MUSIC="music",i.EFFECT="effect",i}(t.EventDispatcher);t.Sound=e,e.prototype.__class__="egret.Sound"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.sin=function(e){var i=Math.floor(e),n=i+1,s=t.sinInt(i);return(e-i)*t.sinInt(n)+(n-e)*s},t.sinInt=function(t){return 0>(t%=360)&&(t+=360),90>t?egret_sin_map[t]:180>t?egret_cos_map[t-90]:270>t?-egret_sin_map[t-180]:-egret_cos_map[t-270]},t.cos=function(e){var i=Math.floor(e),n=i+1,s=t.cosInt(i);return(e-i)*t.cosInt(n)+(n-e)*s},t.cosInt=function(t){return 0>(t%=360)&&(t+=360),90>t?egret_cos_map[t]:180>t?-egret_sin_map[t-90]:270>t?-egret_cos_map[t-180]:egret_sin_map[t-270]},t}();t.NumberUtils=e,e.prototype.__class__="egret.NumberUtils"}(egret||(egret={}));for(var egret_sin_map={},egret_cos_map={},NumberUtils_i=0;90>=NumberUtils_i;NumberUtils_i++)egret_sin_map[NumberUtils_i]=Math.sin(NumberUtils_i*egret.Matrix.DEG_TO_RAD),egret_cos_map[NumberUtils_i]=Math.cos(NumberUtils_i*egret.Matrix.DEG_TO_RAD);Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError(egret.getString(1029));var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},s=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,s.prototype=new n,s}),function(t){var e=function(){function e(){this.downloadingSizeThisObject=this.downloadingSizeFunc=this.onErrorThisObject=this.onErrorFunc=this.onSuccessThisObject=this.onSuccessFunc=null}var i=e.prototype;return e.create=function(){return e.promiseObjectList.length?e.promiseObjectList.pop():new t.PromiseObject},i.onSuccess=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this.onSuccessFunc&&this.onSuccessFunc.apply(this.onSuccessThisObject,t),this.destroy()},i.onError=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this.onErrorFunc&&this.onErrorFunc.apply(this.onErrorThisObject,t),this.destroy()},i.downloadingSize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this.downloadingSizeFunc&&this.downloadingSizeFunc.apply(this.downloadingSizeThisObject,t)},i.destroy=function(){this.downloadingSizeThisObject=this.downloadingSizeFunc=this.onErrorThisObject=this.onErrorFunc=this.onSuccessThisObject=this.onSuccessFunc=void 0,e.promiseObjectList.push(this)},e.promiseObjectList=[],e}();t.PromiseObject=e,e.prototype.__class__="egret.PromiseObject"}(egret||(egret={})),function(t){var e=function(e){function i(t){void 0===t&&(t=60),e.call(this),this.frameRate=t,this._time=0,this._requestAnimationId=NaN,this._isActivate=!0,i.countTime=0,0==60%t&&(i.countTime=60/t-1,i.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,i.cancelAnimationFrame=window.cancelAnimationFrame||window.msCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame||window.cancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame),i.requestAnimationFrame||(i.requestAnimationFrame=function(e){return window.setTimeout(e,1e3/t)}),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(t){return window.clearTimeout(t)}),i.instance=this,this.registerListener()}__extends(i,e);var n=i.prototype;return n.enterFrame=function(){var e=i.instance,n=i._thisObject,s=i._callback,r=t.getTimer(),a=r-e._time;e._requestAnimationId=i.requestAnimationFrame.call(window,i.prototype.enterFrame),i.count<i.countTime?i.count++:(i.count=0,s.call(n,a),e._time=r)},n.executeMainLoop=function(t,e){i._callback=t,i._thisObject=e,this.enterFrame()},n.reset=function(){var e=i.instance;e._requestAnimationId&&(e._time=t.getTimer(),i.cancelAnimationFrame.call(window,e._requestAnimationId),e.enterFrame())},n.registerListener=function(){var e=this,n=function(){e._isActivate&&(e._isActivate=!1,t.MainContext.instance.stage.dispatchEvent(new t.Event(t.Event.DEACTIVATE)))},s=function(){e._isActivate||(e._isActivate=!0,i.instance.reset(),t.MainContext.instance.stage.dispatchEvent(new t.Event(t.Event.ACTIVATE)))},r=function(){document[a]?n():s()};window.addEventListener("focus",s,!1),window.addEventListener("blur",n,!1);var a,o;void 0!==document.hidden?(a="hidden",o="visibilitychange"):void 0!==document.mozHidden?(a="mozHidden",o="mozvisibilitychange"):void 0!==document.msHidden?(a="msHidden",o="msvisibilitychange"):void 0!==document.webkitHidden?(a="webkitHidden",o="webkitvisibilitychange"):void 0!==document.oHidden&&(a="oHidden",o="ovisibilitychange"),"onpageshow"in window&&"onpagehide"in window&&(window.addEventListener("pageshow",s,!1),window.addEventListener("pagehide",n,!1)),a&&o&&document.addEventListener(o,r,!1),r=navigator.userAgent,o=/micromessenger/gi.test(r);var h=/mqq/gi.test(r);(/mobile.*qq/gi.test(r)||o)&&(h=!1),h&&(r=window.browser||{},r.execWebFn=r.execWebFn||{},r.execWebFn.postX5GamePlayerMessage=function(t){"app_enter_background"==(t=t.type)?n():"app_enter_foreground"==t&&s()},window.browser=r)},i.instance=null,i.countTime=0,i.requestAnimationFrame=null,i.cancelAnimationFrame=null,i._thisObject=null,i._callback=null,i.count=0,i}(t.DeviceContext);t.HTML5DeviceContext=e,e.prototype.__class__="egret.HTML5DeviceContext"}(egret||(egret={}));var egret_html5_localStorage;!function(t){t.getItem=function(t){return window.localStorage.getItem(t)},t.setItem=function(t,e){try{return window.localStorage.setItem(t,e),!0}catch(i){return egret.Logger.infoWithErrorId(1018,t,e),!1}},t.removeItem=function(t){window.localStorage.removeItem(t)},t.clear=function(){window.localStorage.clear()},t.init=function(){for(var e in t)egret.localStorage[e]=t[e]}}(egret_html5_localStorage||(egret_html5_localStorage={})),egret_html5_localStorage.init(),function(t){var e=function(e){function i(i,n){void 0===n&&(n=!0),e.call(this),this.useCacheCanvas=n,t.Texture.prototype.draw=t.Texture.prototype._drawForCanvas,t.Texture.prototype.dispose=t.Texture.prototype._disposeForCanvas,this.canvas=i||this.createCanvas(),this.canvasContext=this.canvas.getContext("2d"),n?(this._cacheCanvas=document.createElement("canvas"),this._cacheCanvas.width=this.canvas.width,this._cacheCanvas.height=this.canvas.height,this.drawCanvasContext=this._cacheCanvasContext=this._cacheCanvas.getContext("2d")):this.drawCanvasContext=this.canvasContext;var s=this.drawCanvasContext;if(void 0==s.imageSmoothingEnabled){for(var r=["webkitImageSmoothingEnabled","mozImageSmoothingEnabled","msImageSmoothingEnabled"],a=0;a<r.length;a++){var o=r[a];if(void 0!=s[o])break}Object.defineProperty(s,"imageSmoothingEnabled",{get:function(){return this[o]},set:function(t){this[o]=t},enumerable:!0,configurable:!0})}this.onResize();var h=this.drawCanvasContext.setTransform,l=this;this.drawCanvasContext.setTransform=function(t,e,i,n,s,r){l._matrixA=t,l._matrixB=e,l._matrixC=i,l._matrixD=n,l._matrixTx=s,l._matrixTy=r,h.call(l.drawCanvasContext,t,e,i,n,s,r)},this._matrixA=1,this._matrixC=this._matrixB=0,this._matrixD=1,this._transformTy=this._transformTx=this._matrixTy=this._matrixTx=0,this.initBlendMode()}__extends(i,e);var n=i.prototype;return n.createCanvas=function(){e=t.Browser.getInstance().$("#egretCanvas");if(!e){var e,i=document.getElementById(t.StageDelegate.canvas_div_name);(e=t.Browser.getInstance().$new("canvas")).id="egretCanvas",i.appendChild(e)}return t.MainContext.instance.stage.addEventListener(t.Event.RESIZE,this.onResize,this),e},n.onResize=function(){if(this.canvas){var e=document.getElementById(t.StageDelegate.canvas_div_name);this.canvas.width=t.MainContext.instance.stage.stageWidth,this.canvas.height=t.MainContext.instance.stage.stageHeight,this.canvas.style.width=e.style.width,this.canvas.style.height=e.style.height,this.useCacheCanvas&&(this._cacheCanvas.width=this.canvas.width,this._cacheCanvas.height=this.canvas.height),this.drawCanvasContext.imageSmoothingEnabled=t.RendererContext.imageSmoothingEnabled}},n.clearScreen=function(){for(var e=t.RenderFilter.getInstance().getDrawAreaList(),i=0,n=e.length;i<n;i++){var s=e[i];this.clearRect(s.x,s.y,s.width,s.height)}e=t.MainContext.instance.stage,this.useCacheCanvas&&this._cacheCanvasContext.clearRect(0,0,e.stageWidth,e.stageHeight),this.renderCost=0},n.clearRect=function(t,e,i,n){this.canvasContext.clearRect(t,e,i,n)},n.drawImage=function(i,n,s,r,a,o,h,l,u,c){void 0===c&&(c=void 0),o+=this._transformTx,h+=this._transformTy;var _=t.getTimer();i.draw(this.drawCanvasContext,n,s,r,a,o,h,l,u,c),e.prototype.drawImage.call(this,i,n,s,r,a,o,h,l,u,c),this.renderCost+=t.getTimer()-_},n.setTransform=function(t){1==t.a&&0==t.b&&0==t.c&&1==t.d&&1==this._matrixA&&0==this._matrixB&&0==this._matrixC&&1==this._matrixD?(this._transformTx=t.tx-this._matrixTx,this._transformTy=t.ty-this._matrixTy):(this._transformTx=this._transformTy=0,this._matrixA==t.a&&this._matrixB==t.b&&this._matrixC==t.c&&this._matrixD==t.d&&this._matrixTx==t.tx&&this._matrixTy==t.ty||this.drawCanvasContext.setTransform(t.a,t.b,t.c,t.d,t.tx,t.ty))},n.setAlpha=function(e,i){this.drawCanvasContext.globalAlpha=e,i?(this.blendValue=this.blendModes[i],this.drawCanvasContext.globalCompositeOperation=this.blendValue):this.blendValue!=t.BlendMode.NORMAL&&(this.blendValue=this.blendModes[t.BlendMode.NORMAL],this.drawCanvasContext.globalCompositeOperation=this.blendValue)},n.initBlendMode=function(){this.blendModes={},this.blendModes[t.BlendMode.NORMAL]="source-over",this.blendModes[t.BlendMode.ADD]="lighter",this.blendModes[t.BlendMode.ERASE]="destination-out",this.blendModes[t.BlendMode.ERASE_REVERSE]="destination-in"},n.setupFont=function(t,e){void 0===e&&(e=null),e=e||{};var i=t._TF_Props_,n=null==e.size?i._size:e.size,s=null==e.fontFamily?i._fontFamily:e.fontFamily,r=this.drawCanvasContext,a=(a=(null==e.italic?i._italic:e.italic)?"italic ":"normal ")+((null==e.bold?i._bold:e.bold)?"bold ":"normal ");r.font=a+(n+"px ")+s,r.textAlign="left",r.textBaseline="middle"},n.measureText=function(t){return this.drawCanvasContext.measureText(t).width},n.drawText=function(i,n,s,r,a,o){void 0===o&&(o=null),this.setupFont(i,o),o=o||{};var h,l=i._TF_Props_;h=null!=o.textColor?t.toColorString(o.textColor):l._textColorString;var u;u=null!=o.strokeColor?t.toColorString(o.strokeColor):l._strokeColorString;var l=null!=o.stroke?o.stroke:l._stroke,c=this.drawCanvasContext;c.fillStyle=h,c.strokeStyle=u,l&&(c.lineWidth=2*l,c.strokeText(n,s+this._transformTx,r+this._transformTy,a||65535)),c.fillText(n,s+this._transformTx,r+this._transformTy,a||65535),e.prototype.drawText.call(this,i,n,s,r,a,o)},n.strokeRect=function(t,e,i,n,s){this.drawCanvasContext.strokeStyle=s,this.drawCanvasContext.strokeRect(t,e,i,n)},n.pushMask=function(t){this.drawCanvasContext.save(),this.drawCanvasContext.beginPath(),this.drawCanvasContext.rect(t.x+this._transformTx,t.y+this._transformTy,t.width,t.height),this.drawCanvasContext.clip(),this.drawCanvasContext.closePath()},n.popMask=function(){this.drawCanvasContext.restore(),this.drawCanvasContext.setTransform(1,0,0,1,0,0)},n.onRenderStart=function(){this.drawCanvasContext.save()},n.onRenderFinish=function(){if(this.drawCanvasContext.restore(),this.drawCanvasContext.setTransform(1,0,0,1,0,0),this.useCacheCanvas)for(var e=this._cacheCanvas.width,i=this._cacheCanvas.height,n=t.RenderFilter.getInstance().getDrawAreaList(),s=0,r=n.length;s<r;s++){var a=(l=n[s]).x,o=l.y,h=l.width,l=l.height;a+h>e&&(h=e-a),o+l>i&&(l=i-o),0<h&&0<l&&this.canvasContext.drawImage(this._cacheCanvas,a,o,h,l,a,o,h,l)}},n.drawCursor=function(t,e,i,n){this.drawCanvasContext.strokeStyle="#40a5ff",this.drawCanvasContext.lineWidth=2,this.drawCanvasContext.beginPath(),this.drawCanvasContext.moveTo(Math.round(t+this._transformTx),Math.round(e+this._transformTy)),this.drawCanvasContext.lineTo(Math.round(i+this._transformTx),Math.round(n+this._transformTy)),this.drawCanvasContext.closePath(),this.drawCanvasContext.stroke()},i}(t.RendererContext);t.HTML5CanvasRenderer=e,e.prototype.__class__="egret.HTML5CanvasRenderer"}(egret||(egret={})),egret.RendererContext.createRendererContext=function(t){return new egret.HTML5CanvasRenderer(t,!1)},egret.Graphics.prototype._beginDraw=function(t){this._renderContext=t.drawCanvasContext;var e=t._transformTx;t=t._transformTy,0==e&&0==t||this._renderContext.translate(e,t)},egret.Graphics.prototype._endDraw=function(t){this._renderContext=t.drawCanvasContext;var e=t._transformTx;t=t._transformTy,0==e&&0==t||this._renderContext.translate(-e,-t)},function(t){var e=function(e){function i(i){e.call(this),this.glID=this.gl=this.canvas=null,this.size=2e3,this.vertices=null,this.vertSize=5,this.indices=null,this.projectionY=this.projectionX=NaN,this.shaderManager=null,this.contextLost=!1,this.glContextId=0,this.currentBlendMode="",this.currentBaseTexture=null,this.currentBatchSize=0,this.worldTransform=null,this.worldAlpha=1,this.maskList=[],this.maskDataFreeList=[],this.graphicsIndexBuffer=this.graphicsBuffer=this.graphicsIndices=this.graphicsPoints=this.filterType=this.colorTransformMatrix=null,this.graphicsStyle={},t.Texture.prototype.dispose=t.Texture.prototype._disposeForCanvas,this.canvas=i||this.createCanvas(),this.canvas.addEventListener("webglcontextlost",this.handleContextLost.bind(this),!1),this.canvas.addEventListener("webglcontextrestored",this.handleContextRestored.bind(this),!1),this.html5Canvas=document.createElement("canvas"),this.canvasContext=new t.HTML5CanvasRenderer(this.html5Canvas),this.onResize(),this.projectionX=this.canvas.width/2,this.projectionY=-this.canvas.height/2,i=6*this.size,this.vertices=new Float32Array(4*this.size*this.vertSize),this.indices=new Uint16Array(i);for(var n=0,s=0;n<i;n+=6,s+=4)this.indices[n+0]=s+0,this.indices[n+1]=s+1,this.indices[n+2]=s+2,this.indices[n+3]=s+0,this.indices[n+4]=s+2,this.indices[n+5]=s+3;this.initWebGL(),this.shaderManager=new t.WebGLShaderManager(this.gl),this.worldTransform=new t.Matrix,this.initAll()}__extends(i,e);var n=i.prototype;return n.onRenderFinish=function(){this._drawWebGL()},i.initWebGLCanvas=function(){t.RenderTexture.WebGLCanvas||(t.RenderTexture.WebGLCanvas=document.createElement("canvas"),t.RenderTexture.WebGLCanvas.avaliable=!0,t.RenderTexture.WebGLRenderer=new t.WebGLRenderer(t.RenderTexture.WebGLCanvas),t.RenderTexture.WebGLRenderer.setAlpha(1))},n.initAll=function(){i.isInit||(i.isInit=!0,egret_webgl_graphics.init(),t.TextField.prototype._makeBitmapCache=function(){this.renderTexture||(this.renderTexture=new t.RenderTexture);if(0==(r=this.getBounds(t.Rectangle.identity)).width||0==r.height)return this._texture_to_render=null,!1;this._bitmapData||(this._bitmapData=document.createElement("canvas"),this._bitmapData.avaliable=!0,this.renderContext=t.RendererContext.createRendererContext(this._bitmapData));var e,i,n=this._bitmapData,s=r.width,r=r.height,a=t.MainContext.instance.rendererContext._texture_scale_factor;e=s/a,i=r/a,e=Math.round(e),i=Math.round(i),n.width=e,n.height=i,n.style.width=e+"px",n.style.height=i+"px",this.renderContext._cacheCanvas&&(this.renderContext._cacheCanvas.width=e,this.renderContext._cacheCanvas.height=i),this._worldTransform.identity(),this._worldTransform.a=1/a,this._worldTransform.d=1/a,this.renderContext.setTransform(this._worldTransform),this.worldAlpha=1,a=(n=t.RenderFilter.getInstance())._drawAreaList.concat(),n._drawAreaList.length=0,this.renderContext.clearScreen(),this.renderContext.onRenderStart(),t.Texture.deleteWebGLTexture(this.renderTexture),this.renderTexture.dispose(),this._hasFilters()&&this._setGlobalFilters(this.renderContext);var o=this.mask||this._DO_Props_._scrollRect;return o&&this.renderContext.pushMask(o),this._render(this.renderContext),o&&this.renderContext.popMask(),this._hasFilters()&&this._removeGlobalFilters(this.renderContext),t.RenderTexture.identityRectangle.width=e,t.RenderTexture.identityRectangle.height=i,n.addDrawArea(t.RenderTexture.identityRectangle),this.renderContext.onRenderFinish(),n._drawAreaList=a,this.renderTexture._bitmapData=this._bitmapData,this.renderTexture._sourceWidth=e,this.renderTexture._sourceHeight=i,this.renderTexture._textureWidth=s,this.renderTexture._textureHeight=r,this._texture_to_render=this.renderTexture,!0},t.TextField.prototype._draw=function(e){this._TF_Props_._type==t.TextFieldType.INPUT&&this._isTyping||(this.getDirty()&&(this._texture_to_render=this.renderTexture,this._DO_Props_._cacheAsBitmap=!0),t.DisplayObject.prototype._draw.call(this,e))},t.RenderTexture.prototype.init=function(){this._bitmapData=document.createElement("canvas"),this._bitmapData.avaliable=!0,this.canvasContext=this._bitmapData.getContext("2d"),i.initWebGLCanvas(),this._webglBitmapData=t.RenderTexture.WebGLCanvas,this.renderContext=t.RenderTexture.WebGLRenderer},t.RenderTexture.prototype.setSize=function(t,e){if(this._webglBitmapData&&this.renderContext.setSize(t,e),this._bitmapData){var i=this._bitmapData;i.width=t,i.height=e,i.style.width=t+"px",i.style.height=e+"px"}},t.RenderTexture.prototype.end=function(){},t.RenderTexture.prototype.drawToTexture=function(e,i,n){if(0==(o=i||e.getBounds(t.Rectangle.identity)).width||0==o.height)return!1;void 0===n&&(n=1),this._bitmapData||this.init();var s=o.x,r=o.y,a=o.width,o=(o=o.height)/n,h=t.MainContext.instance.rendererContext._texture_scale_factor,a=Math.round(a/n),o=Math.round(o);this.setSize(a,o);var l=this._bitmapData,u=a/h*n,c=o/h*n;if(l.width=u,l.height=c,l.style.width=u+"px",l.style.height=c+"px",this.begin(),e._worldTransform.identity(),l=e._DO_Props_._anchorOffsetX,u=e._DO_Props_._anchorOffsetY,0==e._DO_Props_._anchorX&&0==e._DO_Props_._anchorY||(l=e._DO_Props_._anchorX*a,u=e._DO_Props_._anchorY*o),this._offsetX=s+l,this._offsetY=r+u,e._worldTransform.append(1,0,0,1,-this._offsetX,-this._offsetY),i&&(this._offsetX-=s,this._offsetY-=r),e.worldAlpha=1,i=t.MainContext.__use_new_draw,t.MainContext.__use_new_draw=!1,e instanceof t.DisplayObjectContainer)for(s=e._children,r=0,l=s.length;r<l;r++)s[r]._updateTransform();return this.renderContext.setTransform(e._worldTransform),s=t.RenderFilter.getInstance(),r=s._drawAreaList.concat(),s._drawAreaList.length=0,(l=this.renderContext.gl).viewport(0,0,a,o),l.bindFramebuffer(l.FRAMEBUFFER,null),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT),this.renderContext.onRenderStart(),t.Texture.deleteWebGLTexture(this),e._hasFilters()&&e._setGlobalFilters(this.renderContext),(l=e.mask||e._DO_Props_._scrollRect)&&this.renderContext.pushMask(l),e._render(this.renderContext),this.renderContext._drawWebGL(),t.MainContext.__use_new_draw=i,l&&this.renderContext.popMask(),e._hasFilters()&&e._removeGlobalFilters(this.renderContext),t.RenderTexture.identityRectangle.width=a,t.RenderTexture.identityRectangle.height=o,s.addDrawArea(t.RenderTexture.identityRectangle),this.renderContext.onRenderFinish(),s._drawAreaList=r,this._sourceWidth=a/h*n,this._sourceHeight=o/h*n,this._textureWidth=a*n,this._textureHeight=o*n,this.canvasContext.drawImage(this._webglBitmapData,0,0,a,o,0,0,this._sourceWidth,this._sourceHeight),!0})},n.createCanvas=function(){e=t.Browser.getInstance().$("#egretCanvas");if(!e){var e,i=document.getElementById(t.StageDelegate.canvas_div_name);(e=t.Browser.getInstance().$new("canvas")).id="egretCanvas",i.appendChild(e)}return t.MainContext.instance.stage.addEventListener(t.Event.RESIZE,this.onResize,this),e},n.onResize=function(){this.setSize(t.MainContext.instance.stage.stageWidth,t.MainContext.instance.stage.stageHeight)},n.setSize=function(e,i){var n=document.getElementById(t.StageDelegate.canvas_div_name);this.canvas&&(this.canvas.width=e,this.canvas.height=i,this.canvas.style.width=n.style.width,this.canvas.style.height=n.style.height,this.projectionX=this.canvas.width/2,this.projectionY=-this.canvas.height/2),this.html5Canvas&&(this.html5Canvas.width=e,this.html5Canvas.height=i,this.html5Canvas.style.width=n.style.width,this.html5Canvas.style.height=n.style.height),this.width=e,this.height=i},n.handleContextLost=function(){this.contextLost=!0},n.handleContextRestored=function(){this.initWebGL(),this.shaderManager.setContext(this.gl),this.contextLost=!1},n.initWebGL=function(){for(var e,n={},s=["experimental-webgl","webgl"],r=0;r<s.length;r++){try{e=this.canvas.getContext(s[r],n)}catch(t){}if(e)break}if(!e)throw Error(t.getString(1021));i.glID++,this.glID=i.glID,this.setContext(e)},n.setContext=function(t){this.gl=t,t.id=this.glContextId++,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.colorMask(!0,!0,!0,!0)},n.start=function(){if(!this.contextLost){var t=this.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e;e="colorTransform"==this.filterType?this.shaderManager.colorTransformShader:"blur"==this.filterType?this.shaderManager.blurShader:this.shaderManager.defaultShader,this.shaderManager.activateShader(e),e.syncUniforms(),t.uniform2f(e.projectionVector,this.projectionX,this.projectionY);var i=4*this.vertSize;t.vertexAttribPointer(e.aVertexPosition,2,t.FLOAT,!1,i,0),t.vertexAttribPointer(e.aTextureCoord,2,t.FLOAT,!1,i,8),t.vertexAttribPointer(e.colorAttribute,2,t.FLOAT,!1,i,16)}},n.clearScreen=function(){var e=this.gl;e.colorMask(!0,!0,!0,!0);for(var i=t.RenderFilter.getInstance().getDrawAreaList(),n=0,s=i.length;n<s;n++){var r=i[n];e.viewport(r.x,r.y,r.width,r.height),e.bindFramebuffer(e.FRAMEBUFFER,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)}e.viewport(0,0,this.width,this.height),this.renderCost=0},n.setBlendMode=function(e){if(e||(e=t.BlendMode.NORMAL),this.currentBlendMode!=e){var i=t.RendererContext.blendModesForGL[e];i&&(this._drawWebGL(),this.gl.blendFunc(i[0],i[1]),this.currentBlendMode=e)}},n.drawRepeatImage=function(e,i,n,s,r,a,o,h,l,u){for(s*=u=t.MainContext.instance.rendererContext._texture_scale_factor,r*=u;a<h;a+=s)for(var c=o;c<l;c+=r){var _=Math.min(s,h-a),d=Math.min(r,l-c);this.drawImage(e,i,n,_/u,d/u,a,c,_,d)}},n.drawImage=function(t,e,i,n,s,r,a,o,h,l){if(void 0===l&&(l=void 0),!this.contextLost){var u=t._bitmapData;if(u&&u.avaliable)if(void 0!==l)this.drawRepeatImage(t,e,i,n,s,r,a,o,h,l);else{if(this.filters)for(l=0;1>l;l++)if("glow"==this.filters[0].type)return void this.useGlow(t,e,i,n,s,r,a,o,h);this._drawImage(t,e,i,n,s,r,a,o,h)}}},n._drawImage=function(t,e,i,n,s,r,a,o,h){this.createWebGLTexture(t);((f=t._bitmapData.webGLTexture[this.glID])!==this.currentBaseTexture||this.currentBatchSize>=this.size-1)&&(this._drawWebGL(),this.currentBaseTexture=f);var l=this.worldTransform,u=l.a,c=l.b,_=l.c,d=l.d,p=l.tx,g=l.ty;0==r&&0==a||l.append(1,0,0,1,r,a),1==n/o&&1==s/h||l.append(o/n,0,0,h/s,0,0),r=l.a,a=l.b,o=l.c,h=l.d;var f=l.tx,m=l.ty;l.a=u,l.b=c,l.c=_,l.d=d,l.tx=p,l.ty=g,u=t._sourceWidth,c=t._sourceHeight,t=n,l=s,e/=u,i/=c,n/=u,s/=c,u=this.vertices,c=4*this.currentBatchSize*this.vertSize,_=this.worldAlpha,u[c++]=f,u[c++]=m,u[c++]=e,u[c++]=i,u[c++]=_,u[c++]=r*t+f,u[c++]=a*t+m,u[c++]=n+e,u[c++]=i,u[c++]=_,u[c++]=r*t+o*l+f,u[c++]=h*l+a*t+m,u[c++]=n+e,u[c++]=s+i,u[c++]=_,u[c++]=o*l+f,u[c++]=h*l+m,u[c++]=e,u[c++]=s+i,u[c++]=_,this.currentBatchSize++},n.useGlow=function(e,n,s,r,a,o,h,l,u){var c=this.filters[0],_=c.distance||0,d=c.angle||0,p=0,g=0;0!=_&&0!=d&&(p=Math.ceil(_*t.NumberUtils.cos(d)),g=Math.ceil(_*t.NumberUtils.sin(d)));var _=c.quality,d=c.blurX/10,f=c.blurY/10,m=l+2*d+20+Math.abs(p),v=u+2*f+20+Math.abs(g);i.initWebGLCanvas();var y=t.RenderTexture.WebGLRenderer,E=t.RenderTexture.WebGLCanvas,b=t.RenderTexture.create();b._bitmapData||b.init(),b.setSize(m,v),b._sourceWidth=m,b._sourceHeight=v;var S=t.RenderTexture.create();for(S._bitmapData||S.init(),S.setSize(m,v),S._sourceWidth=m,S._sourceHeight=v,y.clearScreen(),y.filterType="colorTransform",y.setGlobalColorTransform([0,0,0,0,c._red,0,0,0,0,c._green,0,0,0,0,c._blue,0,0,0,0,255*c.alpha]),y.setAlpha(1,t.BlendMode.NORMAL),y.setTransform(new t.Matrix(1,0,0,1,0,0)),y.drawImage(e,n,s,r,a,d+10,f+10,l,u),y._drawWebGL(),y.filterType=null,b.canvasContext.clearRect(0,0,m,v),b.canvasContext.drawImage(E,0,0,m,v,0,0,m,v),y.clearScreen(),y.setAlpha(1,t.BlendMode.NORMAL),y.setTransform(new t.Matrix(1,0,0,1,0,0)),y.filterType="blur",y.setBlurData(d,0),t.Texture.deleteWebGLTexture(b),y.drawImage(b,d,f,m-2*d,v-2*f,d,f,m-2*d,v-2*f),y._drawWebGL(),y.filterType=null,S.canvasContext.clearRect(0,0,m,v),S.canvasContext.drawImage(E,0,0,m,v,0,0,m,v),y.clearScreen(),y.setAlpha(1,t.BlendMode.NORMAL),y.setTransform(new t.Matrix(1,0,0,1,0,0)),y.filterType="blur",y.setBlurData(0,f),t.Texture.deleteWebGLTexture(S),y.drawImage(S,0,f,m,v-2*f,0,f+5,m,v-2*f),y._drawWebGL(),y.filterType=null,b.canvasContext.clearRect(0,0,m,v),b.canvasContext.drawImage(E,0,0,m,v,0,0,m,v),y.clearScreen(),y.setAlpha(1,t.BlendMode.NORMAL),y.setTransform(new t.Matrix(1,0,0,1,0,0)),t.Texture.deleteWebGLTexture(b),c=0;c<_;c++)y.drawImage(b,0,0,m,v,p,g,m,v);y._drawWebGL(),y.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),y.currentBlendMode=null,y.drawImage(e,n,s,r,a,o+d+10,h+f+15,l,u),y._drawWebGL(),S.canvasContext.clearRect(0,0,m,v),S.canvasContext.drawImage(E,0,0,m,v,0,0,m,v),t.Texture.deleteWebGLTexture(S),this._drawImage(S,0,0,m,v,o-d-10,h-f-15,m,v),this._drawWebGL(),t.RenderTexture.release(b),t.RenderTexture.release(S)},n._drawWebGL=function(){if(0!=this.currentBatchSize&&!this.contextLost){var e=t.getTimer();this.start();var i=this.gl;i.bindTexture(i.TEXTURE_2D,this.currentBaseTexture);var n=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);i.bufferSubData(i.ARRAY_BUFFER,0,n),i.drawElements(i.TRIANGLES,6*this.currentBatchSize,i.UNSIGNED_SHORT,0),this.currentBatchSize=0,this.renderCost+=t.getTimer()-e,t.Profiler.getInstance().onDrawImage()}},n.setTransform=function(t){var e=this.worldTransform;e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.tx=t.tx,e.ty=t.ty},n.setAlpha=function(t,e){this.worldAlpha=t,this.setBlendMode(e)},n.createWebGLTexture=function(t){if((t=t._bitmapData).webGLTexture||(t.webGLTexture={}),!t.webGLTexture[this.glID]){var e=this.gl;t.webGLTexture[this.glID]=e.createTexture(),t.webGLTexture[this.glID].glContext=e,e.bindTexture(e.TEXTURE_2D,t.webGLTexture[this.glID]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindTexture(e.TEXTURE_2D,null)}},n.pushMask=function(t){this._drawWebGL();var e=this.gl;0==this.maskList.length&&e.enable(e.SCISSOR_TEST),t=this.getScissorRect(t),this.maskList.push(t),this.scissor(t.x,t.y,t.width,t.height)},n.getScissorRect=function(e){var i,n,s,r=this.maskList[this.maskList.length-1];return r?r.intersects(r)?(i=Math.max(e.x+this.worldTransform.tx,r.x),n=Math.max(e.y+this.worldTransform.ty,r.y),s=Math.min(e.x+this.worldTransform.tx+e.width,r.x+r.width)-i,e=Math.min(e.y+this.worldTransform.ty+e.height,r.y+r.height)-n):e=s=n=i=0:(i=e.x+this.worldTransform.tx,n=e.y+this.worldTransform.ty,s=e.width,e=e.height),(r=this.maskDataFreeList.pop())?(r.x=i,r.y=n,r.width=s,r.height=e):r=new t.Rectangle(i,n,s,e),r},n.popMask=function(){this._drawWebGL();var t=this.gl,e=this.maskList.pop();this.maskDataFreeList.push(e),0!=(e=this.maskList.length)?(0<(e=this.maskList[e-1]).width||0<e.height)&&this.scissor(e.x,e.y,e.width,e.height):t.disable(t.SCISSOR_TEST)},n.scissor=function(e,i,n,s){var r=this.gl;0>n&&(n=0),0>s&&(s=0),r.scissor(e,-i+t.MainContext.instance.stage.stageHeight-s,n,s)},n.setGlobalColorTransform=function(t){if(this.colorTransformMatrix!=t&&(this._drawWebGL(),this.colorTransformMatrix=t)){t=t.concat();var e=this.shaderManager.colorTransformShader;e.uniforms.colorAdd.value.w=t.splice(19,1)[0]/255,e.uniforms.colorAdd.value.z=t.splice(14,1)[0]/255,e.uniforms.colorAdd.value.y=t.splice(9,1)[0]/255,e.uniforms.colorAdd.value.x=t.splice(4,1)[0]/255,e.uniforms.matrix.value=t}},n.setBlurData=function(t,e){var i=this.shaderManager.blurShader;i.uniforms.blur.value.x=t,i.uniforms.blur.value.y=e},n.setGlobalFilters=function(t){this._drawWebGL(),this.setFilterProperties(t)},n.setFilterProperties=function(t){if((this.filters=t)&&t.length)for(var e=0;1>e;e++){var i=t[e];switch(this.filterType=i.type,i.type){case"blur":this.setBlurData(i.blurX,i.blurY);break;case"colorTransform":this.setGlobalColorTransform(i._matrix)}}else this.filterType=null},n.setupFont=function(t,e){void 0===e&&(e=null),this.canvasContext.setupFont(t,e)},n.measureText=function(t){return this.canvasContext.measureText(t)},n.renderGraphics=function(t){this._drawWebGL();var e=this.gl,i=this.shaderManager.primitiveShader;this.graphicsPoints?(this.graphicsPoints.length=0,this.graphicsIndices.length=0):(this.graphicsPoints=[],this.graphicsIndices=[],this.graphicsBuffer=e.createBuffer(),this.graphicsIndexBuffer=e.createBuffer()),this.updateGraphics(t),this.shaderManager.activateShader(i),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.uniformMatrix3fv(i.translationMatrix,!1,this.worldTransform.toArray(!0)),e.uniform2f(i.projectionVector,this.projectionX,-this.projectionY),e.uniform2f(i.offsetVector,0,0),e.uniform3fv(i.tintColor,[1,1,1]),e.uniform1f(i.alpha,this.worldAlpha),e.bindBuffer(e.ARRAY_BUFFER,this.graphicsBuffer),e.vertexAttribPointer(i.aVertexPosition,2,e.FLOAT,!1,24,0),e.vertexAttribPointer(i.colorAttribute,4,e.FLOAT,!1,24,8),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.graphicsIndexBuffer),e.drawElements(e.TRIANGLE_STRIP,this.graphicsIndices.length,e.UNSIGNED_SHORT,0),this.shaderManager.activateShader(this.shaderManager.defaultShader)},n.updateGraphics=function(t){var e=this.gl;this.buildRectangle(t),e.bindBuffer(e.ARRAY_BUFFER,this.graphicsBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.graphicsPoints),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.graphicsIndexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.graphicsIndices),e.STATIC_DRAW)},n.buildRectangle=function(t){var e=t.x,i=t.y,n=t.w;t=t.h;var s=this.graphicsStyle.a,r=this.graphicsStyle.r*s,a=this.graphicsStyle.g*s,o=this.graphicsStyle.b*s,h=this.graphicsPoints,l=this.graphicsIndices,u=h.length/6;h.push(e,i),h.push(r,a,o,s),h.push(e+n,i),h.push(r,a,o,s),h.push(e,i+t),h.push(r,a,o,s),h.push(e+n,i+t),h.push(r,a,o,s),l.push(u,u,u+1,u+2,u+3,u+3)},n.setGraphicsStyle=function(t,e,i,n){this.graphicsStyle.r=t,this.graphicsStyle.g=e,this.graphicsStyle.b=i,this.graphicsStyle.a=n},i.glID=0,i.isInit=!1,i}(t.RendererContext);t.WebGLRenderer=e,e.prototype.__class__="egret.WebGLRenderer"}(egret||(egret={}));var egret_webgl_graphics;!function(t){t.beginFill=function(t,i){void 0===i&&(i=1),this._pushCommand(new e(this._setStyle,this,[(t>>16)/255,((65280&t)>>8)/255,(255&t)/255,i]))},t.drawRect=function(t,i,n,s){this._pushCommand(new e(function(t){this.renderContext.renderGraphics(t)},this,[{x:t,y:i,w:n,h:s}])),this._checkRect(t,i,n,s)},t.drawCircle=function(t,e,i){},t.drawRoundRect=function(t,e,i,n,s,r){},t.drawEllipse=function(t,e,i,n){},t.lineStyle=function(t,e,i,n,s,r,a,o){},t.lineTo=function(t,e){},t.curveTo=function(t,e,i,n){},t.cubicCurveTo=function(t,e,i,n,s,r){},t.moveTo=function(t,e){},t.clear=function(){this._maxY=this._maxX=this._minY=this._minX=this.commandQueue.length=0},t.endFill=function(){},t._pushCommand=function(t){this.commandQueue.push(t)},t._draw=function(t){var e=this.commandQueue.length;if(0!=e)for(this.renderContext=t,t=0;t<e;t++){var i=this.commandQueue[t];i.method.apply(i.thisObject,i.args)}};var e=function(t,e,i){this.method=t,this.thisObject=e,this.args=i};e.prototype.__class__="egret_webgl_graphics.Command",t._setStyle=function(t,e,i,n){this.renderContext.setGraphicsStyle(t,e,i,n)},t.init=function(){for(var e in t)egret.Graphics.prototype[e]=t[e]}}(egret_webgl_graphics||(egret_webgl_graphics={})),function(t){var e=function(){function e(){}return e.compileProgram=function(i,n,s){s=e.compileFragmentShader(i,s),n=e.compileVertexShader(i,n);var r=i.createProgram();return i.attachShader(r,n),i.attachShader(r,s),i.linkProgram(r),i.getProgramParameter(r,i.LINK_STATUS)||t.Logger.infoWithErrorId(1020),r},e.compileFragmentShader=function(t,i){return e._compileShader(t,i,t.FRAGMENT_SHADER)},e.compileVertexShader=function(t,i){return e._compileShader(t,i,t.VERTEX_SHADER)},e._compileShader=function(e,i,n){return n=e.createShader(n),e.shaderSource(n,i),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(t.Logger.info(e.getShaderInfoLog(n)),null)},e.checkCanUseWebGL=function(){if(void 0==e.canUseWebGL)try{var t=document.createElement("canvas");e.canUseWebGL=!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){e.canUseWebGL=!1}return e.canUseWebGL},e}();t.WebGLUtils=e,e.prototype.__class__="egret.WebGLUtils"}(egret||(egret={})),function(t){var e=function(){function e(t){this.defaultVertexSrc="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec2 aColor;\nuniform vec2 projectionVector;\nuniform vec2 offsetVector;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nconst vec2 center = vec2(-1.0, 1.0);\nvoid main(void) {\n   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.x, aColor.x, aColor.x, aColor.x);\n}",this.program=this.gl=null,this.fragmentSrc="precision lowp float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void) {\ngl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;\n}",this.uniforms=null,this.gl=t,this.init()}var i=e.prototype;return i.init=function(){var e=this.gl,i=t.WebGLUtils.compileProgram(e,this.defaultVertexSrc,this.fragmentSrc);e.useProgram(i),this.uSampler=e.getUniformLocation(i,"uSampler"),this.projectionVector=e.getUniformLocation(i,"projectionVector"),this.offsetVector=e.getUniformLocation(i,"offsetVector"),this.dimensions=e.getUniformLocation(i,"dimensions"),this.aVertexPosition=e.getAttribLocation(i,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(i,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(i,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute];for(var n in this.uniforms)this.uniforms[n].uniformLocation=e.getUniformLocation(i,n);this.initUniforms(),this.program=i},i.initUniforms=function(){if(this.uniforms){var t,e,i=this.gl;for(e in this.uniforms){var n=(t=this.uniforms[e]).type;"mat2"===n||"mat3"===n||"mat4"===n?(t.glMatrix=!0,t.glValueLength=1,"mat2"===n?t.glFunc=i.uniformMatrix2fv:"mat3"===n?t.glFunc=i.uniformMatrix3fv:"mat4"===n&&(t.glFunc=i.uniformMatrix4fv)):(t.glFunc=i["uniform"+n],t.glValueLength="2f"===n||"2i"===n?2:"3f"===n||"3i"===n?3:"4f"===n||"4i"===n?4:1)}}},i.syncUniforms=function(){if(this.uniforms){var t,e,i=this.gl;for(e in this.uniforms)1===(t=this.uniforms[e]).glValueLength?!0===t.glMatrix?t.glFunc.call(i,t.uniformLocation,t.transpose,t.value):t.glFunc.call(i,t.uniformLocation,t.value):2===t.glValueLength?t.glFunc.call(i,t.uniformLocation,t.value.x,t.value.y):3===t.glValueLength?t.glFunc.call(i,t.uniformLocation,t.value.x,t.value.y,t.value.z):4===t.glValueLength&&t.glFunc.call(i,t.uniformLocation,t.value.x,t.value.y,t.value.z,t.value.w)}},e}();t.EgretShader=e,e.prototype.__class__="egret.EgretShader"}(egret||(egret={})),function(t){var e=function(t){function e(e){t.call(this,e),this.fragmentSrc="precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform float invert;\nuniform mat4 matrix;\nuniform vec4 colorAdd;\nuniform sampler2D uSampler;\nvoid main(void) {\nvec4 texColor = texture2D(uSampler, vTextureCoord);\nvec4 locColor = texColor * matrix;\nif(texColor.a != 0.0){\nlocColor += colorAdd;\n}\ngl_FragColor = vec4(locColor.rgb*locColor.a,locColor.a);\n}",this.uniforms={matrix:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},colorAdd:{type:"4f",value:{x:0,y:0,z:0,w:0}}},this.init()}return __extends(e,t),e}(t.EgretShader);t.ColorTransformShader=e,e.prototype.__class__="egret.ColorTransformShader"}(egret||(egret={})),function(t){var e=function(t){function e(e){t.call(this,e),this.fragmentSrc="precision mediump float;uniform vec2 blur;uniform sampler2D uSampler;varying vec2 vTextureCoord;void main(){gl_FragColor = vec4(0.0);gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.028 * blur.x, -0.028 * blur.y))) * 0.0044299121055113265;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.024 * blur.x, -0.024 * blur.y))) * 0.00895781211794;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.020 * blur.x, -0.020 * blur.y))) * 0.0215963866053;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.016 * blur.x, -0.016 * blur.y))) * 0.0443683338718;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.012 * blur.x, -0.012 * blur.y))) * 0.0776744219933;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.008 * blur.x, -0.008 * blur.y))) * 0.115876621105;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.004 * blur.x, -0.004 * blur.y))) * 0.147308056121;gl_FragColor += texture2D(uSampler, vTextureCoord) * 0.159576912161;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.004 * blur.x,  0.004 * blur.y))) * 0.147308056121;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.008 * blur.x,  0.008 * blur.y))) * 0.115876621105;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.012 * blur.x,  0.012 * blur.y))) * 0.0776744219933;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.016 * blur.x,  0.016 * blur.y))) * 0.0443683338718;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.020 * blur.x,  0.020 * blur.y))) * 0.0215963866053;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.024 * blur.x,  0.024 * blur.y))) * 0.00895781211794;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.028 * blur.x,  0.028 * blur.y))) * 0.0044299121055113265;}",this.uniforms={blur:{type:"2f",value:{x:2,y:2}}},this.init()}return __extends(e,t),e}(t.EgretShader);t.BlurShader=e,e.prototype.__class__="egret.BlurShader"}(egret||(egret={})),function(t){var e=function(){function e(t){this.alpha=this.translationMatrix=this.attributes=this.colorAttribute=this.aVertexPosition=this.tintColor=this.offsetVector=this.projectionVector=this.program=this.gl=null,this.fragmentSrc="precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n   gl_FragColor = vColor;\n}",this.vertexSrc="attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform vec2 projectionVector;\nuniform vec2 offsetVector;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void) {\n   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);\n   v -= offsetVector.xyx;\n   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}",this.gl=t,this.init()}return e.prototype.init=function(){var e=this.gl,i=t.WebGLUtils.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(i),this.projectionVector=e.getUniformLocation(i,"projectionVector"),this.offsetVector=e.getUniformLocation(i,"offsetVector"),this.tintColor=e.getUniformLocation(i,"tint"),this.aVertexPosition=e.getAttribLocation(i,"aVertexPosition"),this.colorAttribute=e.getAttribLocation(i,"aColor"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=e.getUniformLocation(i,"translationMatrix"),this.alpha=e.getUniformLocation(i,"alpha"),this.program=i},e}();t.PrimitiveShader=e,e.prototype.__class__="egret.PrimitiveShader"}(egret||(egret={})),function(t){var e=function(){function e(t){this.gl=null,this.maxAttibs=10,this.attribState=[],this.tempAttribState=[],this.blurShader=this.colorTransformShader=this.primitiveShader=this.defaultShader=this.currentShader=null;for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.setContext(t)}var i=e.prototype;return i.setContext=function(e){this.gl=e,this.primitiveShader=new t.PrimitiveShader(e),this.defaultShader=new t.EgretShader(e),this.colorTransformShader=new t.ColorTransformShader(e),this.blurShader=new t.BlurShader(e),this.activateShader(this.defaultShader)},i.activateShader=function(t){this.currentShader!=t&&(this.gl.useProgram(t.program),this.setAttribs(t.attributes),this.currentShader=t)},i.setAttribs=function(t){var e,i;for(i=this.tempAttribState.length,e=0;e<i;e++)this.tempAttribState[e]=!1;for(i=t.length,e=0;e<i;e++)this.tempAttribState[t[e]]=!0;for(t=this.gl,i=this.attribState.length,e=0;e<i;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.tempAttribState[e]?t.enableVertexAttribArray(e):t.disableVertexAttribArray(e))},e}();t.WebGLShaderManager=e,e.prototype.__class__="egret.WebGLShaderManager"}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),t.Texture.createBitmapData=t.Texture._createBitmapDataForCanvasAndWebGl}__extends(i,e);var n=i.prototype;return n.initVersion=function(t){this._versionCtr=t},n.proceed=function(e){if(e.dataFormat==t.URLLoaderDataFormat.TEXTURE)this.loadTexture(e);else if(e.dataFormat==t.URLLoaderDataFormat.SOUND)t.Html5Capatibility._audioType==t.AudioType.WEB_AUDIO?this.loadWebAudio(e):t.Html5Capatibility._audioType==t.AudioType.QQ_AUDIO?this.loadQQAudio(e):this.loadSound(e);else{var i=e._request,n=this.getXHR();n.onreadystatechange=function(){if(4==n.readyState)if(n.status!=e._status&&(e._status=n.status,t.HTTPStatusEvent.dispatchHTTPStatusEvent(e,n.status)),400<=n.status||0==n.status)t.IOErrorEvent.dispatchIOErrorEvent(e);else{switch(e.dataFormat){case t.URLLoaderDataFormat.TEXT:e.data=n.responseText;break;case t.URLLoaderDataFormat.VARIABLES:e.data=new t.URLVariables(n.responseText);break;case t.URLLoaderDataFormat.BINARY:e.data=n.response;break;default:e.data=n.responseText}t.__callAsync(t.Event.dispatchEvent,t.Event,e,t.Event.COMPLETE)}};var s=this.getVirtualUrl(t.NetContext._getUrl(i));n.open(i.method,s,!0),this.setResponseType(n,e.dataFormat),i.method!=t.URLRequestMethod.GET&&i.data?i.data instanceof t.URLVariables?(n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(i.data.toString())):(n.setRequestHeader("Content-Type","multipart/form-data"),n.send(i.data)):n.send()}},n.loadSound=function(e){function i(s){t.clearTimeout(r.__timeoutId),r.removeEventListener("canplaythrough",i,!1),r.removeEventListener("error",n,!1),(s=new t.Html5Audio)._setAudio(r);var a=new t.Sound;a._setAudio(s),e.data=a,t.__callAsync(t.Event.dispatchEvent,t.Event,e,t.Event.COMPLETE)}function n(s){t.clearTimeout(r.__timeoutId),r.removeEventListener("canplaythrough",i,!1),r.removeEventListener("error",n,!1),t.IOErrorEvent.dispatchIOErrorEvent(e)}var s=this.getVirtualUrl(e._request.url),r=new Audio(s);r.__timeoutId=t.setTimeout(i,this,100),r.addEventListener("canplaythrough",i,!1),r.addEventListener("error",n,!1),r.load()},n.loadQQAudio=function(e){var i=t.Html5Capatibility._QQRootPath+this.getVirtualUrl(e._request.url);console.log("loadQQAudio"),QZAppExternal.preloadSound(function(n){if(0==n.code){(n=new t.QQAudio)._setPath(i);var s=new t.Sound;s._setAudio(n),e.data=s,t.__callAsync(t.Event.dispatchEvent,t.Event,e,t.Event.COMPLETE)}else t.IOErrorEvent.dispatchIOErrorEvent(e)},{bid:-1,url:i,refresh:1})},n.loadWebAudio=function(e){var i=this.getVirtualUrl(e._request.url),n=new XMLHttpRequest;n.open("GET",i,!0),n.responseType="arraybuffer",console.log("loadWebAudio"),n.onload=function(){var i=new t.WebAudio;i._setArrayBuffer(n.response,function(){var n=new t.Sound;n._setAudio(i),e.data=n,t.__callAsync(t.Event.dispatchEvent,t.Event,e,t.Event.COMPLETE)})},n.send()},n.getXHR=function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},n.setResponseType=function(e,i){switch(i){case t.URLLoaderDataFormat.TEXT:case t.URLLoaderDataFormat.VARIABLES:e.responseType=t.URLLoaderDataFormat.TEXT;break;case t.URLLoaderDataFormat.BINARY:e.responseType="arraybuffer";break;default:e.responseType=i}},n.loadTexture=function(e){var i=this.getVirtualUrl(e._request.url);t.Texture.createBitmapData(i,function(i,n){if(0!=i)t.IOErrorEvent.dispatchIOErrorEvent(e);else{var s=new t.Texture;s._setBitmapData(n),e.data=s,t.__callAsync(t.Event.dispatchEvent,t.Event,e,t.Event.COMPLETE)}})},n.getVirtualUrl=function(t){return this._versionCtr?this._versionCtr.getVirtualUrl(t):t},i}(t.NetContext);t.HTML5NetContext=e,e.prototype.__class__="egret.HTML5NetContext"}(egret||(egret={})),function(t){var e=function(e){function i(){if(e.call(this),this._isTouchDown=!1,this.rootDiv=null,this.rootDiv=document.getElementById(t.StageDelegate.canvas_div_name),!this.rootDiv){var i=document.getElementById(t.StageDelegate.egret_root_div);this.rootDiv=t.Browser.getInstance().$new("div"),this.rootDiv.id=t.StageDelegate.canvas_div_name,i.appendChild(this.rootDiv)}}__extends(i,e);var n=i.prototype;return n.prevent=function(e){e.stopPropagation(),1==e.isScroll||t.HTMLInput.getInstance().isInputOn()||e.preventDefault()},n.run=function(){var e=this;window.navigator.msPointerEnabled?(this.rootDiv.addEventListener("MSPointerDown",function(t){e._onTouchBegin(t),e.prevent(t)},!1),this.rootDiv.addEventListener("MSPointerMove",function(t){e._onTouchMove(t),e.prevent(t)},!1),this.rootDiv.addEventListener("MSPointerUp",function(t){e._onTouchEnd(t),e.prevent(t)},!1)):t.MainContext.deviceType==t.MainContext.DEVICE_MOBILE?this.addTouchListener():t.MainContext.deviceType==t.MainContext.DEVICE_PC&&(this.addTouchListener(),this.addMouseListener()),window.addEventListener("mousedown",function(t){e.inOutOfCanvas(t)?e.dispatchLeaveStageEvent():e._isTouchDown=!0}),window.addEventListener("mouseup",function(t){e._isTouchDown&&(e.inOutOfCanvas(t)?e.dispatchLeaveStageEvent():e._onTouchEnd(t)),e._isTouchDown=!1})},n.addMouseListener=function(){var t=this;this.rootDiv.addEventListener("mousedown",function(e){t._onTouchBegin(e)}),this.rootDiv.addEventListener("mousemove",function(e){t._onTouchMove(e)}),this.rootDiv.addEventListener("mouseup",function(e){t._onTouchEnd(e)})},n.addTouchListener=function(){var t=this;this.rootDiv.addEventListener("touchstart",function(e){for(var i=e.changedTouches.length,n=0;n<i;n++)t._onTouchBegin(e.changedTouches[n]);t.prevent(e)},!1),this.rootDiv.addEventListener("touchmove",function(e){for(var i=e.changedTouches.length,n=0;n<i;n++)t._onTouchMove(e.changedTouches[n]);t.prevent(e)},!1),this.rootDiv.addEventListener("touchend",function(e){for(var i=e.changedTouches.length,n=0;n<i;n++)t._onTouchEnd(e.changedTouches[n]);t.prevent(e)},!1),this.rootDiv.addEventListener("touchcancel",function(e){for(var i=e.changedTouches.length,n=0;n<i;n++)t._onTouchEnd(e.changedTouches[n]);t.prevent(e)},!1)},n.inOutOfCanvas=function(e){e=(i=this.getLocation(this.rootDiv,e)).x;var i=i.y,n=t.MainContext.instance.stage;return 0>e||0>i||e>n.stageWidth||i>n.stageHeight},n.dispatchLeaveStageEvent=function(){this.touchingIdentifiers.length=0,t.MainContext.instance.stage.dispatchEventWith(t.Event.LEAVE_STAGE)},n._onTouchBegin=function(t){var e=this.getLocation(this.rootDiv,t),i=-1;t.hasOwnProperty("identifier")&&(i=t.identifier),this.onTouchBegan(e.x,e.y,i)},n._onTouchMove=function(t){var e=this.getLocation(this.rootDiv,t),i=-1;t.hasOwnProperty("identifier")&&(i=t.identifier),this.onTouchMove(e.x,e.y,i)},n._onTouchEnd=function(t){var e=this.getLocation(this.rootDiv,t),i=-1;t.hasOwnProperty("identifier")&&(i=t.identifier),this.onTouchEnd(e.x,e.y,i)},n.getLocation=function(e,i){var n,s,r=document.documentElement,a=window;"function"==typeof e.getBoundingClientRect?(s=e.getBoundingClientRect(),n=s.left,s=s.top):s=n=0,n+=a.pageXOffset-r.clientLeft,s+=a.pageYOffset-r.clientTop,null!=i.pageX?(r=i.pageX,a=i.pageY):(n-=document.body.scrollLeft,s-=document.body.scrollTop,r=i.clientX,a=i.clientY);var o=t.Point.identity;return o.x=(r-n)/t.StageDelegate.getInstance().getScaleX(),o.y=(a-s)/t.StageDelegate.getInstance().getScaleY(),o},i}(t.TouchContext);t.HTML5TouchContext=e,e.prototype.__class__="egret.HTML5TouchContext"}(egret||(egret={})),function(t){var e=function(e){function n(){e.call(this),this._isNeedShow=!1,this.inputDiv=this.inputElement=null,this._gscaleY=this._gscaleX=0,this._isNeesHide=!1,this.textValue="",this._styleInfoes={},i.getInstance()}__extends(n,e);var s=n.prototype;return s._initElement=function(e,i,n,s){var r=t.StageDelegate.getInstance().getScaleX(),a=t.StageDelegate.getInstance().getScaleY();this.inputDiv.style.left=e*r+"px",this.inputDiv.style.top=i*a+"px",this._gscaleX=r*n,this._gscaleY=a*s},s._show=function(t,e,n,s){this._multiline=t,i.getInstance().isCurrentStageText(this)?this.inputElement.onblur=null:(this.inputElement=i.getInstance().getInputElement(this),this.inputDiv=i.getInstance()._inputDIV),this._isNeedShow=i.getInstance()._needShow=!0},s.onBlurHandler=function(){i.getInstance().clearInputElement(),window.scrollTo(0,0)},s.executeShow=function(){this.inputElement.value=this._getText(),null==this.inputElement.onblur&&(this.inputElement.onblur=this.onBlurHandler),this._resetStageText(),0<this._textfield._TF_Props_._maxChars?this.inputElement.setAttribute("maxlength",this._textfield._TF_Props_._maxChars):this.inputElement.removeAttribute("maxlength"),this.inputElement.selectionStart=this.inputElement.value.length,this.inputElement.selectionEnd=this.inputElement.value.length,this.inputElement.focus()},s._hide=function(){this._isNeesHide=!0,0<=t.Browser.getInstance().getUserAgent().indexOf("ios")&&i.getInstance().disconnectStageText(this)},s._getText=function(){return this.textValue||(this.textValue=""),this.textValue},s._setText=function(t){this.textValue=t,this.resetText()},s.resetText=function(){this.inputElement&&(this.inputElement.value=this.textValue)},s._onInput=function(){this.textValue=this.inputElement.value,t.Event.dispatchEvent(this,"updateText",!1)},s._onClickHandler=function(e){this._isNeedShow&&(e.stopImmediatePropagation(),this._isNeedShow=!1,this.executeShow(),this.dispatchEvent(new t.Event("focus")))},s._onDisconnect=function(){this.inputElement=null,this.dispatchEvent(new t.Event("blur"))},s.setElementStyle=function(t,e){this.inputElement&&this._styleInfoes[t]!=e&&(this.inputElement.style[t]=e)},s._removeInput=function(){this.inputElement&&i.getInstance().disconnectStageText(this)},s._resetStageText=function(){if(this.inputElement){var e=this._textfield,i=e._TF_Props_;this.setElementStyle("fontFamily",i._fontFamily),this.setElementStyle("fontStyle",i._italic?"italic":"normal"),this.setElementStyle("fontWeight",i._bold?"bold":"normal"),this.setElementStyle("textAlign",i._textAlign),this.setElementStyle("fontSize",i._size*this._gscaleY+"px"),this.setElementStyle("lineHeight",i._size*this._gscaleY+"px"),this.setElementStyle("color",i._textColorString),this.setElementStyle("width",e._getSize(t.Rectangle.identity).width*this._gscaleX+"px"),this.setElementStyle("height",e._getSize(t.Rectangle.identity).height*this._gscaleY+"px"),this.setElementStyle("verticalAlign",i._verticalAlign)}},n}(t.StageText);t.HTML5StageText=e,e.prototype.__class__="egret.HTML5StageText";var i=function(){function e(){this._needShow=!1}var i=e.prototype;return i.isInputOn=function(){return null!=this._stageText},i.isCurrentStageText=function(t){return this._stageText==t},i.initValue=function(t){t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.border="none",t.style.padding="0"},i._initStageDelegateDiv=function(){var i=this,n=t.Browser.getInstance().$("#StageDelegateDiv");n||(n=t.Browser.getInstance().$new("div"),n.id="StageDelegateDiv",document.getElementById(t.StageDelegate.egret_root_div).appendChild(n),i.initValue(n),n.style.width="0px",n.style.height="0px",i._inputDIV=t.Browser.getInstance().$new("div"),i.initValue(i._inputDIV),i._inputDIV.style.width="0px",i._inputDIV.style.height="0px",i._inputDIV.style.left="0px",i._inputDIV.style.top="-100px",i._inputDIV.style[t.Browser.getInstance().getTrans("transformOrigin")]="0% 0% 0px",n.appendChild(i._inputDIV),document.getElementById(t.StageDelegate.canvas_div_name).addEventListener("click",function(n){i._needShow?(i._needShow=!1,t.MainContext.instance.stage._changeSizeDispatchFlag=!1,i._stageText._onClickHandler(n),e.getInstance().show()):i._inputElement&&(i.clearInputElement(),i._inputElement.blur(),i._inputElement=null)}),i.initInputElement(!0),i.initInputElement(!1))},i.initInputElement=function(t){var e=this;t?(t=document.createElement("textarea"),t.style.resize="none",e._multiElement=t,t.id="egretTextarea"):(t=document.createElement("input"),e._simpleElement=t,t.id="egretInput"),t.type="text",e._inputDIV.appendChild(t),t.setAttribute("tabindex","-1"),t.style.width="1px",t.style.height="12px",e.initValue(t),t.style.outline="thin",t.style.background="none",t.style.overflow="hidden",t.style.wordBreak="break-all",t.style.opacity=0,t.oninput=function(){e._stageText&&e._stageText._onInput()}},i.show=function(){var e=this._inputElement;t.__callAsync(function(){e.style.opacity=1},this)},i.disconnectStageText=function(t){null!=this._stageText&&this._stageText!=t||(this.clearInputElement(),this._inputElement&&this._inputElement.blur())},i.clearInputElement=function(){this._inputElement&&(this._inputElement.value="",this._inputElement.onblur=null,this._inputElement.style.width="1px",this._inputElement.style.height="12px",this._inputElement.style.left="0px",this._inputElement.style.top="0px",this._inputElement.style.opacity=0,(this._simpleElement==this._inputElement?this._multiElement:this._simpleElement).style.display="block",this._inputDIV.style.left="0px",this._inputDIV.style.top="-100px"),this._stageText&&(this._stageText._onDisconnect(),this._stageText=null),t.MainContext.instance.stage._changeSizeDispatchFlag=!0},i.getInputElement=function(t){return this.clearInputElement(),this._stageText=t,this._inputElement=this._stageText._multiline?this._multiElement:this._simpleElement,(this._simpleElement==this._inputElement?this._multiElement:this._simpleElement).style.display="none",this._inputElement},e.getInstance=function(){return null==e._instance&&(e._instance=new t.HTMLInput),e._instance},e}();t.HTMLInput=i,i.prototype.__class__="egret.HTMLInput"}(egret||(egret={})),egret.StageText.create=function(){return egret.HTMLInput.getInstance()._initStageDelegateDiv(),new egret.HTML5StageText},function(t){var e=function(){function e(){this._loop=!1,this.paused=!0,this._listeners=[],this._onEndedCall=null,this._volume=1,this._startTime=0}var i=e.prototype;return i._play=function(e){this.removeListeners(),t.Html5Capatibility._System_OS!=t.SystemOSType.WPHONE&&(this._audio=this._audio.cloneNode()),this.paused=!1,this._audio.autoplay=!0,this._audio.volume=this._volume;var i=this,n=function(t){i._audio.removeEventListener("ended",n),i._onEndedCall&&i._onEndedCall.call(null,t),i.clear()};this._audio.addEventListener("ended",n),this.initStart();try{this._audio.currentTime=this._startTime}catch(t){}finally{this._audio.play()}},i.clear=function(){try{this._audio.pause()}catch(t){}finally{this.removeListeners(),this._loop&&!this.paused&&this._play()}},i._pause=function(){this.paused=!0,this._audio.pause()},i._load=function(){this._audio.load()},i._setAudio=function(t){this._audio=t},i.initStart=function(){for(var t=0;t<this._listeners.length;t++){var e=this._listeners[t];this._audio.addEventListener(e.type,e.listener,e.useCapture)}},i._addEventListener=function(t,e,i){void 0===i&&(i=!1),"ended"==t?this._onEndedCall=e:(this._listeners.push({type:t,listener:e,useCapture:i}),this._audio&&this._audio.addEventListener(t,e,i))},i.removeListeners=function(){for(var t=0;t<this._listeners.length;t++){var e=this._listeners[t];this._audio&&this._audio.removeEventListener(e.type,e.listener,e.useCapture)}},i._removeEventListener=function(t,e,i){if(void 0===i&&(i=!1),"ended"==t)this._onEndedCall=null;else for(var n=0;n<this._listeners.length;n++){var s=this._listeners[n];if(s.listener==e&&s.useCapture==i&&s.type==t){this._listeners.splice(n,1),this._audio&&this._audio.removeEventListener(t,e,i);break}}},i._preload=function(e,i,n){void 0===i&&(i=null),void 0===n&&(n=null),t.callLater(i,n)},i._destroy=function(){},i._getVolume=function(){return this._volume},i._setVolume=function(t){this._volume=Math.max(0,Math.min(t,1)),this._audio.volume=this._volume},i._setLoop=function(t){this._loop=t},i._getCurrentTime=function(){return this._audio.currentTime},i._setCurrentTime=function(t){this._startTime=t},e}();t.Html5Audio=e,e.prototype.__class__="egret.Html5Audio"}(egret||(egret={})),function(t){var e=function(){function e(){this.context=e.ctx,this.bufferSource=null,this.paused=!0,this._loop=!1,this._listeners=[],this._onEndedCall=null,this._volume=1,this._currentTime=this._startTime=0,this.gain=e.ctx.createGain?e.ctx.createGain():e.ctx.createGainNode()}var i=e.prototype;return e.decodeAudios=function(){if(!(0>=e.decodeArr.length||e.isDecoding)){e.isDecoding=!0;var t=e.decodeArr.shift();e.ctx.decodeAudioData(t.buffer,function(i){t.self.audioBuffer=i,t.callback&&t.callback(),e.isDecoding=!1,e.decodeAudios()})}},i._play=function(t){var e=this;this.bufferSource&&(this.bufferSource.onended=null,this.removeListeners(),this.bufferSource=null),t=this.context;var i=this.gain,n=t.createBufferSource();this.bufferSource=n,this.addListeners(),n.buffer=this.audioBuffer,n.connect(i),i.connect(t.destination),n.onended=function(t){e.clear(),e._onEndedCall&&e._onEndedCall.call(null,t),e._loop&&!e.paused&&e._play()},this.paused=!1,this._startTime=Date.now(),this.gain.gain.value=this._volume,n.start(0,this._currentTime),this._currentTime=0},i.clear=function(){if(this.bufferSource){this.removeListeners();var t=this.bufferSource;t.stop?t.stop(0):t.noteOff(0),this.bufferSource.disconnect(),this.bufferSource=null}},i.addListeners=function(){for(var t=0;t<this._listeners.length;t++){var e=this._listeners[t];this.bufferSource.addEventListener(e.type,e.listener,e.useCapture)}},i.removeListeners=function(){for(var t=0;t<this._listeners.length;t++){var e=this._listeners[t];this.bufferSource.removeEventListener(e.type,e.listener,e.useCapture)}},i._pause=function(){this.paused=!0,this.clear()},i._addEventListener=function(t,e,i){void 0===i&&(i=!1),"ended"==t?this._onEndedCall=e:(this._listeners.push({type:t,listener:e,useCapture:i}),this.bufferSource&&this.bufferSource.addEventListener(t,e,i))},i._removeEventListener=function(t,e,i){if(void 0===i&&(i=!1),"ended"==t)this._onEndedCall=null;else for(var n=0;n<this._listeners.length;n++){var s=this._listeners[n];if(s.listener==e&&s.useCapture==i&&s.type==t){this._listeners.splice(n,1),this.bufferSource&&this.bufferSource.removeEventListener(t,e,i);break}}},i._load=function(){this._setArrayBuffer(this._arrayBuffer,null)},i._setArrayBuffer=function(t,i){this._arrayBuffer=t,e.decodeArr.push({buffer:t,callback:i,self:this}),e.decodeAudios()},i._preload=function(e,i,n){void 0===i&&(i=null),void 0===n&&(n=null),t.callLater(i,n)},i._getVolume=function(){return this._volume},i._setVolume=function(t){this._volume=t,this.gain.gain.value=t},i._setLoop=function(t){this._loop=t},i._getCurrentTime=function(){return this.bufferSource?(Date.now()-this._startTime)/1e3:0},i._setCurrentTime=function(t){this._currentTime=t},i._destroy=function(){},e.canUseWebAudio=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,e.ctx=e.canUseWebAudio?new(window.AudioContext||window.webkitAudioContext||window.mozAudioContext):void 0,e.decodeArr=[],e.isDecoding=!1,e}();t.WebAudio=e,e.prototype.__class__="egret.WebAudio"}(egret||(egret={})),function(t){var e=function(){function e(){this._loop=!1,this._currentTime=0}var i=e.prototype;return i._play=function(e){this._type=e,e==t.Sound.EFFECT?QZAppExternal.playLocalSound(function(t){alert(JSON.stringify(t))},{bid:-1,url:this._path,loop:this._loop?-1:0}):QZAppExternal.playLocalBackSound({bid:-1,url:this._path,loop:this._loop?-1:0})},i._pause=function(){this._type==t.Sound.EFFECT?QZAppExternal.stopSound():QZAppExternal.stopBackSound()},i._addEventListener=function(t,e,i){},i._removeEventListener=function(t,e,i){},i._load=function(){},i._preload=function(e,i,n){void 0===i&&(i=null),void 0===n&&(n=null),t.callLater(i,n)},i._setPath=function(t){this._path=t},i._getVolume=function(){return 1},i._setVolume=function(t){},i._setLoop=function(t){this._loop=t},i._getCurrentTime=function(){return 0},i._setCurrentTime=function(t){this._currentTime=t},i._destroy=function(){},e}();t.QQAudio=e,e.prototype.__class__="egret.QQAudio"}(egret||(egret={})),function(t){var e=function(){function t(){}return t.QQ_AUDIO=1,t.WEB_AUDIO=2,t.HTML5_AUDIO=3,t}();t.AudioType=e,e.prototype.__class__="egret.AudioType";var i=function(){function t(){}return t.WPHONE=1,t.IOS=2,t.ADNROID=3,t}();t.SystemOSType=i,i.prototype.__class__="egret.SystemOSType";var n=function(n){function s(){n.call(this)}return __extends(s,n),s._init=function(){var n=navigator.userAgent.toLowerCase();s.ua=n,s._canUseBlob=!1,s._audioType=e.HTML5_AUDIO,s._AudioClass=t.Html5Audio,0<=n.indexOf("windows phone")?s._System_OS=i.WPHONE:0<=n.indexOf("android")?(s._System_OS=i.ADNROID,window.hasOwnProperty("QZAppExternal")&&0<=n.indexOf("qzone")&&(s._AudioClass=t.QQAudio,s._audioType=e.QQ_AUDIO,(n=document.getElementsByTagName("base"))&&0<n.length?s._QQRootPath=n[0].baseURI:(-1==(n=window.location.href.indexOf("?"))&&(n=window.location.href.length),n=window.location.href.substring(0,n),n=n.substring(0,n.lastIndexOf("/")),s._QQRootPath=n+"/"))):(0<=n.indexOf("iphone")||0<=n.indexOf("ipad")||0<=n.indexOf("ipod"))&&(s._System_OS=i.IOS,7<=s.getIOSVersion()&&(s._canUseBlob=!0,s._AudioClass=t.WebAudio,s._audioType=e.WEB_AUDIO)),window.URL||window.webkitURL||(s._canUseBlob=!1),window.AudioContext||window.webkitAudioContext||window.mozAudioContext||s._audioType!=e.WEB_AUDIO||(s._audioType=e.HTML5_AUDIO,s._AudioClass=t.Html5Audio)},s.getIOSVersion=function(){var t=s.ua.toLowerCase().match(/cpu [^\d]*\d.*like mac os x/)[0];return parseInt(t.match(/\d(_\d)*/)[0])||0},s._canUseBlob=!1,s._audioType=0,s._QQRootPath="",s._System_OS=0,s.ua="",s}(t.HashObject);t.Html5Capatibility=n,n.prototype.__class__="egret.Html5Capatibility",n._init()}(egret||(egret={})),function(t){var e=function(e){function i(){e.call(this),this.localVersionDataPath="localVersion.manifest",this.localVersionData=null,this.changeVersionDataPath="version.manifest",this.changeVersionData=null,this.baseVersionDataPath="base.manifest",this.baseVersionData=null,this.localVersionCodePath="localCode.manifest",this.serverVersionCodePath="code.manifest",this._call=this._load=null}__extends(i,e);var n=i.prototype;return n.fetchVersion=function(){this._load=new t.NativeResourceLoader,this._load.addEventListener(t.IOErrorEvent.IO_ERROR,this.loadError,this),this._load.addEventListener(t.Event.COMPLETE,this.fileLoadComplete,this),this.initLocalVersionData()},n.initLocalVersionData=function(){var t=this.getData("appVersion.manifest",!0);if(t){if(1==t.debug){if(this.baseVersionData=null,t=this.getData(this.localVersionDataPath,!1))for(var e in t)this.deleteFile(e);return this.deleteFile(this.localVersionDataPath),this.deleteFile(this.localVersionCodePath),void this.loadOver()}var i=this.getData("appVersion.manifest",!1);if(null==i||i.version!=t.version){if(this.localVersionData=this.getData(this.localVersionDataPath,!0),null==this.localVersionData&&(this.localVersionData={}),this.deleteFile(this.localVersionCodePath),this.save("appVersion.manifest",JSON.stringify(t)),t=this.getData(this.localVersionCodePath,!1))for(e in t)t[e]!=this.localVersionData[e]&&this.deleteFile(e);else t={};for(e in this.localVersionData)t[e]!=this.localVersionData[e]&&this.deleteFile(e);return this.save(this.localVersionDataPath,JSON.stringify(this.localVersionData)),void this.loadCodeVersion()}}this.localVersionData=this.getLocalData(this.localVersionDataPath),null==this.localVersionData&&(this.localVersionData=this.getLocalData(this.baseVersionDataPath),null==this.localVersionData&&(this.localVersionData={}),this.save(this.localVersionDataPath,JSON.stringify(this.localVersionData))),this.loadCodeVersion()},n.deleteFile=function(t){egret_native.deleteUpdateFile&&egret_native.deleteUpdateFile(t)},n.loadCodeVersion=function(){var t=1;this.newCode=1;var e=this.getLocalData(this.localVersionCodePath);null!=e&&(t=e.code),null!=(e=this.getLocalData(this.serverVersionCodePath))&&(this.newCode=e.code),this.loadBaseVersion(t!=this.newCode)},n.loadBaseVersion=function(t){this.baseVersionData=this.getLocalData(this.baseVersionDataPath),this.changeVersionData=this.getLocalData(this.changeVersionDataPath);var e=this;null==e.baseVersionData||t?e.loadFile(e.baseVersionDataPath,function(){e.baseVersionData=e.getLocalData(e.baseVersionDataPath),e.loadBaseOver()}):e.loadBaseOver()},n.loadBaseOver=function(){this.save(this.localVersionCodePath,JSON.stringify({code:this.newCode})),this.loadOver()},n.loadFile=function(t,e){void 0===e&&(e=null),this._call=e,this._load.load(t,1e3)},n.fileLoadComplete=function(t){this._call&&this._call()},n.loadError=function(e){this._load.removeEventListener(t.IOErrorEvent.IO_ERROR,this.loadError,this),this._load.removeEventListener(t.Event.COMPLETE,this.fileLoadComplete,this),this.dispatchEvent(e)},n.loadOver=function(){this._load.removeEventListener(t.IOErrorEvent.IO_ERROR,this.loadError,this),this._load.removeEventListener(t.Event.COMPLETE,this.fileLoadComplete,this),this.dispatchEvent(new t.Event(t.Event.COMPLETE))},n.save=function(t,e){egret_native.writeFileSync?egret_native.writeFileSync(t,e):egret_native.saveRecord&&egret_native.saveRecord(t,e)},n.getData=function(t,e){if(egret_native.readUpdateFileSync&&egret_native.readResourceFileSync){var i=e?egret_native.readResourceFileSync(t):egret_native.readUpdateFileSync(t);return null!=i?JSON.parse(i):null}return this.getLocalDataByOld(t)},n.getLocalData=function(t){if(egret_native.readUpdateFileSync&&egret_native.readResourceFileSync){var e=egret_native.readUpdateFileSync(t);return null!=e?JSON.parse(e):null!=(e=egret_native.readResourceFileSync(t))?JSON.parse(e):null}return this.getLocalDataByOld(t)},n.getLocalDataByOld=function(t){var e=null;return egret_native.isRecordExists(t)?(t=egret_native.loadRecord(t),e=JSON.parse(t)):egret_native.isFileExists(t)&&(t=egret_native.readFileSync(t),e=JSON.parse(t)),e},n.getChangeList=function(){if(!this.baseVersionData)return[];var t,e={};for(t in this.changeVersionData)1==this.changeVersionData[t].d?delete this.baseVersionData[t]:this.baseVersionData[t]=this.changeVersionData[t];for(t in this.baseVersionData)null!=this.localVersionData[t]&&this.compareVersion(this.localVersionData,this.baseVersionData,t)||(e[t]={url:t,size:this.baseVersionData[t].s});var i=[];for(t in e)i.push(e[t]);return i},n.compareVersion=function(t,e,i){return null!=t[i]&&null!=e[i]&&t[i].v==e[i].v},n.checkIsNewVersion=function(t){return!this.baseVersionData||(null!=this.changeVersionData[t]?this.compareVersion(this.changeVersionData,this.localVersionData,t):null==this.baseVersionData[t]||this.compareVersion(this.baseVersionData,this.localVersionData,t))},n.saveVersion=function(t){if(this.baseVersionData){var e=!1;null!=this.changeVersionData[t]?this.compareVersion(this.changeVersionData,this.localVersionData,t)||(e=!0,this.localVersionData[t]=this.changeVersionData[t]):null==this.baseVersionData[t]||this.compareVersion(this.baseVersionData,this.localVersionData,t)||(e=!0,this.localVersionData[t]=this.baseVersionData[t]),e&&this.save(this.localVersionDataPath,JSON.stringify(this.localVersionData))}},n.getVirtualUrl=function(t){return t},i}(t.EventDispatcher);t.NativeVersionController=e,e.prototype.__class__="egret.NativeVersionController"}(egret||(egret={}));var RES;!function(t){var e=function(t){function e(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),t.call(this,e,i,n),this.itemsTotal=this.itemsLoaded=0,this.groupName="",this.resItem=null}return __extends(e,t),e.dispatchResourceEvent=function(t,i,n,s,r,a){void 0===n&&(n=""),void 0===s&&(s=null),void 0===r&&(r=0),void 0===a&&(a=0);var o=egret.Event._getPropertyData(e);o.groupName=n,o.resItem=s,o.itemsLoaded=r,o.itemsTotal=a,egret.Event._dispatchByTarget(e,t,i,o)},e.ITEM_LOAD_ERROR="itemLoadError",e.CONFIG_COMPLETE="configComplete",e.CONFIG_LOAD_ERROR="configLoadError",e.GROUP_PROGRESS="groupProgress",e.GROUP_COMPLETE="groupComplete",e.GROUP_LOAD_ERROR="groupLoadError",e}(egret.Event);t.ResourceEvent=e,e.prototype.__class__="RES.ResourceEvent"}(RES||(RES={})),function(t){var e=function(){function t(t,e,i){this.groupName="",this.data=null,this._loaded=!1,this.name=t,this.url=e,this.type=i}var e=t.prototype;return Object.defineProperty(e,"loaded",{get:function(){return this.data?this.data.loaded:this._loaded},set:function(t){this.data&&(this.data.loaded=t),this._loaded=t},enumerable:!0,configurable:!0}),e.toString=function(){return'[ResourceItem name="'+this.name+'" url="'+this.url+'" type="'+this.type+'"]'},t.TYPE_XML="xml",t.TYPE_IMAGE="image",t.TYPE_BIN="bin",t.TYPE_TEXT="text",t.TYPE_JSON="json",t.TYPE_SHEET="sheet",t.TYPE_FONT="font",t.TYPE_SOUND="sound",t}();t.ResourceItem=e,e.prototype.__class__="RES.ResourceItem"}(RES||(RES={})),function(t){var e=function(){function e(){this.keyMap={},this.groupDic={},t.configInstance=this}var i=e.prototype;return i.getGroupByName=function(t){var e=[];if(!this.groupDic[t])return e;for(var i=(t=this.groupDic[t]).length,n=0;n<i;n++)e.push(this.parseResourceItem(t[n]));return e},i.getRawGroupByName=function(t){return this.groupDic[t]?this.groupDic[t]:[]},i.createGroup=function(t,e,i){if(void 0===i&&(i=!1),!i&&this.groupDic[t]||!e||0==e.length)return!1;i=this.groupDic;for(var n=[],s=e.length,r=0;r<s;r++){var a=i[o=e[r]];if(a)for(var o=a.length,h=0;h<o;h++){var l=a[h];-1==n.indexOf(l)&&n.push(l)}else(l=this.keyMap[o])?-1==n.indexOf(l)&&n.push(l):egret.Logger.warningWithErrorId(2e3,o)}return 0!=n.length&&(this.groupDic[t]=n,!0)},i.parseConfig=function(t,e){if(t){var i=t.resources;if(i)for(var n=i.length,s=0;s<n;s++){var r=i[s];(a=r.url)&&-1==a.indexOf("://")&&(r.url=e+a),this.addItemToKeyMap(r)}if(i=t.groups)for(n=i.length,s=0;s<n;s++){for(var a=i[s],o=[],h=a.keys.split(","),l=h.length,u=0;u<l;u++)r=h[u].trim(),(r=this.keyMap[r])&&-1==o.indexOf(r)&&o.push(r);this.groupDic[a.name]=o}}},i.addSubkey=function(t,e){var i=this.keyMap[e];i&&!this.keyMap[t]&&(this.keyMap[t]=i)},i.addItemToKeyMap=function(t){if(this.keyMap[t.name]||(this.keyMap[t.name]=t),t.hasOwnProperty("subkeys")){var e=t.subkeys.split(",");t.subkeys=e;for(var i=e.length,n=0;n<i;n++){var s=e[n];null==this.keyMap[s]&&(this.keyMap[s]=t)}}},i.getName=function(t){return(t=this.keyMap[t])?t.name:""},i.getType=function(t){return(t=this.keyMap[t])?t.type:""},i.getRawResourceItem=function(t){return this.keyMap[t]},i.getResourceItem=function(t){return(t=this.keyMap[t])?this.parseResourceItem(t):null},i.parseResourceItem=function(e){var i=new t.ResourceItem(e.name,e.url,e.type);return i.data=e,i},e}();t.ResourceConfig=e,e.prototype.__class__="RES.ResourceConfig"}(RES||(RES={})),function(t){var e=function(e){function i(){e.call(this),this.thread=2,this.loadingCount=0,this.resInstance=this.callBack=null,this.groupTotalDic={},this.numLoadedDic={},this.itemListDic={},this.groupErrorDic={},this.retryTimesDic={},this.maxRetryTimes=3,this.failedList=[],this.priorityQueue={},this.lazyLoadList=[],this.analyzerDic={},this.queueIndex=0}__extends(i,e);var n=i.prototype;return n.isGroupInLoading=function(t){return void 0!==this.itemListDic[t]},n.loadGroup=function(e,i,n){if(void 0===n&&(n=0),!this.itemListDic[i]&&i)if(e&&0!=e.length){this.priorityQueue[n]?this.priorityQueue[n].push(i):this.priorityQueue[n]=[i],this.itemListDic[i]=e,n=e.length;for(var s=0;s<n;s++)e[s].groupName=i;this.groupTotalDic[i]=e.length,this.numLoadedDic[i]=0,this.next()}else egret.Logger.warningWithErrorId(2001,i),e=new t.ResourceEvent(t.ResourceEvent.GROUP_LOAD_ERROR),e.groupName=i,this.dispatchEvent(e)},n.loadItem=function(t){this.lazyLoadList.push(t),t.groupName="",this.next()},n.next=function(){for(;this.loadingCount<this.thread;){var e=this.getOneResourceItem();if(!e)break;if(this.loadingCount++,e.loaded)this.onItemComplete(e);else{var i=this.analyzerDic[e.type];i||(i=this.analyzerDic[e.type]=egret.Injector.getInstance(t.AnalyzerBase,e.type)),i.loadFile(e,this.onItemComplete,this)}}},n.getOneResourceItem=function(){if(0<this.failedList.length)return this.failedList.shift();var t,e=Number.NEGATIVE_INFINITY;for(t in this.priorityQueue)e=Math.max(e,t);if(!(e=this.priorityQueue[e])||0==e.length)return 0==this.lazyLoadList.length?null:this.lazyLoadList.pop();t=e.length;for(var i,n=0;n<t&&(this.queueIndex>=t&&(this.queueIndex=0),!(0<(i=this.itemListDic[e[this.queueIndex]]).length));n++)this.queueIndex++;return 0==i.length?null:i.shift()},n.onItemComplete=function(e){this.loadingCount--;var i=e.groupName;if(!e.loaded){if(!((n=this.retryTimesDic[e.name]||1)>this.maxRetryTimes))return this.retryTimesDic[e.name]=n+1,this.failedList.push(e),void this.next();delete this.retryTimesDic[e.name],t.ResourceEvent.dispatchResourceEvent(this.resInstance,t.ResourceEvent.ITEM_LOAD_ERROR,i,e)}if(i){this.numLoadedDic[i]++;var n=this.numLoadedDic[i],s=this.groupTotalDic[i];e.loaded||(this.groupErrorDic[i]=!0),t.ResourceEvent.dispatchResourceEvent(this.resInstance,t.ResourceEvent.GROUP_PROGRESS,i,e,n,s),n==s&&(e=this.groupErrorDic[i],this.removeGroupName(i),delete this.groupTotalDic[i],delete this.numLoadedDic[i],delete this.itemListDic[i],delete this.groupErrorDic[i],e?t.ResourceEvent.dispatchResourceEvent(this,t.ResourceEvent.GROUP_LOAD_ERROR,i):t.ResourceEvent.dispatchResourceEvent(this,t.ResourceEvent.GROUP_COMPLETE,i))}else this.callBack.call(this.resInstance,e);this.next()},n.removeGroupName=function(t){for(var e in this.priorityQueue){for(var i=this.priorityQueue[e],n=i.length,s=0,r=!1,n=i.length,a=0;a<n;a++){if(i[a]==t){i.splice(s,1),r=!0;break}s++}if(r){0==i.length&&delete this.priorityQueue[e];break}}},i}(egret.EventDispatcher);t.ResourceLoader=e,e.prototype.__class__="RES.ResourceLoader"}(RES||(RES={})),function(t){var e=function(e){function i(){e.call(this),this.resourceConfig=null,this.resourceConfig=t.configInstance}__extends(i,e);var n=i.prototype;return n.addSubkey=function(t,e){this.resourceConfig.addSubkey(t,e)},n.loadFile=function(t,e,i){},n.getRes=function(t){},n.destroyRes=function(t){return!1},i.getStringPrefix=function(t){if(!t)return"";var e=t.indexOf(".");return-1!=e?t.substring(0,e):""},i.getStringTail=function(t){if(!t)return"";var e=t.indexOf(".");return-1!=e?t.substring(e+1):""},i}(egret.HashObject);t.AnalyzerBase=e,e.prototype.__class__="RES.AnalyzerBase"}(RES||(RES={})),function(t){var e=function(t){function e(){t.call(this),this.fileDic={},this.resItemDic=[],this._dataFormat=egret.URLLoaderDataFormat.BINARY,this.recycler=new egret.Recycler}__extends(e,t);var i=e.prototype;return i.loadFile=function(t,e,i){if(this.fileDic[t.name])e.call(i,t);else{var n=this.getLoader();this.resItemDic[n.hashCode]={item:t,func:e,thisObject:i},n.load(new egret.URLRequest(t.url))}},i.getLoader=function(){var t=this.recycler.pop();return t||((t=new egret.URLLoader).addEventListener(egret.Event.COMPLETE,this.onLoadFinish,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadFinish,this)),t.dataFormat=this._dataFormat,t},i.onLoadFinish=function(t){var e=t.target,i=this.resItemDic[e.hashCode];delete this.resItemDic[e.hashCode];var n=i.item,s=i.func;n.loaded=t.type==egret.Event.COMPLETE,n.loaded&&this.analyzeData(n,e.data),this.recycler.push(e),s.call(i.thisObject,n)},i.analyzeData=function(t,e){var i=t.name;!this.fileDic[i]&&e&&(this.fileDic[i]=e)},i.getRes=function(t){return this.fileDic[t]},i.hasRes=function(t){return null!=this.getRes(t)},i.destroyRes=function(t){return!!this.fileDic[t]&&(this.onResourceDestroy(this.fileDic[t]),delete this.fileDic[t],!0)},i.onResourceDestroy=function(t){},e}(t.AnalyzerBase);t.BinAnalyzer=e,e.prototype.__class__="RES.BinAnalyzer"}(RES||(RES={})),function(t){var e=function(t){function e(){t.call(this),this._dataFormat=egret.URLLoaderDataFormat.TEXTURE}__extends(e,t);var i=e.prototype;return i.analyzeData=function(t,e){var i=t.name;!this.fileDic[i]&&e&&(this.fileDic[i]=e,(i=t.data)&&i.scale9grid&&(i=i.scale9grid.split(","),e.scale9Grid=new egret.Rectangle(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),parseInt(i[3]))))},i.onResourceDestroy=function(t){t.dispose()},e}(t.BinAnalyzer);t.ImageAnalyzer=e,e.prototype.__class__="RES.ImageAnalyzer"}(RES||(RES={})),function(t){var e=function(t){function e(){t.call(this),this._dataFormat=egret.URLLoaderDataFormat.TEXT}return __extends(e,t),e.prototype.analyzeData=function(t,e){var i=t.name;if(!this.fileDic[i]&&e)try{this.fileDic[i]=JSON.parse(e)}catch(i){egret.Logger.warningWithErrorId(1017,t.url,e)}},e}(t.BinAnalyzer);t.JsonAnalyzer=e,e.prototype.__class__="RES.JsonAnalyzer"}(RES||(RES={})),function(t){var e=function(t){function e(){t.call(this),this._dataFormat=egret.URLLoaderDataFormat.TEXT}return __extends(e,t),e}(t.BinAnalyzer);t.TextAnalyzer=e,e.prototype.__class__="RES.TextAnalyzer"}(RES||(RES={})),function(t){var e=function(e){function i(){e.call(this),this.sheetMap={},this.textureMap={},this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(i,e);var n=i.prototype;return n.getRes=function(e){var i=this.fileDic[e];return i||(i=this.textureMap[e]),!i&&(i=t.AnalyzerBase.getStringPrefix(e),i=this.fileDic[i])&&(e=t.AnalyzerBase.getStringTail(e),i=i.getTexture(e)),i},n.onLoadFinish=function(t){var e=t.target,i=this.resItemDic[e.hashCode];delete this.resItemDic[e.hashCode];var n=i.item,s=i.func;if(n.loaded=t.type==egret.Event.COMPLETE,n.loaded)if("string"==typeof e.data){if(n.loaded=!1,t=this.analyzeConfig(n,e.data))return e=n.url,n.url=t,this._dataFormat=egret.URLLoaderDataFormat.TEXTURE,this.loadFile(n,s,i.thisObject),this._dataFormat=egret.URLLoaderDataFormat.TEXT,void(n.url=e)}else this.analyzeBitmap(n,e.data);this.recycler.push(e),s.call(i.thisObject,n)},n.analyzeConfig=function(t,e){var i,n=t.name,s="";try{i=JSON.parse(e)}catch(i){egret.Logger.warningWithErrorId(1017,t.url,e)}return i&&(this.sheetMap[n]=i,s=this.getRelativePath(t.url,i.file)),s},n.analyzeBitmap=function(t,e){var i=t.name;if(!this.fileDic[i]&&e){var n=this.sheetMap[i];delete this.sheetMap[i],n=this.parseSpriteSheet(e,n,t.data&&t.data.subkeys?"":i),this.fileDic[i]=n}},n.getRelativePath=function(t,e){var i=(t=t.split("\\").join("/")).lastIndexOf("/");return t=-1!=i?t.substring(0,i+1)+e:e},n.parseSpriteSheet=function(t,e,i){if(!(e=e.frames))return null;var n,s=new egret.SpriteSheet(t),r=this.textureMap;for(n in e){var a=e[n];t=s.createTexture(n,a.x,a.y,a.w,a.h,a.offX,a.offY,a.sourceW,a.sourceH),a.scale9grid&&(a=a.scale9grid.split(","),t.scale9Grid=new egret.Rectangle(parseInt(a[0]),parseInt(a[1]),parseInt(a[2]),parseInt(a[3]))),null==r[n]&&(r[n]=t,i&&this.addSubkey(n,i))}return s},n.destroyRes=function(t){var e=this.fileDic[t];if(e){delete this.fileDic[t];for(var i in e._textureMap)this.textureMap[i]&&delete this.textureMap[i];return this.onResourceDestroy(e),!0}return!1},n.onResourceDestroy=function(t){t.dispose()},i}(t.BinAnalyzer);t.SheetAnalyzer=e,e.prototype.__class__="RES.SheetAnalyzer"}(RES||(RES={})),function(t){var e=function(t){function e(){t.call(this)}__extends(e,t);var i=e.prototype;return i.analyzeConfig=function(t,e){var i,n=t.name,s="";try{i=JSON.parse(e)}catch(t){}return i?s=this.getRelativePath(t.url,i.file):(i=e,s=this.getTexturePath(t.url,i)),this.sheetMap[n]=i,s},i.analyzeBitmap=function(t,e){var i=t.name;if(!this.fileDic[i]&&e){var n=this.sheetMap[i];delete this.sheetMap[i],n=new egret.BitmapFont(e,n),this.fileDic[i]=n}},i.getTexturePath=function(t,e){var i="",n=e.split("\n")[2],s=n.indexOf('file="');return-1!=s&&(n=n.substring(s+6),s=n.indexOf('"'),i=n.substring(0,s)),t=t.split("\\").join("/"),s=t.lastIndexOf("/"),t=-1!=s?t.substring(0,s+1)+i:i},i.onResourceDestroy=function(t){t.dispose()},e}(t.SheetAnalyzer);t.FontAnalyzer=e,e.prototype.__class__="RES.FontAnalyzer"}(RES||(RES={})),function(t){var e=function(t){function e(){t.call(this),this._dataFormat=egret.URLLoaderDataFormat.SOUND}return __extends(e,t),e.prototype.analyzeData=function(t,e){var i=t.name;!this.fileDic[i]&&e&&(this.fileDic[i]=e,(i=t.data)&&i.soundType?e.preload(i.soundType):e.preload(egret.Sound.EFFECT))},e}(t.BinAnalyzer);t.SoundAnalyzer=e,e.prototype.__class__="RES.SoundAnalyzer"}(RES||(RES={})),function(t){var e=function(t){function e(){t.call(this),this._dataFormat=egret.URLLoaderDataFormat.TEXT}return __extends(e,t),e.prototype.analyzeData=function(t,e){var i=t.name;if(!this.fileDic[i]&&e)try{var n=egret.XML.parse(e);this.fileDic[i]=n}catch(t){}},e}(t.BinAnalyzer);t.XMLAnalyzer=e,e.prototype.__class__="RES.XMLAnalyzer"}(RES||(RES={})),function(t){t.loadConfig=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n="json"),i.loadConfig(t,e,n)},t.loadGroup=function(t,e){void 0===e&&(e=0),i.loadGroup(t,e)},t.isGroupLoaded=function(t){return i.isGroupLoaded(t)},t.getGroupByName=function(t){return i.getGroupByName(t)},t.createGroup=function(t,e,n){return void 0===n&&(n=!1),i.createGroup(t,e,n)},t.hasRes=function(t){return i.hasRes(t)},t.parseConfig=function(t,e){void 0===e&&(e=""),i.parseConfig(t,e)},t.getRes=function(t){return i.getRes(t)},t.getResAsync=function(t,e,n){i.getResAsync(t,e,n)},t.getResByUrl=function(t,e,n,s){void 0===s&&(s=""),i.getResByUrl(t,e,n,s)},t.destroyRes=function(t,e){return i.destroyRes(t,e)},t.setMaxLoadingThread=function(t){i.setMaxLoadingThread(t)},t.setMaxRetryTimes=function(t){i.setMaxRetryTimes(t)},t.addEventListener=function(t,e,n,s,r){void 0===s&&(s=!1),void 0===r&&(r=0),i.addEventListener(t,e,n,s,r)},t.removeEventListener=function(t,e,n,s){void 0===s&&(s=!1),i.removeEventListener(t,e,n,s)};var e=function(e){function i(){e.call(this),this.analyzerDic={},this.configItemList=[],this.configComplete=this.callLaterFlag=!1,this.loadedGroups=[],this.groupNameList=[],this.asyncDic={},this.init()}__extends(i,e);var n=i.prototype;return n.getAnalyzerByType=function(e){var i=this.analyzerDic[e];return i||(i=this.analyzerDic[e]=egret.Injector.getInstance(t.AnalyzerBase,e)),i},n.init=function(){egret.Injector.hasMapRule(t.AnalyzerBase,t.ResourceItem.TYPE_BIN)||egret.Injector.mapClass(t.AnalyzerBase,t.BinAnalyzer,t.ResourceItem.TYPE_BIN),egret.Injector.hasMapRule(t.AnalyzerBase,t.ResourceItem.TYPE_IMAGE)||egret.Injector.mapClass(t.AnalyzerBase,t.ImageAnalyzer,t.ResourceItem.TYPE_IMAGE),egret.Injector.hasMapRule(t.AnalyzerBase,t.ResourceItem.TYPE_TEXT)||egret.Injector.mapClass(t.AnalyzerBase,t.TextAnalyzer,t.ResourceItem.TYPE_TEXT),egret.Injector.hasMapRule(t.AnalyzerBase,t.ResourceItem.TYPE_JSON)||egret.Injector.mapClass(t.AnalyzerBase,t.JsonAnalyzer,t.ResourceItem.TYPE_JSON),egret.Injector.hasMapRule(t.AnalyzerBase,t.ResourceItem.TYPE_SHEET)||egret.Injector.mapClass(t.AnalyzerBase,t.SheetAnalyzer,t.ResourceItem.TYPE_SHEET),egret.Injector.hasMapRule(t.AnalyzerBase,t.ResourceItem.TYPE_FONT)||egret.Injector.mapClass(t.AnalyzerBase,t.FontAnalyzer,t.ResourceItem.TYPE_FONT),egret.Injector.hasMapRule(t.AnalyzerBase,t.ResourceItem.TYPE_SOUND)||egret.Injector.mapClass(t.AnalyzerBase,t.SoundAnalyzer,t.ResourceItem.TYPE_SOUND),egret.Injector.hasMapRule(t.AnalyzerBase,t.ResourceItem.TYPE_XML)||egret.Injector.mapClass(t.AnalyzerBase,t.XMLAnalyzer,t.ResourceItem.TYPE_XML),this.resConfig=new t.ResourceConfig,this.resLoader=new t.ResourceLoader,this.resLoader.callBack=this.onResourceItemComp,this.resLoader.resInstance=this,this.resLoader.addEventListener(t.ResourceEvent.GROUP_COMPLETE,this.onGroupComp,this),this.resLoader.addEventListener(t.ResourceEvent.GROUP_LOAD_ERROR,this.onGroupError,this)},n.loadConfig=function(t,e,i){void 0===i&&(i="json"),this.configItemList.push({url:t,resourceRoot:e,type:i}),this.callLaterFlag||(egret.callLater(this.startLoadConfig,this),this.callLaterFlag=!0)},n.startLoadConfig=function(){this.callLaterFlag=!1;var e=this.configItemList;this.configItemList=[],this.loadingConfigList=e;for(var n=e.length,s=[],r=0;r<n;r++){var a=e[r],a=new t.ResourceItem(a.url,a.url,a.type);s.push(a)}this.resLoader.loadGroup(s,i.GROUP_CONFIG,Number.MAX_VALUE)},n.isGroupLoaded=function(t){return-1!=this.loadedGroups.indexOf(t)},n.getGroupByName=function(t){return this.resConfig.getGroupByName(t)},n.loadGroup=function(e,i){if(void 0===i&&(i=0),-1!=this.loadedGroups.indexOf(e))t.ResourceEvent.dispatchResourceEvent(this,t.ResourceEvent.GROUP_COMPLETE,e);else if(!this.resLoader.isGroupInLoading(e))if(this.configComplete){var n=this.resConfig.getGroupByName(e);this.resLoader.loadGroup(n,e,i)}else this.groupNameList.push({name:e,priority:i})},n.createGroup=function(t,e,i){if(void 0===i&&(i=!1),i){var n=this.loadedGroups.indexOf(t);-1!=n&&this.loadedGroups.splice(n,1)}return this.resConfig.createGroup(t,e,i)},n.onGroupComp=function(e){if(e.groupName==i.GROUP_CONFIG){e=this.loadingConfigList.length;for(var n=0;n<e;n++){var s=this.loadingConfigList[n],r=this.getAnalyzerByType(s.type),a=r.getRes(s.url);r.destroyRes(s.url),this.resConfig.parseConfig(a,s.resourceRoot)}this.configComplete=!0,this.loadingConfigList=null,t.ResourceEvent.dispatchResourceEvent(this,t.ResourceEvent.CONFIG_COMPLETE),this.loadDelayGroups()}else this.loadedGroups.push(e.groupName),this.dispatchEvent(e)},n.loadDelayGroups=function(){var t=this.groupNameList;this.groupNameList=[];for(var e=t.length,i=0;i<e;i++){var n=t[i];this.loadGroup(n.name,n.priority)}},n.onGroupError=function(e){e.groupName==i.GROUP_CONFIG?(this.loadingConfigList=null,t.ResourceEvent.dispatchResourceEvent(this,t.ResourceEvent.CONFIG_LOAD_ERROR)):this.dispatchEvent(e)},n.hasRes=function(e){var i=this.resConfig.getType(e);return""!=i||(e=t.AnalyzerBase.getStringPrefix(e),""!=(i=this.resConfig.getType(e)))},n.parseConfig=function(t,e){this.resConfig.parseConfig(t,e),this.configComplete||this.loadingConfigList||(this.configComplete=!0,this.loadDelayGroups())},n.getRes=function(e){var i=this.resConfig.getType(e);return""==i&&(i=t.AnalyzerBase.getStringPrefix(e),""==(i=this.resConfig.getType(i)))?null:this.getAnalyzerByType(i).getRes(e)},n.getResAsync=function(e,i,n){var s=this.resConfig.getType(e),r=this.resConfig.getName(e);""!=s||(r=t.AnalyzerBase.getStringPrefix(e),""!=(s=this.resConfig.getType(r)))?(s=this.getAnalyzerByType(s).getRes(e))?i.call(n,s):(e={key:e,compFunc:i,thisObject:n},this.asyncDic[r]?this.asyncDic[r].push(e):(this.asyncDic[r]=[e],r=this.resConfig.getResourceItem(r),this.resLoader.loadItem(r))):i.call(n,null)},n.getResByUrl=function(e,i,n,s){if(void 0===s&&(s=""),e){s||(s=this.getTypeByUrl(e));var r=this.getAnalyzerByType(s).getRes(e);r?i.call(n,r):(i={key:e,compFunc:i,thisObject:n},this.asyncDic[e]?this.asyncDic[e].push(i):(this.asyncDic[e]=[i],e=new t.ResourceItem(e,e,s),this.resLoader.loadItem(e)))}else i.call(n,null)},n.getTypeByUrl=function(e){switch((e=e.substr(e.lastIndexOf(".")+1))&&(e=e.toLowerCase()),e){case t.ResourceItem.TYPE_XML:case t.ResourceItem.TYPE_JSON:case t.ResourceItem.TYPE_SHEET:break;case"png":case"jpg":case"gif":case"jpeg":case"bmp":e=t.ResourceItem.TYPE_IMAGE;break;case"fnt":e=t.ResourceItem.TYPE_FONT;break;case"txt":e=t.ResourceItem.TYPE_TEXT;break;case"mp3":case"ogg":case"mpeg":case"wav":case"m4a":case"mp4":case"aiff":case"wma":case"mid":e=t.ResourceItem.TYPE_SOUND;break;default:e=t.ResourceItem.TYPE_BIN}return e},n.onResourceItemComp=function(t){var e=this.asyncDic[t.name];delete this.asyncDic[t.name],t=this.getAnalyzerByType(t.type);for(var i=e.length,n=0;n<i;n++){var s=e[n],r=t.getRes(s.key);s.compFunc.call(s.thisObject,r,s.key)}},n.destroyRes=function(t,e){void 0===e&&(e=!0);var i=this.resConfig.getRawGroupByName(t);if(i&&0<i.length){var n=this.loadedGroups.indexOf(t);-1!=n&&this.loadedGroups.splice(n,1);for(var s=i.length,r=0;r<s;r++)if(n=i[r],e||!this.isResInLoadedGroup(n.name)){n.loaded=!1;var a=this.getAnalyzerByType(n.type);a.destroyRes(n.name),this.removeLoadedGroupsByItemName(n.name)}return!0}return""!=(i=this.resConfig.getType(t))&&(n=this.resConfig.getRawResourceItem(t),n.loaded=!1,a=this.getAnalyzerByType(i),i=a.destroyRes(t),this.removeLoadedGroupsByItemName(n.name),i)},n.removeLoadedGroupsByItemName=function(t){for(var e=this.loadedGroups,i=e.length,n=0;n<i;n++)for(var s=this.resConfig.getRawGroupByName(e[n]),r=s.length,a=0;a<r;a++)if(s[a].name==t){e.splice(n,1),n--,i=e.length;break}},n.isResInLoadedGroup=function(t){for(var e=this.loadedGroups,i=e.length,n=0;n<i;n++)for(var s=this.resConfig.getRawGroupByName(e[n]),r=s.length,a=0;a<r;a++)if(s[a].name==t)return!0;return!1},n.setMaxLoadingThread=function(t){1>t&&(t=1),this.resLoader.thread=t},n.setMaxRetryTimes=function(t){t=Math.max(t,0),this.resLoader.maxRetryTimes=t},i.GROUP_CONFIG="RES__CONFIG",i}(egret.EventDispatcher);e.prototype.__class__="RES.Resource";var i=new e}(RES||(RES={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this.targetLevel=Number.MAX_VALUE,this.updateCompleteQueue=new e.DepthQueue,this.invalidateClientPropertiesFlag=this.invalidatePropertiesFlag=!1,this.invalidatePropertiesQueue=new e.DepthQueue,this.invalidateClientSizeFlag=this.invalidateSizeFlag=!1,this.invalidateSizeQueue=new e.DepthQueue,this.invalidateDisplayListFlag=!1,this.invalidateDisplayListQueue=new e.DepthQueue,this.listenersAttached=!1}__extends(n,i);var s=n.prototype;return s.invalidateProperties=function(t){this.invalidatePropertiesFlag||(this.invalidatePropertiesFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.nestLevel&&(this.invalidateClientPropertiesFlag=!0),this.invalidatePropertiesQueue.insert(t)},s.validateProperties=function(){for(var t=this.invalidatePropertiesQueue.shift();t;)t.parent&&(t.validateProperties(),t.updateCompletePendingFlag||(this.updateCompleteQueue.insert(t),t.updateCompletePendingFlag=!0)),t=this.invalidatePropertiesQueue.shift();this.invalidatePropertiesQueue.isEmpty()&&(this.invalidatePropertiesFlag=!1)},s.invalidateSize=function(t){this.invalidateSizeFlag||(this.invalidateSizeFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.nestLevel&&(this.invalidateClientSizeFlag=!0),this.invalidateSizeQueue.insert(t)},s.validateSize=function(){for(var t=this.invalidateSizeQueue.pop();t;)t.parent&&(t.validateSize(),t.updateCompletePendingFlag||(this.updateCompleteQueue.insert(t),t.updateCompletePendingFlag=!0)),t=this.invalidateSizeQueue.pop();this.invalidateSizeQueue.isEmpty()&&(this.invalidateSizeFlag=!1)},s.invalidateDisplayList=function(t){this.invalidateDisplayListFlag||(this.invalidateDisplayListFlag=!0,this.listenersAttached||this.attachListeners()),this.invalidateDisplayListQueue.insert(t)},s.validateDisplayList=function(){for(var t=this.invalidateDisplayListQueue.shift();t;)t.parent&&(t.validateDisplayList(),t.updateCompletePendingFlag||(this.updateCompleteQueue.insert(t),t.updateCompletePendingFlag=!0)),t=this.invalidateDisplayListQueue.shift();this.invalidateDisplayListQueue.isEmpty()&&(this.invalidateDisplayListFlag=!1)},s.attachListeners=function(){e.UIGlobals.stage.addEventListener(t.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this),e.UIGlobals.stage.addEventListener(t.Event.RENDER,this.doPhasedInstantiationCallBack,this),e.UIGlobals.stage.invalidate(),this.listenersAttached=!0},s.doPhasedInstantiationCallBack=function(i){e.UIGlobals.stage.removeEventListener(t.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this),e.UIGlobals.stage.removeEventListener(t.Event.RENDER,this.doPhasedInstantiationCallBack,this),this.doPhasedInstantiation()},s.doPhasedInstantiation=function(){if(this.invalidatePropertiesFlag&&this.validateProperties(),this.invalidateSizeFlag&&this.validateSize(),this.invalidateDisplayListFlag&&this.validateDisplayList(),this.invalidatePropertiesFlag||this.invalidateSizeFlag||this.invalidateDisplayListFlag)this.attachListeners();else{this.listenersAttached=!1;for(var t=this.updateCompleteQueue.pop();t;)t.initialized||(t.initialized=!0),t.hasEventListener(e.UIEvent.UPDATE_COMPLETE)&&e.UIEvent.dispatchUIEvent(t,e.UIEvent.UPDATE_COMPLETE),t.updateCompletePendingFlag=!1,t=this.updateCompleteQueue.pop();e.UIEvent.dispatchUIEvent(this,e.UIEvent.UPDATE_COMPLETE)}},s.validateNow=function(){for(var t=0;this.listenersAttached&&100>t++;)this.doPhasedInstantiationCallBack()},s.validateClient=function(t,i){void 0===i&&(i=!1);var n,s=!1,r=this.targetLevel;for(this.targetLevel==Number.MAX_VALUE&&(this.targetLevel=t.nestLevel);!s;){for(s=!0,n=this.invalidatePropertiesQueue.removeSmallestChild(t);n;)n.parent&&(n.validateProperties(),n.updateCompletePendingFlag||(this.updateCompleteQueue.insert(n),n.updateCompletePendingFlag=!0)),n=this.invalidatePropertiesQueue.removeSmallestChild(t);for(this.invalidatePropertiesQueue.isEmpty()&&(this.invalidatePropertiesFlag=!1),this.invalidateClientPropertiesFlag=!1,n=this.invalidateSizeQueue.removeLargestChild(t);n;){if(n.parent&&(n.validateSize(),n.updateCompletePendingFlag||(this.updateCompleteQueue.insert(n),n.updateCompletePendingFlag=!0)),this.invalidateClientPropertiesFlag&&(n=this.invalidatePropertiesQueue.removeSmallestChild(t))){this.invalidatePropertiesQueue.insert(n),s=!1;break}n=this.invalidateSizeQueue.removeLargestChild(t)}if(this.invalidateSizeQueue.isEmpty()&&(this.invalidateSizeFlag=!1),this.invalidateClientSizeFlag=this.invalidateClientPropertiesFlag=!1,!i){for(n=this.invalidateDisplayListQueue.removeSmallestChild(t);n;){if(n.parent&&(n.validateDisplayList(),n.updateCompletePendingFlag||(this.updateCompleteQueue.insert(n),n.updateCompletePendingFlag=!0)),this.invalidateClientPropertiesFlag&&(n=this.invalidatePropertiesQueue.removeSmallestChild(t))){this.invalidatePropertiesQueue.insert(n),s=!1;break}if(this.invalidateClientSizeFlag&&(n=this.invalidateSizeQueue.removeLargestChild(t))){this.invalidateSizeQueue.insert(n),s=!1;break}n=this.invalidateDisplayListQueue.removeSmallestChild(t)}this.invalidateDisplayListQueue.isEmpty()&&(this.invalidateDisplayListFlag=!1)}}if(r==Number.MAX_VALUE&&(this.targetLevel=Number.MAX_VALUE,!i))for(n=this.updateCompleteQueue.removeLargestChild(t);n;)n.initialized||(n.initialized=!0),n.hasEventListener(e.UIEvent.UPDATE_COMPLETE)&&e.UIEvent.dispatchUIEvent(n,e.UIEvent.UPDATE_COMPLETE),n.updateCompletePendingFlag=!1,n=this.updateCompleteQueue.removeLargestChild(t)},n}(t.EventDispatcher);e.LayoutManager=i,i.prototype.__class__="egret.gui.LayoutManager"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(){function e(){this.depthBins=[],this.minDepth=0,this.maxDepth=-1}var i=e.prototype;return i.insert=function(t){var e=t.nestLevel,i=t.hashCode;this.maxDepth<this.minDepth?this.minDepth=this.maxDepth=e:(e<this.minDepth&&(this.minDepth=e),e>this.maxDepth&&(this.maxDepth=e));var s=this.depthBins[e];s?null==s.items[i]&&(s.items[i]=t,s.length++):(s=new n,this.depthBins[e]=s,s.items[i]=t,s.length++)},i.pop=function(){var t=null;if(this.minDepth<=this.maxDepth){for(var e=this.depthBins[this.maxDepth];!e||0==e.length;){if(this.maxDepth--,this.maxDepth<this.minDepth)return null;e=this.depthBins[this.maxDepth]}var i,n=e.items;for(i in n){t=n[i],this.remove(t,this.maxDepth);break}for(;(!e||0==e.length)&&(this.maxDepth--,!(this.maxDepth<this.minDepth));)e=this.depthBins[this.maxDepth]}return t},i.shift=function(){var t=null;if(this.minDepth<=this.maxDepth){for(var e=this.depthBins[this.minDepth];!e||0==e.length;){if(this.minDepth++,this.minDepth>this.maxDepth)return null;e=this.depthBins[this.minDepth]}var i,n=e.items;for(i in n){t=n[i],this.remove(t,this.minDepth);break}for(;(!e||0==e.length)&&(this.minDepth++,!(this.minDepth>this.maxDepth));)e=this.depthBins[this.minDepth]}return t},i.removeLargestChild=function(e){for(var i=this.maxDepth,n=e.nestLevel,s=e.hashCode;n<=i;){if((a=this.depthBins[i])&&0<a.length){if(i==e.nestLevel){if(a.items[s])return this.remove(e,i),e}else{var r,a=a.items;for(r in a){var o=a[r];if(o instanceof t.DisplayObject&&e instanceof t.DisplayObjectContainer&&e.contains(o))return this.remove(o,i),o}}i--}else if(i==this.maxDepth&&this.maxDepth--,--i<n)break}return null},i.removeSmallestChild=function(e){for(var i=e.nestLevel,n=e.hashCode;i<=this.maxDepth;){if((r=this.depthBins[i])&&0<r.length){if(i==e.nestLevel){if(r.items[n])return this.remove(e,i),e}else{var s,r=r.items;for(s in r){var a=r[s];if(a instanceof t.DisplayObject&&e instanceof t.DisplayObjectContainer&&e.contains(a))return this.remove(a,i),a}}i++}else if(i==this.minDepth&&this.minDepth++,++i>this.maxDepth)break}return null},i.remove=function(t,e){void 0===e&&(e=-1);var i=t.hashCode,n=this.depthBins[0<=e?e:t.nestLevel];return n&&null!=n.items[i]?(delete n.items[i],n.length--,t):null},i.removeAll=function(){this.minDepth=this.depthBins.length=0,this.maxDepth=-1},i.isEmpty=function(){return this.minDepth>this.maxDepth},e}();e.DepthQueue=i,i.prototype.__class__="egret.gui.DepthQueue";var n=function(){this.length=0,this.items=[]};e.DepthBin=n,n.prototype.__class__="egret.gui.DepthBin"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){function e(){}return Object.defineProperty(e,"stage",{get:function(){return e._stage},enumerable:!0,configurable:!0}),e._initlize=function(i){e.initlized||(e._stage=i,e._layoutManager=new t.LayoutManager,e.initlized=!0)},Object.defineProperty(e,"uiStage",{get:function(){return e._uiStage},enumerable:!0,configurable:!0}),e.initlized=!1,e}();t.UIGlobals=e,e.prototype.__class__="egret.gui.UIGlobals"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){this._id=null,this._isPopUp=!1,this._owner=null,this._initialized=this._updateCompletePendingFlag=!1,this._nestLevel=0,this._enabled=!0,this._minWidth=this._height=this._width=0,this._maxWidth=1e4,this._minHeight=0,this._maxHeight=1e4,this._measuredHeight=this._measuredWidth=0,this._percentHeight=this._percentWidth=this._verticalCenter=this._horizontalCenter=this._bottom=this._top=this._right=this._left=NaN,this._includeInLayout=!0,this._oldY=this._oldX=this._oldHeight=this._oldWidth=NaN,this._invalidateSizeFlag=this._invalidatePropertiesFlag=!1,this._oldPreferHeight=this._oldPreferWidth=NaN,this._hasOwnStyleChain=this._initializeCalled=this._validateNowFlag=this._invalidateDisplayListFlag=!1,this._styleProtoChain=null,this._layoutHeightExplicitlySet=this._layoutWidthExplicitlySet=this._hasNoStyleChild=!1};t.UIComponentProperties=e,e.prototype.__class__="egret.gui.UIComponentProperties"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this._UIC_Props_=new t.gui.UIComponentProperties,this.touchEnabled=!0,this.addEventListener(t.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this.addEventListener(t.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this),void 0===n.prototypeCanSet&&(n.prototypeCanSet=void 0!=={}.__proto__)}__extends(n,i);var s=n.prototype;return s.onAddedToStage=function(i){this.removeEventListener(t.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this._initialize(),e.UIGlobals._initlize(this.stage),0<this._UIC_Props_._nestLevel&&this.checkInvalidateFlag()},Object.defineProperty(s,"id",{get:function(){return this._UIC_Props_._id},set:function(t){this._UIC_Props_._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"isPopUp",{get:function(){return this._UIC_Props_._isPopUp},set:function(t){this._UIC_Props_._isPopUp=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"owner",{get:function(){return this._UIC_Props_._owner?this._UIC_Props_._owner:this.parent},enumerable:!0,configurable:!0}),s.ownerChanged=function(t){this._UIC_Props_._owner=t},Object.defineProperty(s,"updateCompletePendingFlag",{get:function(){return this._UIC_Props_._updateCompletePendingFlag},set:function(t){this._UIC_Props_._updateCompletePendingFlag=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"initialized",{get:function(){return this._UIC_Props_._initialized},set:function(t){this._UIC_Props_._initialized!=t&&(this._UIC_Props_._initialized=t)&&(this.childrenCreated(),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CREATION_COMPLETE))},enumerable:!0,configurable:!0}),s._initialize=function(){this._UIC_Props_._initializeCalled||(e.UIGlobals.stage&&this.removeEventListener(t.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this._UIC_Props_._initializeCalled=!0,e.UIEvent.dispatchUIEvent(this,e.UIEvent.INITIALIZE),this.createChildren(),this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},s.createChildren=function(){},s.childrenCreated=function(){},Object.defineProperty(s,"nestLevel",{get:function(){return this._UIC_Props_._nestLevel},set:function(e){this._UIC_Props_._nestLevel!=e&&(this._UIC_Props_._nestLevel=e,0==this._UIC_Props_._nestLevel?this.addEventListener(t.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this):this.removeEventListener(t.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this),this._updateChildrenNestLevel())},enumerable:!0,configurable:!0}),s._updateChildrenNestLevel=function(){for(var t=this.numChildren-1;0<=t;t--){var e=this.getChildAt(t);e&&"nestLevel"in e&&(e.nestLevel=this._UIC_Props_._nestLevel+1)}},s.getStyle=function(t){var e=this._UIC_Props_._styleProtoChain;return e?e[t]:void 0},s.setStyle=function(t,e){var i=this._UIC_Props_._styleProtoChain;this._UIC_Props_._hasOwnStyleChain||(i=this._createOwnStyleProtoChain(i)),i[t]=e,this.styleChanged(t),this.notifyStyleChangeInChildren(t)},s.styleChanged=function(t){},s.notifyStyleChangeInChildren=function(t){if(!this._UIC_Props_._hasNoStyleChild)for(var e=this.numChildren-1;0<=e;e--){var i=this.getChildAt(e);i&&"styleChanged"in i&&(i.styleChanged(t),i.notifyStyleChangeInChildren(t))}},s._createOwnStyleProtoChain=function(t){if(this._UIC_Props_._hasOwnStyleChain=!0,n.prototypeCanSet?(this._UIC_Props_._styleProtoChain={},this._UIC_Props_._styleProtoChain.__proto__=t||n.emptyStyleChain):this._UIC_Props_._styleProtoChain=this.createProtoChain(t),t=this._UIC_Props_._styleProtoChain,!this._UIC_Props_._hasNoStyleChild)for(var e=this.numChildren-1;0<=e;e--){var i=this.getChildAt(e);i&&"regenerateStyleCache"in i&&i.regenerateStyleCache(t)}return t},s.createProtoChain=function(t){function e(){}return e.prototype=t,t=new e,e.prototype=null,t},s.clearStyle=function(t){this._UIC_Props_._hasOwnStyleChain&&(delete this._UIC_Props_._styleProtoChain[t],this.styleChanged(t),this.notifyStyleChangeInChildren(t))},s.regenerateStyleCache=function(t){if(n.prototypeCanSet){if(this._UIC_Props_._hasOwnStyleChain)this._UIC_Props_._styleProtoChain.__proto__=t||n.emptyStyleChain;else if(this._UIC_Props_._styleProtoChain!=t){this._UIC_Props_._styleProtoChain=t;for(var e=this.numChildren-1;0<=e;e--){var i=this.getChildAt(e);i&&"regenerateStyleCache"in i&&i.regenerateStyleCache(t)}}}else this.regenerateStyleCacheForIE(t)},s.regenerateStyleCacheForIE=function(t){if(this._UIC_Props_._hasOwnStyleChain){var e=this._UIC_Props_._styleProtoChain;t=this.createProtoChain(t);for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}if(this._UIC_Props_._styleProtoChain=t,!this._UIC_Props_._hasNoStyleChild)for(e=this.numChildren-1;0<=e;e--)(i=this.getChildAt(e))&&"regenerateStyleCacheForIE"in i&&i.regenerateStyleCacheForIE(t)},s._addToDisplayList=function(t,e){void 0===e&&(e=!0);var i=this.numChildren;return t.parent==this&&i--,this._addingChild(t),this._doAddChild(t,i,e),this._childAdded(t),t},s._addToDisplayListAt=function(t,e,i){return void 0===i&&(i=!0),this._addingChild(t),this._doAddChild(t,e,i),this._childAdded(t),t},s._removeFromDisplayList=function(e,i){void 0===i&&(i=!0);var n=this._children.indexOf(e);return 0<=n?(this._doRemoveChild(n,i),this._childRemoved(e),e):(t.Logger.fatalWithErrorId(1008),null)},s._removeFromDisplayListAt=function(e,i){if(void 0===i&&(i=!0),0<=e&&e<this._children.length){var n=this._doRemoveChild(e,i);return this._childRemoved(n),n}return t.Logger.fatalWithErrorId(1007),null},s.addChild=function(t){return this._addingChild(t),i.prototype.addChild.call(this,t),this._childAdded(t),t},s.addChildAt=function(t,e){return this._addingChild(t),i.prototype.addChildAt.call(this,t,e),this._childAdded(t),t},s._addingChild=function(t){if(t&&("nestLevel"in t&&(t.nestLevel=this._UIC_Props_._nestLevel+1),"styleChanged"in t)){var e=this._UIC_Props_._styleProtoChain;(e||t._UIC_Props_&&t._UIC_Props_._styleProtoChain)&&(t.regenerateStyleCache(e),t.styleChanged(null),t.notifyStyleChangeInChildren(null))}},s._childAdded=function(t){t instanceof n&&(t._initialize(),t.checkInvalidateFlag())},s.removeChild=function(t){return i.prototype.removeChild.call(this,t),this._childRemoved(t),t},s.removeChildAt=function(t){return t=i.prototype.removeChildAt.call(this,t),this._childRemoved(t),t},s._childRemoved=function(t){t&&"nestLevel"in t&&(t.nestLevel=0)},s.checkInvalidateFlag=function(t){e.UIGlobals._layoutManager&&(this._UIC_Props_._invalidatePropertiesFlag&&e.UIGlobals._layoutManager.invalidateProperties(this),this._UIC_Props_._invalidateSizeFlag&&e.UIGlobals._layoutManager.invalidateSize(this),this._UIC_Props_._invalidateDisplayListFlag&&e.UIGlobals._layoutManager.invalidateDisplayList(this),this._UIC_Props_._validateNowFlag&&(e.UIGlobals._layoutManager.validateClient(this),this._UIC_Props_._validateNowFlag=!1))},Object.defineProperty(s,"enabled",{get:function(){return this._UIC_Props_._enabled},set:function(t){this._UIC_Props_._enabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"width",{get:function(){return this._UIC_Props_._width},set:function(t){this._setWidth(t)},enumerable:!0,configurable:!0}),s._setWidth=function(t){this._UIC_Props_._width==t&&this._DO_Props_._explicitWidth==t||(i.prototype._setWidth.call(this,t),isNaN(t)?this.invalidateSize():this._UIC_Props_._width=t,this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList())},Object.defineProperty(s,"height",{get:function(){return this._UIC_Props_._height},set:function(t){this._setHeight(t)},enumerable:!0,configurable:!0}),s._setHeight=function(t){this._UIC_Props_._height==t&&this._DO_Props_._explicitHeight==t||(i.prototype._setHeight.call(this,t),isNaN(t)?this.invalidateSize():this._UIC_Props_._height=t,this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList())},Object.defineProperty(s,"scaleX",{get:function(){return this._DO_Props_._scaleX},set:function(t){this._setScaleX(t)},enumerable:!0,configurable:!0}),s._setScaleX=function(t){this._DO_Props_._scaleX!=t&&(this._DO_Props_._scaleX=t,this.invalidateParentSizeAndDisplayList())},Object.defineProperty(s,"scaleY",{get:function(){return this._DO_Props_._scaleY},set:function(t){this._setScaleY(t)},enumerable:!0,configurable:!0}),s._setScaleY=function(t){this._DO_Props_._scaleY!=t&&(this._DO_Props_._scaleY=t,this.invalidateParentSizeAndDisplayList())},Object.defineProperty(s,"minWidth",{get:function(){return this._UIC_Props_._minWidth},set:function(t){this._UIC_Props_._minWidth!=t&&(this._UIC_Props_._minWidth=t,this.invalidateSize())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"maxWidth",{get:function(){return this._UIC_Props_._maxWidth},set:function(t){this._UIC_Props_._maxWidth!=t&&(this._UIC_Props_._maxWidth=t,this.invalidateSize())},enumerable:!0,configurable:!0}),s._getMaxWidth=function(){return this._UIC_Props_._maxWidth},Object.defineProperty(s,"minHeight",{get:function(){return this._UIC_Props_._minHeight},set:function(t){this._UIC_Props_._minHeight!=t&&(this._UIC_Props_._minHeight=t,this.invalidateSize())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"maxHeight",{get:function(){return this._UIC_Props_._maxHeight},set:function(t){this._UIC_Props_._maxHeight!=t&&(this._UIC_Props_._maxHeight=t,this.invalidateSize())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"measuredWidth",{get:function(){return this._UIC_Props_._measuredWidth},set:function(t){this._UIC_Props_._measuredWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"measuredHeight",{get:function(){return this._UIC_Props_._measuredHeight},set:function(t){this._UIC_Props_._measuredHeight=t},enumerable:!0,configurable:!0}),s.setActualSize=function(t,e){var i=!1;this._UIC_Props_._width!=t&&(this._UIC_Props_._width=t,i=!0),this._UIC_Props_._height!=e&&(this._UIC_Props_._height=e,i=!0),i&&(this.invalidateDisplayList(),this.dispatchResizeEvent())},Object.defineProperty(s,"x",{get:function(){return this._DO_Props_._x},set:function(t){this._DO_Props_._x!=t&&(this._setX(t),this.invalidateProperties(),this._UIC_Props_._includeInLayout&&this.parent&&this.parent instanceof n&&this.parent._childXYChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"y",{get:function(){return this._DO_Props_._y},set:function(t){this._DO_Props_._y!=t&&(this._setY(t),this.invalidateProperties(),this._UIC_Props_._includeInLayout&&this.parent&&this.parent instanceof n&&this.parent._childXYChanged())},enumerable:!0,configurable:!0}),s.invalidateProperties=function(){this._UIC_Props_._invalidatePropertiesFlag||(this._UIC_Props_._invalidatePropertiesFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateProperties(this))},s.validateProperties=function(){this._UIC_Props_._invalidatePropertiesFlag&&(this.commitProperties(),this._UIC_Props_._invalidatePropertiesFlag=!1)},s.invalidateSize=function(){this._UIC_Props_._invalidateSizeFlag||(this._UIC_Props_._invalidateSizeFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateSize(this))},s.validateSize=function(t){if(void 0===t&&(t=!1),t)for(t=0;t<this.numChildren;t++){var e=this.getChildAt(t);"validateSize"in e&&e.validateSize(!0)}this._UIC_Props_._invalidateSizeFlag&&(this.measureSizes()&&(this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList()),this._UIC_Props_._invalidateSizeFlag=!1)},s.measureSizes=function(){var t=!1;return this._UIC_Props_._invalidateSizeFlag?(this.canSkipMeasurement()||(this.measure(),this.measuredWidth<this.minWidth&&(this.measuredWidth=this.minWidth),this.measuredWidth>this.maxWidth&&(this.measuredWidth=this.maxWidth),this.measuredHeight<this.minHeight&&(this.measuredHeight=this.minHeight),this.measuredHeight>this.maxHeight&&(this.measuredHeight=this.maxHeight)),isNaN(this._UIC_Props_._oldPreferWidth)?(this._UIC_Props_._oldPreferWidth=this.preferredWidth,this._UIC_Props_._oldPreferHeight=this.preferredHeight,t=!0):(this.preferredWidth==this._UIC_Props_._oldPreferWidth&&this.preferredHeight==this._UIC_Props_._oldPreferHeight||(t=!0),this._UIC_Props_._oldPreferWidth=this.preferredWidth,this._UIC_Props_._oldPreferHeight=this.preferredHeight),t):t},s.invalidateDisplayList=function(){this._UIC_Props_._invalidateDisplayListFlag||(this._UIC_Props_._invalidateDisplayListFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateDisplayList(this),this._setSizeDirty())},s.validateDisplayList=function(){if(this._UIC_Props_._invalidateDisplayListFlag){var t=0,e=0,t=this._UIC_Props_._layoutWidthExplicitlySet?this._UIC_Props_._width:isNaN(this.explicitWidth)?this.measuredWidth:this._DO_Props_._explicitWidth,e=this._UIC_Props_._layoutHeightExplicitlySet?this._UIC_Props_._height:isNaN(this.explicitHeight)?this.measuredHeight:this._DO_Props_._explicitHeight;isNaN(t)&&(t=0),isNaN(e)&&(e=0),this.setActualSize(t,e),this.updateDisplayList(t,e),this._UIC_Props_._invalidateDisplayListFlag=!1}},s.validateNow=function(t){void 0===t&&(t=!1),this._UIC_Props_._validateNowFlag||null==e.UIGlobals._layoutManager?this._UIC_Props_._validateNowFlag=!0:e.UIGlobals._layoutManager.validateClient(this,t)},s.invalidateParentSizeAndDisplayList=function(){if(this.parent&&this._UIC_Props_._includeInLayout&&"invalidateSize"in this.parent){var t=this.parent;t.invalidateSize(),t.invalidateDisplayList()}},s.updateDisplayList=function(t,e){},s.canSkipMeasurement=function(){return!isNaN(this._DO_Props_._explicitWidth)&&!isNaN(this._DO_Props_._explicitHeight)},s.commitProperties=function(){this._UIC_Props_._oldWidth==this._UIC_Props_._width&&this._UIC_Props_._oldHeight==this._UIC_Props_._height||this.dispatchResizeEvent(),this._UIC_Props_._oldX==this.x&&this._UIC_Props_._oldY==this.y||this.dispatchMoveEvent()},s.measure=function(){this._UIC_Props_._measuredHeight=0,this._UIC_Props_._measuredWidth=0},s.dispatchMoveEvent=function(){this.hasEventListener(e.MoveEvent.MOVE)&&e.MoveEvent.dispatchMoveEvent(this,this._UIC_Props_._oldX,this._UIC_Props_._oldY),this._UIC_Props_._oldX=this.x,this._UIC_Props_._oldY=this.y},s._childXYChanged=function(){},s.dispatchResizeEvent=function(){this.hasEventListener(e.ResizeEvent.RESIZE)&&e.ResizeEvent.dispatchResizeEvent(this,this._UIC_Props_._oldWidth,this._UIC_Props_._oldHeight),this._UIC_Props_._oldWidth=this._UIC_Props_._width,this._UIC_Props_._oldHeight=this._UIC_Props_._height},Object.defineProperty(s,"includeInLayout",{get:function(){return this._UIC_Props_._includeInLayout},set:function(t){this._UIC_Props_._includeInLayout!=t&&(this._UIC_Props_._includeInLayout=!0,this.invalidateParentSizeAndDisplayList(),this._UIC_Props_._includeInLayout=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"left",{get:function(){return this._UIC_Props_._left},set:function(t){this._UIC_Props_._left!=t&&(this._UIC_Props_._left=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"right",{get:function(){return this._UIC_Props_._right},set:function(t){this._UIC_Props_._right!=t&&(this._UIC_Props_._right=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"top",{get:function(){return this._UIC_Props_._top},set:function(t){this._UIC_Props_._top!=t&&(this._UIC_Props_._top=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"bottom",{get:function(){return this._UIC_Props_._bottom},set:function(t){this._UIC_Props_._bottom!=t&&(this._UIC_Props_._bottom=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"horizontalCenter",{get:function(){return this._UIC_Props_._horizontalCenter},set:function(t){this._UIC_Props_._horizontalCenter!=t&&(this._UIC_Props_._horizontalCenter=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"verticalCenter",{get:function(){return this._UIC_Props_._verticalCenter},set:function(t){this._UIC_Props_._verticalCenter!=t&&(this._UIC_Props_._verticalCenter=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"percentWidth",{get:function(){return this._UIC_Props_._percentWidth},set:function(t){this._UIC_Props_._percentWidth!=t&&(this._UIC_Props_._percentWidth=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"percentHeight",{get:function(){return this._UIC_Props_._percentHeight},set:function(t){this._UIC_Props_._percentHeight!=t&&(this._UIC_Props_._percentHeight=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),s.setLayoutBoundsSize=function(t,e){isNaN(t)?(this._UIC_Props_._layoutWidthExplicitlySet=!1,t=this.preferredWidth):this._UIC_Props_._layoutWidthExplicitlySet=!0,isNaN(e)?(this._UIC_Props_._layoutHeightExplicitlySet=!1,e=this.preferredHeight):this._UIC_Props_._layoutHeightExplicitlySet=!0,this.setActualSize(t/this._DO_Props_._scaleX,e/this._DO_Props_._scaleY)},s.setLayoutBoundsPosition=function(t,e){0>this._DO_Props_._scaleX&&(t+=this.layoutBoundsWidth),0>this._DO_Props_._scaleY&&(e+=this.layoutBoundsHeight);var i=!1;this._DO_Props_._x!=t&&(this._setX(t),i=!0),this._DO_Props_._y!=e&&(this._setY(e),i=!0),i&&this.dispatchMoveEvent()},Object.defineProperty(s,"preferredWidth",{get:function(){var t=this._DO_Props_._hasWidthSet?this._DO_Props_._explicitWidth:this._UIC_Props_._measuredWidth,e=this._DO_Props_._scaleX;return 0>e&&(e=-e),t*e},enumerable:!0,configurable:!0}),Object.defineProperty(s,"preferredHeight",{get:function(){var t=this._DO_Props_._hasHeightSet?this._DO_Props_._explicitHeight:this._UIC_Props_._measuredHeight,e=this._DO_Props_._scaleY;return 0>e&&(e=-e),t*e},enumerable:!0,configurable:!0}),Object.defineProperty(s,"preferredX",{get:function(){return 0<=this._DO_Props_._scaleX?this._DO_Props_._x:this._DO_Props_._x-this.preferredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(s,"preferredY",{get:function(){return 0<=this._DO_Props_._scaleY?this._DO_Props_._y:this._DO_Props_._y-this.preferredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(s,"layoutBoundsX",{get:function(){return 0<=this._DO_Props_._scaleX?this._DO_Props_._x:this._DO_Props_._x-this.layoutBoundsWidth},enumerable:!0,configurable:!0}),Object.defineProperty(s,"layoutBoundsY",{get:function(){return 0<=this._DO_Props_._scaleY?this._DO_Props_._y:this._DO_Props_._y-this.layoutBoundsHeight},enumerable:!0,configurable:!0}),Object.defineProperty(s,"layoutBoundsWidth",{get:function(){var t=0,t=this._UIC_Props_._layoutWidthExplicitlySet?this._UIC_Props_._width:this._DO_Props_._hasWidthSet?this._DO_Props_._explicitWidth:this._UIC_Props_._measuredWidth,e=this._DO_Props_._scaleX;return 0>e&&(e=-e),t*e},enumerable:!0,configurable:!0}),Object.defineProperty(s,"layoutBoundsHeight",{get:function(){var t=0,t=this._UIC_Props_._layoutHeightExplicitlySet?this._UIC_Props_._height:this._DO_Props_._hasHeightSet?this._DO_Props_._explicitHeight:this._UIC_Props_._measuredHeight,e=this.scaleY;return 0>e&&(e=-e),t*e},enumerable:!0,configurable:!0}),n.prototypeCanSet=void 0,n.emptyStyleChain={},n}(t.DisplayObjectContainer);e.UIComponent=i,i.prototype.__class__="egret.gui.UIComponent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){function t(){}return t.ABOVE="above",t.BELOW="below",t.CENTER="center",t.TOP_LEFT="topLeft",t.LEFT="left",t.RIGHT="right",t.SCREEN_CENTER="screenCenter",t}();t.PopUpPosition=e,e.prototype.__class__="egret.gui.PopUpPosition"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){function t(){}return t.AUTO="auto",t.OFF="off",t.ON="on",t}();t.ScrollPolicy=e,e.prototype.__class__="egret.gui.ScrollPolicy"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.generator=null,this.generator=e}return __extends(e,t),e.prototype.newInstance=function(){return new this.generator},e}(t.HashObject);e.ClassFactory=i,i.prototype.__class__="egret.gui.ClassFactory"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){function t(){}return t.DOWN=40,t.END=35,t.HOME=36,t.LEFT=37,t.PAGE_DOWN=34,t.PAGE_LEFT=9111,t.PAGE_RIGHT=9112,t.PAGE_UP=33,t.RIGHT=39,t.UP=38,t}();t.NavigationUnit=e,e.prototype.__class__="egret.gui.NavigationUnit"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(t){function e(){t.call(this)}__extends(e,t);var i=e.prototype;return i.initialize=function(t){},i.apply=function(t){},i.remove=function(t){},i.initializeFromObject=function(t){for(var e in t)this[e]=t[e];return this},e}(t.HashObject);e.OverrideBase=i,i.prototype.__class__="egret.gui.OverrideBase"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(e){function i(t,n,s,r){e.call(this),this.propertyName="",this.position=i.LAST,this.target=this.relativeTo=null,this.target=t,this.propertyName=n,this.position=s,this.relativeTo=r}__extends(i,e);var n=i.prototype;return n.initialize=function(e){if((e=e[this.target])&&!(e instanceof t.SkinnableComponent)&&"_initialize"in e)try{e._initialize()}catch(t){}},n.apply=function(t){var e,n;try{n=t[this.relativeTo]}catch(t){}var s=t[this.target];if(t=this.propertyName?t[this.propertyName]:t,s&&t){switch(this.position){case i.FIRST:e=0;break;case i.LAST:e=-1;break;case i.BEFORE:e=t.getElementIndex(n);break;case i.AFTER:e=t.getElementIndex(n)+1}-1==e&&(e=t.numElements),t.addElementAt(s,e)}},n.remove=function(t){var e=null==this.propertyName||""==this.propertyName?t:t[this.propertyName];(t=t[this.target])&&e&&-1!=e.getElementIndex(t)&&e.removeElement(t)},i.FIRST="first",i.LAST="last",i.BEFORE="before",i.AFTER="after",i}(t.OverrideBase);t.AddItems=e,e.prototype.__class__="egret.gui.AddItems"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(t){function e(e,i,n){t.call(this),this.oldValue=this.value=this.target=this.name=null,this.target=e,this.name=i,this.value=n}__extends(e,t);var i=e.prototype;return i.apply=function(t){null!=(t=null==this.target||""==this.target?t:t[this.target])&&(this.oldValue=t[this.name],this.setPropertyValue(t,this.name,this.value,this.oldValue))},i.remove=function(t){null!=(t=null==this.target||""==this.target?t:t[this.target])&&(this.setPropertyValue(t,this.name,this.oldValue,this.oldValue),this.oldValue=null)},i.setPropertyValue=function(t,e,i,n){t[e]=void 0===i||null===i?i:"number"==typeof n?parseFloat(i):"boolean"==typeof n?this.toBoolean(i):i},i.toBoolean=function(t){return"string"==typeof t?"true"==t.toLowerCase():0!=t},e}(t.OverrideBase);t.SetProperty=e,e.prototype.__class__="egret.gui.SetProperty"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(t){function e(e,i,n){t.call(this),this.target=e,this.name=i,this.value=n}__extends(e,t);var i=e.prototype;return i.apply=function(t){null!=(t=null==this.target||""==this.target?t:t[this.target])&&(this.oldValue=t.getStyle(this.name),this.setStyleValue(t,this.name,this.value,this.oldValue))},i.remove=function(t){null!=(t=null==this.target||""==this.target?t:t[this.target])&&(this.setStyleValue(t,this.name,this.oldValue,this.oldValue),this.oldValue=null)},i.setStyleValue=function(t,e,i,n){void 0===i?t.clearStyle(e):null===i?t.setStyle(e,i):"number"==typeof n?t.setStyle(e,parseFloat(i)):"boolean"==typeof n?t.setStyle(e,this.toBoolean(i)):t.setStyle(e,i)},i.toBoolean=function(t){return"string"==typeof t?"true"==t.toLowerCase():0!=t},e}(t.OverrideBase);t.SetStyle=e,e.prototype.__class__="egret.gui.SetStyle"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(t){function e(e,i){t.call(this),this.initialized=!1,this.name=null,this.name=e,this.overrides=i}return __extends(e,t),e.prototype.initialize=function(t){if(!this.initialized){this.initialized=!0;for(var e=0;e<this.overrides.length;e++)this.overrides[e].initialize(t)}},e}(t.HashObject);e.State=i,i.prototype.__class__="egret.gui.State"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i={};(t.gui||(t.gui={})).getScale9Grid=function(e){if(i[e])return i[e];if(!e)return null;var n=e.split(","),n=new t.Rectangle(parseInt(n[0]),parseInt(n[1]),parseInt(n[2]),parseInt(n[3]));return i[e]=n}}()}(egret||(egret={})),function(t){!function(t){t.setProperties=function(t,e,i){for(var n=e.length,s=0;s<n;s++)t[e[s]]=i[s];return t}}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){function t(t){void 0===t&&(t=.5),this._easeInFraction=.5,this.easeInFraction=t}var e=t.prototype;return Object.defineProperty(e,"easeInFraction",{get:function(){return this._easeInFraction},set:function(t){this._easeInFraction=t},enumerable:!0,configurable:!0}),e.ease=function(t){var e=1-this._easeInFraction;return t<=this._easeInFraction&&0<this._easeInFraction?this._easeInFraction*this._easeIn(t/this._easeInFraction):this._easeInFraction+e*this._easeOut((t-this._easeInFraction)/e)},e._easeIn=function(t){return t},e._easeOut=function(t){return t},t}();t.EaseInOutBase=e,e.prototype.__class__="egret.gui.EaseInOutBase"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(t){function e(e){void 0===e&&(e=.5),t.call(this,e)}__extends(e,t);var i=e.prototype;return i._easeIn=function(t){return 1-Math.cos(t*Math.PI/2)},i._easeOut=function(t){return Math.sin(t*Math.PI/2)},e}(t.EaseInOutBase);t.Sine=e,e.prototype.__class__="egret.gui.Sine"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){function t(){}var e=t.prototype;return t.getInstance=function(){return t.theInstance||(t.theInstance=new t),t.theInstance},e.interpolate=function(t,e,i){return 0==t?e:1==t?i:e+t*(i-e)},e.increment=function(t,e){return t+e},e.decrement=function(t,e){return t-e},t}();t.NumberInterpolator=e,e.prototype.__class__="egret.gui.NumberInterpolator"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){function t(){}return t.LOOP="loop",t.REVERSE="reverse",t}();t.RepeatBehavior=e,e.prototype.__class__="egret.gui.RepeatBehavior"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){function t(t,e,i){void 0===t&&(t=NaN),void 0===e&&(e=null),void 0===i&&(i=null),this.value=e,this.time=t,this.valueBy=i}return t.prototype.clone=function(){var e=new t(this.time,this.value,this.valueBy);return e.easer=this.easer,e._timeFraction=this._timeFraction,e},t}();t.Keyframe=e,e.prototype.__class__="egret.gui.Keyframe"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){function e(e){void 0===e&&(e=null),this.interpolator=t.NumberInterpolator.getInstance(),this.property=e}var i=e.prototype;return i.clone=function(){var t=new e(this.property);if(t.interpolator=this.interpolator,null!==this.keyframes){t.keyframes=[];for(var i=0;i<this.keyframes.length;++i)t.keyframes[i]=this.keyframes[i].clone()}return t},i._scaleKeyframes=function(t){for(var e=this.keyframes.length,i=0;i<e;++i){var n=this.keyframes[i];n._timeFraction=n.time/t}},i.getValue=function(t){if(!this.keyframes)return null;var e=this.keyframes.length;if(2==e&&1==this.keyframes[1]._timeFraction){n=null!=this.keyframes[1].easer?this.keyframes[1].easer.ease(t):t;return this.interpolator.interpolate(n,this.keyframes[0].value,this.keyframes[1].value)}isNaN(this.keyframes[0]._timeFraction)&&this._scaleKeyframes(this.keyframes[this.keyframes.length-1].time);for(var i=0,n=this.keyframes[0].value,s=1;s<e;++s){var r=this.keyframes[s];if(t>=i&&t<r._timeFraction)return t=(t-i)/(r._timeFraction-i),t=null!=r.easer?r.easer.ease(t):t,this.interpolator.interpolate(t,n,r.value);i=r._timeFraction,n=r.value}return this.keyframes[e-1].value},e}();t.MotionPath=e,e.prototype.__class__="egret.gui.MotionPath"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(e){function i(i,n,s,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=null),void 0===r&&(r=null),e.call(this),this.property=i,this.keyframes=[new t.Keyframe(0,n),new t.Keyframe(NaN,s,r)]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"valueFrom",{get:function(){return this.keyframes[0].value},set:function(t){this.keyframes[0].value=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"valueTo",{get:function(){return this.keyframes[this.keyframes.length-1].value},set:function(t){this.keyframes[this.keyframes.length-1].value=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"valueBy",{get:function(){return this.keyframes[this.keyframes.length-1].valueBy},set:function(t){this.keyframes[this.keyframes.length-1].valueBy=t},enumerable:!0,configurable:!0}),i}(t.MotionPath);t.SimpleMotionPath=e,e.prototype.__class__="egret.gui.SimpleMotionPath"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(){function i(t,n){this._easer=i.defaultEaser,this.repeatFunction=this.stopFunction=this.updateFunction=this.endFunction=this.startFunction=this.thisObject=null,this.id=-1,this.started=this._invertValues=this._doReverse=this._isPlaying=this._doSeek=!1,this.delayedStartTime=this.delayTime=-1,this._playheadTime=0,this.duration=500,this._repeatBehavior=e.RepeatBehavior.LOOP,this._repeatCount=1,this._startDelay=this._repeatDelay=0,this.interpolator=null,this._cycleTime=0,this.updateFunction=t,this.thisObject=n}var n=i.prototype;return Object.defineProperty(n,"easer",{get:function(){return this._easer},set:function(t){t||(t=i.defaultEaser),this._easer=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"playheadTime",{get:function(){return this._playheadTime+this.startDelay},set:function(t){this._invertValues=!1,this.seek(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(n,"repeatBehavior",{get:function(){return this._repeatBehavior},set:function(t){this._repeatBehavior=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"repeatCount",{get:function(){return this._repeatCount},set:function(t){this._repeatCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"repeatDelay",{get:function(){return this._repeatDelay},set:function(t){this._repeatDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"startDelay",{get:function(){return this._startDelay},set:function(t){this._startDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"cycleTime",{get:function(){return this._cycleTime},enumerable:!0,configurable:!0}),Object.defineProperty(n,"cycleFraction",{get:function(){return this._cycleFraction},enumerable:!0,configurable:!0}),Object.defineProperty(n,"playReversed",{get:function(){return this._playReversed},set:function(t){this._isPlaying&&this._invertValues!=t&&(this._invertValues=t,this.seek(this.duration-this._cycleTime,!0)),this._playReversed=this._doReverse=t},enumerable:!0,configurable:!0}),i.addAnimation=function(e){if(e.motionPaths&&0<e.motionPaths.length&&e.motionPaths[0]&&("width"==e.motionPaths[0].property||"height"==e.motionPaths[0].property)){i.activeAnimations.splice(0,0,e),e.id=0;for(var n=1;n<i.activeAnimations.length;++n)i.activeAnimations[n].id=n}else e.id=i.activeAnimations.length,i.activeAnimations.push(e);i.timer||(i.pulse(),(i.timer=new t.Timer(i.TIMER_RESOLUTION)).addEventListener(t.TimerEvent.TIMER,i.timerHandler,i),i.timer.start()),i.intervalTime=i.currentTime,e.cycleStartTime=i.intervalTime},i.removeAnimationAt=function(t){if(void 0===t&&(t=0),0<=t&&t<i.activeAnimations.length){i.activeAnimations.splice(t,1);for(var e=i.activeAnimations.length;t<e;t++)i.activeAnimations[t].id--}i.stopTimerIfDone()},i.removeAnimation=function(t){i.removeAnimationAt(t.id)},i.timerHandler=function(t){for(i.intervalTime=i.pulse(),t=0;t<i.activeAnimations.length;){var e=!0,n=i.activeAnimations[t];n&&(e=!n.doInterval()),e&&++t}for(;0<i.delayedStartAnims.length&&(t=i.delayedStartAnims[0]).delayedStartTime<i.currentTime;)t.playReversed?t.end():t.start()},n.doInterval=function(){var n=!1,s=!1;if(this._isPlaying||this._doSeek){var r=i.intervalTime-this.cycleStartTime;if(this._playheadTime=i.intervalTime-this.startTime,r>=this.duration){var a=2;if(0<this.duration+this.repeatDelay&&(a+=Math.floor((this._playheadTime-this.duration)/(this.duration+this.repeatDelay))),0==this.repeatCount||a<=this.repeatCount){if(0!=this.repeatDelay)return this._doSeek?(this._cycleTime=r%(this.duration+this.repeatDelay),this._cycleTime>this.duration&&(this._cycleTime=this.duration),this.calculateValue(this._cycleTime),this.sendUpdateEvent()):(this._cycleTime=this.duration,this.calculateValue(this._cycleTime),this.sendUpdateEvent(),i.removeAnimation(this),(n=new t.Timer(this.repeatDelay,1)).addEventListener(t.TimerEvent.TIMER,this.repeat,this),n.start()),!1;this._cycleTime=r%this.duration,this.cycleStartTime=i.intervalTime-this._cycleTime,r=this._cycleTime,this.repeatBehavior==e.RepeatBehavior.REVERSE&&(this._invertValues=1<this.repeatCount?!(a%2):!this._invertValues),s=!0}else r>this.duration&&(this._playheadTime=r=this.duration)}this._cycleTime=r,this.calculateValue(r),r>=this.duration&&!this._doSeek?this.playReversed&&0!=this.startDelay?(this.stopAnimation(),this.addToDelayedAnimations(this.startDelay)):(this.end(),n=!0):(s&&this.sendAnimationEvent("repeatFunction"),this.sendUpdateEvent())}return n},n.sendUpdateEvent=function(){this.sendAnimationEvent("updateFunction")},n.sendAnimationEvent=function(t){null!=this[t]&&this[t].call(this.thisObject,this)},n.calculateValue=function(t){var e=0;if(this.currentValue={},0==this.duration)for(e=0;e<this.motionPaths.length;++e)this.currentValue[this.motionPaths[e].property]=this._invertValues?this.motionPaths[e].keyframes[0].value:this.motionPaths[e].keyframes[this.motionPaths[e].keyframes.length-1].value;else if(this._invertValues&&(t=this.duration-t),this._cycleFraction=this.easer.ease(t/this.duration),this.motionPaths)for(e=0;e<this.motionPaths.length;++e)this.currentValue[this.motionPaths[e].property]=this.motionPaths[e].getValue(this._cycleFraction)},n.removeFromDelayedAnimations=function(){if(0<=this.delayedStartTime){for(var t=0;t<i.delayedStartAnims.length;++t)if(i.delayedStartAnims[t]==this){i.delayedStartAnims.splice(t,1);break}this.delayedStartTime=-1}},n.end=function(){0<this.startDelay&&0<i.delayedStartAnims.length&&this.removeFromDelayedAnimations(),this.started||this.sendAnimationEvent("startFunction"),1<this.repeatCount&&"reverse"==this.repeatBehavior&&0==this.repeatCount%2&&(this._invertValues=!0),this._doReverse&&0<this.startDelay||(this.calculateValue(this.duration),this.sendUpdateEvent()),this.sendAnimationEvent("endFunction"),this.isPlaying?this.stopAnimation():i.stopTimerIfDone()},i.stopTimerIfDone=function(){i.timer&&0==i.activeAnimations.length&&0==i.delayedStartAnims.length&&(i.intervalTime=NaN,i.timer.reset(),i.timer=null)},n.addToDelayedAnimations=function(e){i.timer||(i.pulse(),(i.timer=new t.Timer(i.TIMER_RESOLUTION)).addEventListener(t.TimerEvent.TIMER,i.timerHandler,i),i.timer.start()),e=i.currentTime+e;for(var n=-1,s=0;s<i.delayedStartAnims.length;++s)if(e<i.delayedStartAnims[s].delayedStartTime){n=s;break}0<=n?i.delayedStartAnims.splice(n,0,this):i.delayedStartAnims.push(this),this.delayedStartTime=e},n.play=function(){this.stopAnimation();for(var t=0,i=0,t=0;t<this.motionPaths.length;++t){var n=this.motionPaths[t].keyframes;for(isNaN(n[0].time)?n[0].time=0:0<n[0].time&&(i=n[0].time,n.splice(0,0,new e.Keyframe(0,null)),n.splice(1,0,new e.Keyframe(i-1,null)),this.playReversed&&(n[0].value=n[2].value,n[1].value=n[2].value)),i=1;i<n.length;++i)isNaN(n[i].time)&&(n[i].time=this.duration)}for(t=0;t<this.motionPaths.length;++t)this.motionPaths[t]._scaleKeyframes(this.duration);this._doReverse&&(this._invertValues=!0),0<this.startDelay&&!this.playReversed?this.addToDelayedAnimations(this.startDelay):this.start()},n.seek=function(t,e){if(void 0===e&&(e=!1),this.startTime=this.cycleStartTime=i.intervalTime-t,this._doSeek=!0,!this._isPlaying||this.playReversed){var n=this._isPlaying;if(i.intervalTime=i.currentTime,e&&0<this.startDelay&&0<=this.delayedStartTime)return this.removeFromDelayedAnimations(),n=t-this.startDelay,this.playReversed&&(n-=this.duration),void(0>n?this.addToDelayedAnimations(this.startDelay-t):(t-=this.startDelay,this.isPlaying||this.start(),this.startTime=this.cycleStartTime=i.intervalTime-t,this.doInterval(),this._doSeek=!1));n||(this.sendAnimationEvent("startFunction"),this.setupInterpolation()),this.startTime=this.cycleStartTime=i.intervalTime-t}this.doInterval(),this._doSeek=!1},n.setupInterpolation=function(){if(this.interpolator&&this.motionPaths)for(var t=0;t<this.motionPaths.length;++t)this.motionPaths[t].interpolator=this.interpolator},n.reverse=function(){this._isPlaying?(this._doReverse=!1,this.seek(this.duration-this._cycleTime),this._invertValues=!this._invertValues):this._doReverse=!this._doReverse},n.pause=function(){0<=this.delayedStartTime&&(this.delayTime=this.delayedStartTime-i.currentTime,this.removeFromDelayedAnimations()),this._isPlaying=!1},n.stopAnimation=function(){this.removeFromDelayedAnimations(),0<=this.id&&(i.removeAnimationAt(this.id),this.id=-1,this._isPlaying=this._invertValues=!1)},n.stop=function(){this.stopAnimation(),this.sendAnimationEvent("stopFunction")},n.resume=function(){this._isPlaying=!0,0<=this.delayTime?this.addToDelayedAnimations(this.delayTime):(this.cycleStartTime=i.intervalTime-this._cycleTime,this.startTime=i.intervalTime-this._playheadTime,this._doReverse&&(this.reverse(),this._doReverse=!1))},n.repeat=function(t){this.repeatBehavior==e.RepeatBehavior.REVERSE&&(this._invertValues=!this._invertValues),this.calculateValue(0),this.sendAnimationEvent("repeatFunction"),this.sendUpdateEvent(),i.addAnimation(this)},n.start=function(t){if(t=0,!this.playReversed&&0<=this.delayedStartTime){var e=i.currentTime-this.delayedStartTime;0<e&&(t=Math.min(e,this.duration)),this.removeFromDelayedAnimations()}this.sendAnimationEvent("startFunction"),this.setupInterpolation(),this.calculateValue(0),this.sendUpdateEvent(),i.addAnimation(this),this.startTime=this.cycleStartTime,this._isPlaying=!0,0<t&&this.seek(t),this.started=!0},i.pulse=function(){return 0>i.startTime?(i.startTime=t.getTimer(),i._currentTime=0):i._currentTime=t.getTimer()-i.startTime},Object.defineProperty(i,"currentTime",{get:function(){return 0>i._currentTime?i.pulse():i._currentTime},enumerable:!0,configurable:!0}),i.TIMER_RESOLUTION=1e3/60,i.defaultEaser=new e.Sine(.5),i.intervalTime=NaN,i.activeAnimations=[],i.timer=null,i.delayedStartAnims=[],i.startTime=-1,i._currentTime=-1,i}();e.Animation=i,i.prototype.__class__="egret.gui.Animation"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(t){i.call(this),this.delayElapsedTime=this.delayStartTime=0,this.durationExplicitlySet=!1,this._playCount=0,this._stopRepeat=!1,this._duration=500,this._startDelay=this._repeatDelay=this._repeatCount=0,this.target=t}__extends(n,i);var s=n.prototype;return Object.defineProperty(s,"_actualDuration",{get:function(){var t=NaN;return 0<this.repeatCount&&(t=this.duration*this.repeatCount+this.repeatDelay*(this.repeatCount-1)+this.startDelay),t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"duration",{get:function(){return!this.durationExplicitlySet&&this.parentCompositeEffectInstance?this.parentCompositeEffectInstance.duration:this._duration},set:function(t){this.durationExplicitlySet=!0,this._duration=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"effect",{get:function(){return this._effect},set:function(t){this._effect=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"playheadTime",{get:function(){return Math.max(this._playCount-1,0)*(this.duration+this.repeatDelay)+(this.playReversed?0:this.startDelay)},set:function(t){this._setPlayheadTime(t)},enumerable:!0,configurable:!0}),s._setPlayheadTime=function(e){this._delayTimer&&this._delayTimer.running&&(this._delayTimer.reset(),e<this.startDelay?(this._delayTimer=new t.Timer(this.startDelay-e,1),this.delayStartTime=t.getTimer(),this._delayTimer.addEventListener(t.TimerEvent.TIMER,this.delayTimerHandler,this),this._delayTimer.start()):(this._playCount=0,this.play()))},Object.defineProperty(s,"playReversed",{get:function(){return this._playReversed},set:function(t){this._setPlayReversed(t)},enumerable:!0,configurable:!0}),s._setPlayReversed=function(t){this._playReversed=t},Object.defineProperty(s,"repeatCount",{get:function(){return this._repeatCount},set:function(t){this._repeatCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"repeatDelay",{get:function(){return this._repeatDelay},set:function(t){this._repeatDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"startDelay",{get:function(){return this._startDelay},set:function(t){this._startDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!0,configurable:!0}),s.startEffect=function(){0<this.startDelay&&!this.playReversed?(this._delayTimer=new t.Timer(this.startDelay,1),this.delayStartTime=t.getTimer(),this._delayTimer.addEventListener(t.TimerEvent.TIMER,this.delayTimerHandler,this),this._delayTimer.start()):this.play()},s.play=function(){this._playCount++,this.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_START,!1,!1,this)),this.target&&"dispatchEvent"in this.target&&this.target.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_START,!1,!1,this))},s.pause=function(){this._delayTimer&&this._delayTimer.running&&!isNaN(this.delayStartTime)&&(this._delayTimer.stop(),this.delayElapsedTime=t.getTimer()-this.delayStartTime)},s.stop=function(){this._delayTimer&&this._delayTimer.reset(),this._stopRepeat=!0,this.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_STOP,!1,!1,this)),this.target&&"dispatchEvent"in this.target&&this.target.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_STOP,!1,!1,this)),this.finishEffect()},s.resume=function(){!this._delayTimer||this._delayTimer.running||isNaN(this.delayElapsedTime)||(this._delayTimer.delay=this.playReversed?this.delayElapsedTime:this._delayTimer.delay-this.delayElapsedTime,this.delayStartTime=t.getTimer(),this._delayTimer.start())},s.reverse=function(){0<this.repeatCount&&(this._playCount=this.repeatCount-this._playCount+1)},s.end=function(){this._delayTimer&&this._delayTimer.reset(),this._stopRepeat=!0,this.finishEffect()},s.finishEffect=function(){this._playCount=0,this.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_END,!1,!1,this)),this.target&&"dispatchEvent"in this.target&&this.target.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_END,!1,!1,this))},s.finishRepeat=function(){!this._stopRepeat&&0!=this._playCount&&(this._playCount<this.repeatCount||0==this.repeatCount)?0<this.repeatDelay?(this._delayTimer=new t.Timer(this.repeatDelay,1),this.delayStartTime=t.getTimer(),this._delayTimer.addEventListener(t.TimerEvent.TIMER,this.delayTimerHandler,this),this._delayTimer.start()):this.play():this.finishEffect()},s._playWithNoDuration=function(){this.duration=0,this.repeatCount=1,this.startDelay=this.repeatDelay=0,this.startEffect()},s.delayTimerHandler=function(t){this._delayTimer.reset(),this.delayElapsedTime=this.delayStartTime=NaN,this.play()},n}(t.EventDispatcher);e.EffectInstance=i,i.prototype.__class__="egret.gui.EffectInstance"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(e){function i(t){e.call(this,t),this._activeEffectQueue=[],this._playheadTime=0,this._childSets=[]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"_actualDuration",{get:function(){var t=NaN;return 0<this.repeatCount&&(t=this._durationWithoutRepeat*this.repeatCount+this.repeatDelay*(this.repeatCount-1)+this.startDelay),t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"playheadTime",{get:function(){return this._playheadTime},enumerable:!0,configurable:!0}),n._setPlayheadTime=function(t){this._timerAnimation?this._timerAnimation.playheadTime=t:this._playheadTime=t,e.prototype._setPlayheadTime.call(this,t)},Object.defineProperty(n,"_durationWithoutRepeat",{get:function(){return 0},enumerable:!0,configurable:!0}),n.play=function(){this._timerAnimation=new t.Animation(this.animationUpdate,this),this._timerAnimation.duration=this._durationWithoutRepeat,this._timerAnimation.motionPaths=[new t.SimpleMotionPath("timer",0,0)],this._timerAnimation.endFunction=this.animationEnd,this._timerAnimation.play(),e.prototype.play.call(this)},n.pause=function(){e.prototype.pause.call(this),this._timerAnimation&&this._timerAnimation.pause()},n.stop=function(){e.prototype.stop.call(this),this._timerAnimation&&this._timerAnimation.stop()},n.end=function(){e.prototype.end.call(this),this._timerAnimation&&this._timerAnimation.end()},n.resume=function(){e.prototype.resume.call(this),this._timerAnimation&&this._timerAnimation.resume()},n.reverse=function(){e.prototype.reverse.call(this),this._setPlayReversed(!this.playReversed),this._timerAnimation&&this._timerAnimation.reverse()},n.finishEffect=function(){this._activeEffectQueue=null,e.prototype.finishEffect.call(this)},n.addChildSet=function(e){if(e){var i=e.length;if(0<i){this._childSets?this._childSets.push(e):this._childSets=[e];for(var n=0;n<i;n++)e[n].addEventListener(t.EffectEvent.EFFECT_END,this._effectEndHandler,this),e[n].parentCompositeEffectInstance=this}}},n._playWithNoDuration=function(){e.prototype._playWithNoDuration.call(this),this.end()},n.animationUpdate=function(t){this._playheadTime=this._timerAnimation?this._timerAnimation.playheadTime:this._playheadTime},n.animationEnd=function(t){this._playheadTime=this._timerAnimation?this._timerAnimation.playheadTime:this._playheadTime},n._onEffectEnd=function(t){},n._effectEndHandler=function(t){this._onEffectEnd(t.effectInstance)},i}(t.EffectInstance);t.CompositeEffectInstance=e,e.prototype.__class__="egret.gui.CompositeEffectInstance"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(t){function i(e){void 0===e&&(e=null),t.call(this),this._instances=[],this._isPaused=!1,this._duration=500,this.durationExplicitlySet=!1,this._perElementOffset=0,this.repeatCount=1,this.startDelay=this.repeatDelay=0,this._targets=[],this._playheadTime=0,this.target=e}__extends(i,t);var n=i.prototype;return Object.defineProperty(n,"duration",{get:function(){return!this.durationExplicitlySet&&this._parentCompositeEffect?this._parentCompositeEffect.duration:this._duration},set:function(t){this.durationExplicitlySet=!0,this._duration=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isPlaying",{get:function(){return this._instances&&0<this._instances.length},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isPaused",{get:function(){return!!this.isPlaying&&this._isPaused},enumerable:!0,configurable:!0}),Object.defineProperty(n,"perElementOffset",{get:function(){return this._perElementOffset},set:function(t){this._perElementOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"target",{get:function(){return 0<this._targets.length?this._targets[0]:null},set:function(t){this._targets.splice(0),t&&(this._targets[0]=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"targets",{get:function(){return this._targets},set:function(t){for(var e=t.length-1;0<=e;e--)null==t[e]&&t.splice(e,1);this._targets=t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"playheadTime",{get:function(){for(var t=0;t<this._instances.length;t++)if(this._instances[t])return this._instances[t].playheadTime;return this._playheadTime},set:function(t){var e=!1;0==this._instances.length&&(this.play(),e=!0);for(var i=0;i<this._instances.length;i++)this._instances[i]&&(this._instances[i].playheadTime=t);e&&this.pause(),this._playheadTime=t},enumerable:!0,configurable:!0}),n.createInstances=function(t){void 0===t&&(t=null),t||(t=this.targets);for(var e=[],i=0,n=t.length,s=0;s<n;s++){var r=this.createInstance(t[s]);r&&(r.startDelay+=i,i+=this.perElementOffset,e.push(r))}return e},n.createInstance=function(t){return void 0===t&&(t=null),t||(t=this.target),t=new this.instanceClass(t),this._initInstance(t),t.addEventListener(e.EffectEvent.EFFECT_START,this._effectStartHandler,this),t.addEventListener(e.EffectEvent.EFFECT_STOP,this._effectStopHandler,this),t.addEventListener(e.EffectEvent.EFFECT_END,this._effectEndHandler,this),this._instances.push(t),t},n._initInstance=function(t){t.duration=this.duration,t.durationExplicitlySet=this.durationExplicitlySet,t.effect=this,t.repeatCount=this.repeatCount,t.repeatDelay=this.repeatDelay,t.startDelay=this.startDelay},n.deleteInstance=function(t){t.removeEventListener(e.EffectEvent.EFFECT_START,this._effectStartHandler,this),t.removeEventListener(e.EffectEvent.EFFECT_STOP,this._effectStopHandler,this),t.removeEventListener(e.EffectEvent.EFFECT_END,this._effectEndHandler,this);for(var i=this._instances.length,n=0;n<i;n++)this._instances[n]===t&&this._instances.splice(n,1)},n.play=function(t,e){void 0===t&&(t=null),void 0===e&&(e=!1),this._isPaused=this.effectStopped=!1,this.playReversed=e;for(var i=this.createInstances(t),n=i.length,s=0;s<n;s++){var r=i[s];r.playReversed=e,r.startEffect()}return i},n.pause=function(){if(this.isPlaying&&!this._isPaused){this._isPaused=!0;for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].pause()}},n.stop=function(){for(var t=this._instances.length-1;0<=t;t--){var e=this._instances[t];e&&e.stop()}},n.resume=function(){if(this.isPlaying&&this._isPaused){this._isPaused=!1;for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].resume()}},n.reverse=function(){if(this.isPlaying)for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].reverse()},n.end=function(t){if(void 0===t&&(t=null),t)t.end();else for(t=this._instances.length-1;0<=t;t--){var e=this._instances[t];e&&e.end()}},n._effectStartHandler=function(t){this.dispatchEvent(t)},n._effectStopHandler=function(t){this.dispatchEvent(t),this.effectStopped=!0},n._effectEndHandler=function(t){this.deleteInstance(t.effectInstance),this.dispatchEvent(t)},i}(t.EventDispatcher);e.Effect=i,i.prototype.__class__="egret.gui.Effect"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(e){function i(i){void 0===i&&(i=null),e.call(this,i),this._children=[],this.instanceClass=t.CompositeEffectInstance}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"children",{get:function(){return this._children},set:function(t){var e=0;if(this._children)for(e=0;e<this._children.length;++e)this._children[e]&&(this._children[e]._parentCompositeEffect=null);if(this._children=t)for(e=0;e<this._children.length;++e)this._children[e]&&(this._children[e]._parentCompositeEffect=this)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"compositeDuration",{get:function(){return this.duration},enumerable:!0,configurable:!0}),n.createInstance=function(t){return void 0===t&&(t=null),this.childTargets||(this.childTargets=[t]),t=e.prototype.createInstance.call(this,t),this.childTargets=null,t},n.createInstances=function(t){return void 0===t&&(t=null),t||(t=this.targets),this.childTargets=t,t=this.createInstance(),this.childTargets=null,t?[t]:[]},n._initInstance=function(t){e.prototype._initInstance.call(this,t);var i=this.childTargets;if(i instanceof Array||(i=[i]),this.children)for(var n=this.children.length,s=0;s<n;s++){var r=this.children[s];0==r.targets.length?t.addChildSet(this.children[s].createInstances(i)):t.addChildSet(this.children[s].createInstances(r.targets))}},n.addChild=function(t){this.children.push(t),t._parentCompositeEffect=this},i}(t.Effect);t.CompositeEffect=e,e.prototype.__class__="egret.gui.CompositeEffect"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){function t(){}return t.END="end",t.STOP="stop",t}();t.InterruptionBehavior=e,e.prototype.__class__="egret.gui.InterruptionBehavior"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){this.toState=this.fromState="*",this.autoReverse=!1,this.interruptionBehavior=t.InterruptionBehavior.END};t.Transition=e,e.prototype.__class__="egret.gui.Transition"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(t,e){void 0===e&&(e=!0),i.call(this),this.scale9Grid=null,this.fillMode="scale",this.sourceChanged=!1,this._content=this._source=null,this.contentReused=this.createChildrenCalled=this._contentIsTexture=!1,this.autoScale=!0,this.touchChildren=!1,t&&(this.source=t),this.autoScale=e}__extends(n,i);var s=n.prototype;return Object.defineProperty(s,"source",{get:function(){return this._source},set:function(t){this._source!=t&&(this._source=t,this.createChildrenCalled?this.parseSource():this.sourceChanged=!0,this._setSizeDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),s.createChildren=function(){i.prototype.createChildren.call(this),this.sourceChanged&&this.parseSource(),this.createChildrenCalled=!0},s.parseSource=function(){this.sourceChanged=!1;var t=n.assetAdapter;if(t||(t=this.getAdapter()),this._source){var e=this.contentReused?null:this._content;this.contentReused=!0,t.getAsset(this._source,this.contentChanged,this,e)}else this.contentChanged(null,null)},s.getAdapter=function(){var i;try{i=t.Injector.getInstance("egret.gui.IAssetAdapter")}catch(t){i=new e.DefaultAssetAdapter}return n.assetAdapter=i},s.contentChanged=function(i,n){if(n===this._source){var s=this._content;this._content=i,this._content instanceof t.Texture?(this._texture_to_render=i,this._contentIsTexture=!0):(this._texture_to_render=null,this._contentIsTexture=!1),s!==i&&(s instanceof t.DisplayObject&&s.parent==this&&(s._sizeChangeCallBack=null,s._sizeChangeCallTarget=null,this._removeFromDisplayList(s)),i instanceof t.DisplayObject&&(i._sizeChangeCallBack=this.invalidateSize,i._sizeChangeCallTarget=this,this._addToDisplayListAt(i,0))),this.invalidateSize(),this.invalidateDisplayList(),this.contentReused=!1,this.hasEventListener(e.UIEvent.CONTENT_CHANGED)&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.CONTENT_CHANGED)}},s.measure=function(){i.prototype.measure.call(this);var e=this._content;if(e instanceof t.DisplayObject)if("preferredWidth"in e)this.measuredWidth=e.preferredWidth,this.measuredHeight=e.preferredHeight;else{var n=e.explicitWidth,s=e.explicitHeight;e.width=NaN,e.height=NaN,this.measuredWidth=e.measuredWidth*e.scaleX,this.measuredHeight=e.measuredHeight*e.scaleY,e.width=n,e.height=s}else this._contentIsTexture&&(this.measuredWidth=e._textureWidth,this.measuredHeight=e._textureHeight)},s.updateDisplayList=function(e,n){i.prototype.updateDisplayList.call(this,e,n);var s=this._content;this.autoScale&&s instanceof t.DisplayObject&&("setLayoutBoundsSize"in s?s.setLayoutBoundsSize(e,n):(s.width=e/s.scaleX,s.height=n/s.scaleY)),this._setSizeDirty()},s._render=function(e){if(this._contentIsTexture){var n,s,r=this._content;this.autoScale?(n=this._UIC_Props_._width,s=this._UIC_Props_._height):(n=r._textureWidth,s=r._textureHeight),this._texture_to_render=r,t.Bitmap._drawBitmap(e,n,s,this)}i.prototype._render.call(this,e)},s._measureBounds=function(){if(this._contentIsTexture){var e=this._content,n=this.width,s=this.height;return t.Rectangle.identity.initialize(Math.floor(e._offsetX*n/e._textureWidth),Math.floor(e._offsetY*s/e._textureHeight),n,s)}return i.prototype._measureBounds.call(this)},s.addChild=function(e){throw Error(t.getString(3004,t.getString(3003)))},s.addChildAt=function(e,i){throw Error(t.getString(3005,t.getString(3003)))},s.removeChild=function(e){throw Error(t.getString(3006,t.getString(3003)))},s.removeChildAt=function(e){throw Error(t.getString(3007,t.getString(3003)))},s.setChildIndex=function(e,i){throw Error(t.getString(3008,t.getString(3003)))},s.swapChildren=function(e,i){throw Error(t.getString(3009,t.getString(3003)))},s.swapChildrenAt=function(e,i){throw Error(t.getString(3010,t.getString(3003)))},n.assetAdapter=null,n}(e.UIComponent);e.UIAsset=i,i.prototype.__class__="egret.gui.UIAsset"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this.hostComponentKey=null,this._skinNameExplicitlySet=!1,this._skinName=null,this._createChildrenCalled=!1,this._skin=null,this.stateIsDirty=this.skinLayoutEnabled=!1,this.explicitMouseEnabled=this.explicitMouseChildren=this._autoMouseEnabled=!0}__extends(n,i);var s=n.prototype;return Object.defineProperty(s,"skinName",{get:function(){return this._skinName},set:function(t){this._skinName!=t&&(this._skinName=t,this._skinNameExplicitlySet=!0,this._createChildrenCalled&&this.parseSkinName())},enumerable:!0,configurable:!0}),s.createChildren=function(){i.prototype.createChildren.call(this),this.parseSkinName(),this._createChildrenCalled=!0},s.parseSkinName=function(){e=n.skinAdapter;e||(e=this.getSkinAdapter());var e,i=this.hostComponentKey||t.getQualifiedClassName(this);(e=e.getSkin(this._skinName,i))||(i=n._defaultTheme)&&(e=i.getDefaultSkin(this)),this._setSkin(e)},s.getSkinAdapter=function(){var i;try{i=t.Injector.getInstance("egret.gui.ISkinAdapter")}catch(t){i=new e.DefaultSkinAdapter}return n.skinAdapter=i},Object.defineProperty(s,"skin",{get:function(){return this._skin},enumerable:!0,configurable:!0}),s._setSkin=function(i){var n=this._skin;this.detachSkin(n),n instanceof t.DisplayObject&&this._removeFromDisplayList(n),this._skin=i,i instanceof t.DisplayObject&&this._addToDisplayListAt(this._skin,0),this.attachSkin(i),this.invalidateSkinState(),this.invalidateSize(),this.invalidateDisplayList(),this.hasEventListener(e.UIEvent.SKIN_CHANGED)&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.SKIN_CHANGED)},s.attachSkin=function(e){this.skinLayoutEnabled=!(!e||e instanceof t.DisplayObject),e&&"hostComponent"in e&&(e.hostComponent=this,this.findSkinParts())},s.findSkinParts=function(){var t=this._skin;if(t&&"skinParts"in t)for(var e=t.skinParts,i=e.length,n=0;n<i;n++){var s=e[n];if(s in t)try{this[s]=t[s],this.partAdded(s,t[s])}catch(t){}}},s.detachSkin=function(t){if(t){if("skinParts"in t)for(var e=t.skinParts,i=e.length,n=0;n<i;n++){var s=e[n];s in this&&(null!=this[s]&&this.partRemoved(s,this[s]),this[s]=null)}t.hostComponent=null}},s.partAdded=function(t,i){e.SkinPartEvent.dispatchSkinPartEvent(this,e.SkinPartEvent.PART_ADDED,t,i)},s.partRemoved=function(t,i){e.SkinPartEvent.dispatchSkinPartEvent(this,e.SkinPartEvent.PART_REMOVED,t,i)},s.invalidateSkinState=function(){this.stateIsDirty||(this.stateIsDirty=!0,this.invalidateProperties())},s.validateSkinState=function(){var t=this.getCurrentSkinState(),e=this._skin;e&&"currentState"in e&&(e.currentState=t),this.hasEventListener("stateChanged")&&this.dispatchEventWith("stateChanged")},Object.defineProperty(s,"autoTouchEnabled",{get:function(){return this._autoMouseEnabled},set:function(t){this._autoMouseEnabled!=t&&((this._autoMouseEnabled=t)?(this._touchChildren=!!this.enabled&&this.explicitMouseChildren,this._DO_Props_._touchEnabled=!!this.enabled&&this.explicitMouseEnabled):(this._touchChildren=this.explicitMouseChildren,this._DO_Props_._touchEnabled=this.explicitMouseEnabled))},enumerable:!0,configurable:!0}),Object.defineProperty(s,"touchChildren",{get:function(){return this._touchChildren},set:function(t){this.enabled&&(this._touchChildren=t),this.explicitMouseChildren=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"touchEnabled",{get:function(){return this._DO_Props_._touchEnabled},set:function(t){this.enabled&&(this._DO_Props_._touchEnabled=t),this.explicitMouseEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"enabled",{get:function(){return this._UIC_Props_._enabled},set:function(t){this._setEnabled(t)},enumerable:!0,configurable:!0}),s._setEnabled=function(t){this._UIC_Props_._enabled!=t&&(this._UIC_Props_._enabled=t,this._autoMouseEnabled&&(this._touchChildren=!!t&&this.explicitMouseChildren,this._DO_Props_._touchEnabled=!!t&&this.explicitMouseEnabled),this.invalidateSkinState())},s.getCurrentSkinState=function(){return this.enabled?"normal":"disabled"},s.commitProperties=function(){i.prototype.commitProperties.call(this),this.stateIsDirty&&(this.stateIsDirty=!1,this.validateSkinState())},s._childXYChanged=function(){this.skinLayoutEnabled&&(this.invalidateSize(),this.invalidateDisplayList())},s.measure=function(){i.prototype.measure.call(this);var t=this._skin;t&&(this.skinLayoutEnabled?(t.measure(),this.measuredWidth=t.preferredWidth,this.measuredHeight=t.preferredHeight):"preferredWidth"in t?(this.measuredWidth=t.preferredWidth,this.measuredHeight=t.preferredHeight):(this.measuredWidth=t.width,this.measuredHeight=t.height))},s.updateDisplayList=function(e,n){i.prototype.updateDisplayList.call(this,e,n);var s=this._skin;s&&(this.skinLayoutEnabled?s.updateDisplayList(e,n):"setLayoutBoundsSize"in s?s.setLayoutBoundsSize(e,n):s instanceof t.DisplayObject&&(s.scaleX=0==s.width?1:e/s.width,s.scaleY=0==s.height?1:n/s.height))},s.addChild=function(e){throw Error(t.getString(3004,t.getString(3003)))},s.addChildAt=function(e,i){throw Error(t.getString(3005,t.getString(3003)))},s.removeChild=function(e){throw Error(t.getString(3006,t.getString(3003)))},s.removeChildAt=function(e){throw Error(t.getString(3007,t.getString(3003)))},s.setChildIndex=function(e,i){throw Error(t.getString(3008,t.getString(3003)))},s.swapChildren=function(e,i){throw Error(t.getString(3009,t.getString(3003)))},s.swapChildrenAt=function(e,i){throw Error(t.getString(3010,t.getString(3003)))},n.skinAdapter=null,n._defaultTheme=null,n}(e.UIComponent);e.SkinnableComponent=i,i.prototype.__class__="egret.gui.SkinnableComponent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(){function e(){}return e.prototype.getSkin=function(e,i){if(!e)return null;if(e.prototype)return new e;if("string"==typeof e){var n=t.getDefinitionByName(e);return n?new n:null}return e},e}();e.DefaultSkinAdapter=i,i.prototype.__class__="egret.gui.DefaultSkinAdapter"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(){function e(){}return e.prototype.getAsset=function(e,i,n,s){var r=e;if(e.prototype&&(r=new e),r instanceof t.DisplayObject||r instanceof t.Texture)i.call(n,r,e);else if("string"==typeof e){var a=new t.URLLoader;a.dataFormat=t.URLLoaderDataFormat.TEXTURE,a.addEventListener(t.Event.COMPLETE,function(t){r=a.data,i.call(n,r,e)},this),a.load(new t.URLRequest(e))}else i.call(n,r,e)},e}();e.DefaultAssetAdapter=i,i.prototype.__class__="egret.gui.DefaultAssetAdapter"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(){function i(t){this.skinMap={},this.delyList=[],this.loadConfig(t)}var n=i.prototype;return i.load=function(t){this.initialized||(this.initialized=!0,e.SkinnableComponent._defaultTheme=new i(t))},n.loadConfig=function(e){var i=new t.URLLoader;i.addEventListener(t.Event.COMPLETE,this.onLoadComplete,this),i.addEventListener(t.IOErrorEvent.IO_ERROR,this.onLoadError,this),i.dataFormat=t.URLLoaderDataFormat.TEXT,i.load(new t.URLRequest(e))},n.onLoadComplete=function(e){e=e.target;try{this.skinMap=JSON.parse(e.data).skins}catch(i){t.Logger.warningWithErrorId(1017,e._request.url,e.data)}this.handleDelyList()},n.onLoadError=function(e){t.Logger.warningWithErrorId(3e3,e.target._request.url),this.handleDelyList()},n.handleDelyList=function(){if(this.skinMap){var t=this.delyList;this.delyList=[];for(var e=t.length,i=0;i<e;i++){var n=t[i];if(!n._skin){var s=this.getDefaultSkin(n);n._setSkin(s)}}}else this.skinMap={},this.delyList=[]},n.getDefaultSkin=function(e){var i=this.skinMap;if(!i)return-1==this.delyList.indexOf(e)&&this.delyList.push(e),null;var n,s=e.hostComponentKey;if(s)n=i[s];else for(;e&&(s=t.getQualifiedClassName(e),!(n=i[s]));)e=t.getDefinitionByName(t.getQualifiedSuperclassName(e));return n?(i=t.getDefinitionByName(n))?new i:(t.Logger.warningWithErrorId(3001,n),null):null},i.initialized=!1,i}();e.Theme=i,i.prototype.__class__="egret.gui.Theme"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(t){function e(){t.call(this),this._target=null}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!0,configurable:!0}),i.measure=function(){if(null!=this.target){for(var t=0,e=0,i=this._target,n=i.numElements,s=0;s<n;s++){var r=i.getElementAt(s);if(r&&r.includeInLayout){var a=r.horizontalCenter,o=r.verticalCenter,h=r.left,l=r.right,u=r.top,c=r.bottom;isNaN(h)||isNaN(l)?isNaN(a)?isNaN(h)&&isNaN(l)?a=r.preferredX:(a=isNaN(h)?0:h,a+=isNaN(l)?0:l):a=2*Math.abs(a):a=h+l,isNaN(u)||isNaN(c)?isNaN(o)?isNaN(u)&&isNaN(c)?o=r.preferredY:(o=isNaN(u)?0:u,o+=isNaN(c)?0:c):o=2*Math.abs(o):o=u+c,c=r.preferredHeight,t=Math.ceil(Math.max(t,a+r.preferredWidth)),e=Math.ceil(Math.max(e,o+c))}}this.target.measuredWidth=t,this.target.measuredHeight=e}},i.updateDisplayList=function(t,e){if(null!=this.target)for(var i=this.target.numElements,n=0;n<i;n++){var s=this.target.getElementAt(n);if(null!=s&&s.includeInLayout){var r=s.horizontalCenter,a=s.verticalCenter,o=s.left,h=s.right,l=s.top,u=s.bottom,c=s.percentWidth,_=s.percentHeight,d=NaN,p=NaN;isNaN(o)||isNaN(h)?isNaN(c)||(d=Math.round(t*Math.min(.01*c,1))):d=t-h-o,isNaN(l)||isNaN(u)?isNaN(_)||(p=Math.round(e*Math.min(.01*_,1))):p=e-u-l,s.setLayoutBoundsSize(d,p),c=s.layoutBoundsWidth,_=s.layoutBoundsHeight,p=d=NaN,d=isNaN(r)?isNaN(o)?isNaN(h)?s.layoutBoundsX:t-c-h:o:Math.round((t-c)/2+r),p=isNaN(a)?isNaN(l)?isNaN(u)?s.layoutBoundsY:e-_-u:l:Math.round((e-_)/2+a),s.setLayoutBoundsPosition(d,p)}}},e}(t.HashObject);e.SkinBasicLayout=i,i.prototype.__class__="egret.gui.SkinBasicLayout"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this._downEventFired=!1,this.labelDisplay=this.autoRepeatTimer=null,this._autoRepeat=!1,this._repeatInterval=this._repeatDelay=35,this._keepDown=this._hovered=!1,this._label="",this.touchChildren=this._stickyHighlighting=this._mouseCaptured=!1,this.addHandlers()}__extends(n,i);var s=n.prototype;return Object.defineProperty(s,"autoRepeat",{get:function(){return this._autoRepeat},set:function(t){t!=this._autoRepeat&&(this._autoRepeat=t,this.checkAutoRepeatTimerConditions(this.isDown()))},enumerable:!0,configurable:!0}),Object.defineProperty(s,"repeatDelay",{get:function(){return this._repeatDelay},set:function(t){this._repeatDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"repeatInterval",{get:function(){return this._repeatInterval},set:function(t){this._repeatInterval=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"hovered",{get:function(){return this._hovered},set:function(t){t!=this._hovered&&(this._hovered=t,this.invalidateSkinState(),this.checkButtonDownConditions())},enumerable:!0,configurable:!0}),s._setKeepDown=function(t){this._keepDown!=t&&(this._keepDown=t,this.invalidateSkinState())},Object.defineProperty(s,"label",{get:function(){return this._getLabel()},set:function(t){this._setLabel(t)},enumerable:!0,configurable:!0}),s._getLabel=function(){return this.labelDisplay?this.labelDisplay.text:this._label},s._setLabel=function(t){this._label=t,this.labelDisplay&&(this.labelDisplay.text=t)},Object.defineProperty(s,"mouseCaptured",{get:function(){return this._mouseCaptured},set:function(t){t!=this._mouseCaptured&&(this._mouseCaptured=t,this.invalidateSkinState(),t||this.removeStageMouseHandlers(),this.checkButtonDownConditions())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"stickyHighlighting",{get:function(){return this._stickyHighlighting},set:function(t){t!=this._stickyHighlighting&&(this._stickyHighlighting=t,this.invalidateSkinState(),this.checkButtonDownConditions())},enumerable:!0,configurable:!0}),s.checkButtonDownConditions=function(){var t=this.isDown();this._downEventFired!=t&&(t&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.BUTTON_DOWN),this._downEventFired=t,this.checkAutoRepeatTimerConditions(t))},s.addHandlers=function(){this.addEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_END,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_TAP,this.mouseEventHandler,this)},s.addStageMouseHandlers=function(){e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)},s.removeStageMouseHandlers=function(){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)},s.isDown=function(){return!!this.enabled&&!(!this.mouseCaptured||!this.hovered&&!this.stickyHighlighting)},s.checkAutoRepeatTimerConditions=function(t){(t=this.autoRepeat&&t)!=(null!=this.autoRepeatTimer)&&(t?this.startTimer():this.stopTimer())},s.startTimer=function(){this.autoRepeatTimer=new t.Timer(1),this.autoRepeatTimer.delay=this._repeatDelay,this.autoRepeatTimer.addEventListener(t.TimerEvent.TIMER,this.autoRepeat_timerDelayHandler,this),this.autoRepeatTimer.start()},s.stopTimer=function(){this.autoRepeatTimer.stop(),this.autoRepeatTimer=null},s.mouseEventHandler=function(e){switch(e.type){case t.TouchEvent.TOUCH_ROLL_OVER:if(e.touchDown&&!this.mouseCaptured)break;this.hovered=!0;break;case t.TouchEvent.TOUCH_ROLL_OUT:this.hovered=!1;break;case t.TouchEvent.TOUCH_BEGIN:this.addStageMouseHandlers(),t.InteractionMode.mode==t.InteractionMode.TOUCH&&(this.hovered=!0),this.mouseCaptured=!0;break;case t.TouchEvent.TOUCH_END:e.target==this&&(this.hovered=!0,this.mouseCaptured&&(this.buttonReleased(),this.mouseCaptured=!1));break;case t.TouchEvent.TOUCH_TAP:this.enabled?this.clickHandler(e):e.stopImmediatePropagation()}},s.buttonReleased=function(){},s.clickHandler=function(t){},s.stage_mouseUpHandler=function(t){t.target!=this&&(this.mouseCaptured=!1)},s.autoRepeat_timerDelayHandler=function(e){this.autoRepeatTimer.reset(),this.autoRepeatTimer.removeEventListener(t.TimerEvent.TIMER,this.autoRepeat_timerDelayHandler,this),this.autoRepeatTimer.delay=this._repeatInterval,this.autoRepeatTimer.addEventListener(t.TimerEvent.TIMER,this.autoRepeat_timerHandler,this),this.autoRepeatTimer.start()},s.autoRepeat_timerHandler=function(t){e.UIEvent.dispatchUIEvent(this,e.UIEvent.BUTTON_DOWN)},s.getCurrentSkinState=function(){return this.enabled?this.isDown()||this._keepDown?"down":t.InteractionMode.mode==t.InteractionMode.MOUSE&&(this.hovered||this.mouseCaptured)?"over":"up":i.prototype.getCurrentSkinState.call(this)},s.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.labelDisplay&&(this.labelDisplay.text=this._label)},n}(e.SkinnableComponent);e.ButtonBase=i,i.prototype.__class__="egret.gui.ButtonBase"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this._selected=!1,this._autoSelected=!0}__extends(n,i);var s=n.prototype;return Object.defineProperty(s,"selected",{get:function(){return this._selected},set:function(t){this._setSelected(t)},enumerable:!0,configurable:!0}),s._setSelected=function(t){t!=this._selected&&(this._selected=t,e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT),this.invalidateSkinState())},s.getCurrentSkinState=function(){var t=i.prototype.getCurrentSkinState.call(this);if(this.selected){var e=t+"AndSelected",n=this.skin;return n&&n.hasState(e)?e:"disabled"==t?"disabled":"down"}return t},s.buttonReleased=function(){i.prototype.buttonReleased.call(this),this._autoSelected&&this.enabled&&(this.selected=!this.selected,this.dispatchEventWith(t.Event.CHANGE))},n}(e.ButtonBase);e.ToggleButtonBase=i,i.prototype.__class__="egret.gui.ToggleButtonBase"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this._textField=null,this.fontFamilyChanged=this.allStyleChanged=!1,this._fontFamily="SimSun",this._sizeChanged=!1,this._size=30,this._focusEnabled=!0,this.textAlignChanged=this._italic=this.italicChanged=this._bold=this.boldChanged=!1,this._textAlign=t.HorizontalAlign.LEFT,this.verticalAlignChanged=!1,this._verticalAlign=t.VerticalAlign.TOP,this.lineSpacingChanged=!1,this._lineSpacing=0,this.textColorChanged=!1,this._textColor=16777215,this._textChanged=!1,this._text="",this._textFlow=null,this._textFlowChanged=!1,this._UIC_Props_._hasNoStyleChild=!0}__extends(n,i);var s=n.prototype;return s.styleChanged=function(t){if(!this.allStyleChanged){if(t)switch(t){case"textColor":this.textColorChanged=!0;break;case"fontFamily":this.fontFamilyChanged=!0;break;case"size":this._sizeChanged=!0;break;case"bold":this.boldChanged=!0;break;case"italic":this.italicChanged=!0;break;case"textAlign":this.textAlignChanged=!0;break;case"verticalAlign":this.verticalAlignChanged=!0}else this.allStyleChanged=!0;this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()}},Object.defineProperty(s,"fontFamily",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.fontFamily?t.fontFamily:this._fontFamily},set:function(t){this.setStyle("fontFamily",t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"size",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.size?t.size:this._size},set:function(t){void 0===t&&(t=0),this.setStyle("size",t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"focusEnabled",{get:function(){return this._focusEnabled},set:function(t){this._focusEnabled=t},enumerable:!0,configurable:!0}),s.setFocus=function(){0!=this._focusEnabled&&this._textField&&this._textField.setFocus()},Object.defineProperty(s,"bold",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.bold?t.bold:this._bold},set:function(t){this.setStyle("bold",t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"italic",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.italic?t.italic:this._italic},set:function(t){this.setStyle("italic",t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"textAlign",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.textAlign?t.textAlign:this._textAlign},set:function(t){this.setStyle("textAlign",t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"verticalAlign",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.verticalAlign?t.verticalAlign:this._verticalAlign},set:function(t){this.setStyle("verticalAlign",t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"lineSpacing",{get:function(){return this._getLineSpacing()},set:function(t){this._setLineSpacing(t)},enumerable:!0,configurable:!0}),s._getLineSpacing=function(){return this._lineSpacing},s._setLineSpacing=function(t){this._lineSpacing!=t&&(this._lineSpacing=t,this.lineSpacingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},Object.defineProperty(s,"textColor",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.textColor?t.textColor:this._textColor},set:function(t){this.setStyle("textColor",t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"text",{get:function(){return this._text},set:function(t){t!=this._text&&(this._text=t||"",this._textChanged=!0,this._textFlowChanged=!1,this._textFlow=[],this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"textFlow",{get:function(){return this._textFlow},set:function(t){this._textFlow=t||[],this._textFlowChanged=!0,this._textChanged=!1,this._text="",this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(s,"textHeight",{get:function(){return null==this._textField?0:this._textField.textHeight},enumerable:!0,configurable:!0}),Object.defineProperty(s,"textWidth",{get:function(){return null==this._textField?0:this._textField.textWidth},enumerable:!0,configurable:!0}),s.createChildren=function(){i.prototype.createChildren.call(this),this._textField||this.checkTextField()},s.commitProperties=function(){i.prototype.commitProperties.call(this),this._textField||this.checkTextField(),this.allStyleChanged&&(this.allStyleChanged=!1,this.verticalAlignChanged=this.textAlignChanged=this.italicChanged=this.boldChanged=this._sizeChanged=this.fontFamilyChanged=this.textColorChanged=!0),this.fontFamilyChanged&&(this._textField.fontFamily=this.fontFamily,this.fontFamilyChanged=!1),this._sizeChanged&&(this._textField.size=this.size,this._sizeChanged=!1),this.boldChanged&&(this._textField.bold=this.bold,this.boldChanged=!1),this.italic&&(this._textField.italic=this.italic,this.italicChanged=!1),this.textAlignChanged&&(this._textField.textAlign=this.textAlign,this.textAlignChanged=!1),this.verticalAlignChanged&&(this._textField.verticalAlign=this.verticalAlign,this.verticalAlignChanged=!1),this.lineSpacingChanged&&(this._textField.lineSpacing=this._lineSpacing,this.lineSpacingChanged=!1),this.textColorChanged&&(this._textField.textColor=this.textColor,this.textColorChanged=!1),this._textChanged&&(this._textField.text=this._text),this._textFlowChanged&&(this._textField.textFlow=this._textFlow),(this._textChanged||this._textFlowChanged)&&(this._text=this._textField.text,this._textFlow=this._textField.textFlow,this._textFlowChanged=this._textChanged=!1)},s.checkTextField=function(){this._textField||(this._createTextField(),this._textChanged&&(this._textField.text=this._text),this._textFlowChanged&&(this._textField.textFlow=this._textFlow),this.invalidateProperties())},s._createTextField=function(){this._textField=new t.TextField,this._textField.fontFamily=this.fontFamily,this._textField.size=this.size,this._textField.textAlign=this.textAlign,this._textField.verticalAlign=this.verticalAlign,this._textField.lineSpacing=this._lineSpacing,this._textField.textColor=this.textColor,this._textField.multiline=!0,this._addToDisplayList(this._textField)},s._textFieldChanged=function(){this._text=this._textField.text,this._textFlow=this._textField.textFlow},s.measure=function(){i.prototype.measure.call(this),this.measuredWidth=n.DEFAULT_MEASURED_WIDTH,this.measuredHeight=n.DEFAULT_MEASURED_HEIGHT},s.$updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e)},s.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this._textField.width=t,this._textField.height=e},s.dispatchPropertyChangeEvent=function(t,i,n){this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,t,i,n,this)},n.DEFAULT_MEASURED_WIDTH=160,n.DEFAULT_MEASURED_HEIGHT=22,n}(e.UIComponent);e.TextBase=i,i.prototype.__class__="egret.gui.TextBase"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this._contentHeight=this._contentWidth=0,this._layout=null,this._clipAndEnableScrolling=!1,this._verticalScrollPosition=this._horizontalScrollPosition=0,this.touchEnabled=this._layoutInvalidateSizeFlag=this._layoutInvalidateDisplayListFlag=!1}__extends(n,i);var s=n.prototype;return s.createChildren=function(){i.prototype.createChildren.call(this),this._layout||(this.layout=new e.BasicLayout)},Object.defineProperty(s,"contentWidth",{get:function(){return this._contentWidth},enumerable:!0,configurable:!0}),s.setContentWidth=function(t){if(t!=this._contentWidth){var i=this._contentWidth;this._contentWidth=t,this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"contentWidth",i,t,this)}},Object.defineProperty(s,"contentHeight",{get:function(){return this._contentHeight},enumerable:!0,configurable:!0}),s.setContentHeight=function(t){if(t!=this._contentHeight){var i=this._contentHeight;this._contentHeight=t,this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"contentHeight",i,t,this)}},s.setContentSize=function(t,e){t==this._contentWidth&&e==this._contentHeight||(this.setContentWidth(t),this.setContentHeight(e))},Object.defineProperty(s,"layout",{get:function(){return this._layout},set:function(t){this._setLayout(t)},enumerable:!0,configurable:!0}),s._setLayout=function(t){this._layout!=t&&(this._layout&&(this._layout.target=null),(this._layout=t)&&(this._layout.target=this),this.invalidateSize(),this.invalidateDisplayList(),this.dispatchEventWith("layoutChanged"))},Object.defineProperty(s,"clipAndEnableScrolling",{get:function(){return this._clipAndEnableScrolling},set:function(e){e!=this._clipAndEnableScrolling&&(this.scrollRect=(this._clipAndEnableScrolling=e)?new t.Rectangle(this._horizontalScrollPosition,this._verticalScrollPosition,this.width,this.height):null)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"horizontalScrollPosition",{get:function(){return this._horizontalScrollPosition},set:function(t){if(t!=this._horizontalScrollPosition){var i=this._horizontalScrollPosition;this._horizontalScrollPosition=t,this.scrollPositionChanged(),e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"horizontalScrollPosition",i,t,this)}},enumerable:!0,configurable:!0}),Object.defineProperty(s,"verticalScrollPosition",{get:function(){return this._verticalScrollPosition},set:function(t){if(t!=this._verticalScrollPosition){var i=this._verticalScrollPosition;this._verticalScrollPosition=t,this.scrollPositionChanged(),e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"verticalScrollPosition",i,t,this)}},enumerable:!0,configurable:!0}),s.scrollPositionChanged=function(){this._clipAndEnableScrolling&&(this.updateScrollRect(this.width,this.height),this._invalidateDisplayListExceptLayout(),this._layout&&this._layout.scrollPositionChanged())},s.updateScrollRect=function(e,i){var n=this._DO_Props_._scrollRect;this._clipAndEnableScrolling?n?(n.x=this._horizontalScrollPosition,n.y=this._verticalScrollPosition,n.width=e,n.height=i):this._DO_Props_._scrollRect=new t.Rectangle(this._horizontalScrollPosition,this._verticalScrollPosition,e,i):n&&(this._DO_Props_._scrollRect=null)},s.measure=function(){this._layout&&this._layoutInvalidateSizeFlag&&(i.prototype.measure.call(this),this._layout.measure())},s._invalidateDisplayListExceptLayout=function(){i.prototype.invalidateDisplayList.call(this)},s.invalidateDisplayList=function(){i.prototype.invalidateDisplayList.call(this),this._layoutInvalidateDisplayListFlag=!0},s._childXYChanged=function(){this.invalidateSize(),this.invalidateDisplayList()},s._invalidateSizeExceptLayout=function(){i.prototype.invalidateSize.call(this)},s.invalidateSize=function(){i.prototype.invalidateSize.call(this),this._layoutInvalidateSizeFlag=!0},s.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this._layoutInvalidateDisplayListFlag&&this._layout&&(this._layoutInvalidateDisplayListFlag=!1,this._layout.updateDisplayList(t,e),this.updateScrollRect(t,e))},Object.defineProperty(s,"numElements",{get:function(){return-1},enumerable:!0,configurable:!0}),s.getElementAt=function(t){return null},s.getElementIndex=function(t){return-1},s.getElementIndicesInView=function(){var e,i=[];if(this.scrollRect)for(e=0;e<this.numChildren;e++){var n=this.getChildAt(e);if(n){var s=new t.Rectangle;s.x=n.layoutBoundsX,s.y=n.layoutBoundsY,s.width=n.layoutBoundsWidth,s.height=n.layoutBoundsHeight,this.scrollRect.intersects(s)&&i.push(e)}}else for(e=0;e<this.numChildren;e++)i.push(e);return i},s.setVirtualElementIndicesInView=function(t,e){},s.getVirtualElementAt=function(t){return this.getElementAt(t)},n}(e.UIComponent);e.GroupBase=i,i.prototype.__class__="egret.gui.GroupBase"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.dataChangedFlag=!1,this._data=null,this._selected=!1,this._itemIndex=-1,this.touchChildren=!0}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"data",{get:function(){return this._data},set:function(t){this._data=t,this.initialized||this.parent?(this.dataChangedFlag=!1,this.dataChanged()):(this.dataChangedFlag=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),i.dataChanged=function(){},Object.defineProperty(i,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&(this._selected=t,this.invalidateSkinState())},enumerable:!0,configurable:!0}),Object.defineProperty(i,"itemIndex",{get:function(){return this._itemIndex},set:function(t){this._itemIndex=t},enumerable:!0,configurable:!0}),i.commitProperties=function(){t.prototype.commitProperties.call(this),this.dataChangedFlag&&(this.dataChangedFlag=!1,this.dataChanged())},i.getCurrentSkinState=function(){return this._selected?"down":t.prototype.getCurrentSkinState.call(this)},e}(t.ButtonBase);t.ItemRenderer=e,e.prototype.__class__="egret.gui.ItemRenderer"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(e){function i(){e.call(this),this._maximum=100,this.maxChanged=!1,this._minimum=0,this.minChanged=!1,this._stepSize=1,this.stepSizeChanged=!1,this._changedValue=this._value=0,this.valueChanged=!1,this._snapInterval=1,this._explicitSnapInterval=this.snapIntervalChanged=!1}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"maximum",{get:function(){return this._maximum},set:function(t){this._setMaximun(t)},enumerable:!0,configurable:!0}),n._setMaximun=function(t){t!=this._maximum&&(this._maximum=t,this.maxChanged=!0,this.invalidateProperties())},Object.defineProperty(n,"minimum",{get:function(){return this._minimum},set:function(t){this._setMinimun(t)},enumerable:!0,configurable:!0}),n._setMinimun=function(t){t!=this._minimum&&(this._minimum=t,this.minChanged=!0,this.invalidateProperties())},Object.defineProperty(n,"stepSize",{get:function(){return this._stepSize},set:function(t){t!=this._stepSize&&(this._stepSize=t,this.stepSizeChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"value",{get:function(){return this._getValue()},set:function(t){this._setValue(t)},enumerable:!0,configurable:!0}),n._setValue=function(t){t!=this.value&&(this._changedValue=t,this.valueChanged=!0,this.invalidateProperties())},n._getValue=function(){return this.valueChanged?this._changedValue:this._value},Object.defineProperty(n,"snapInterval",{get:function(){return this._snapInterval},set:function(t){this._explicitSnapInterval=!0,t!=this._snapInterval&&(isNaN(t)?(this._snapInterval=1,this._explicitSnapInterval=!1):this._snapInterval=t,this.stepSizeChanged=this.snapIntervalChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),n.commitProperties=function(){if(e.prototype.commitProperties.call(this),this.minimum>this.maximum&&(this.maxChanged?this._maximum=this._minimum:this._minimum=this._maximum),this.valueChanged||this.maxChanged||this.minChanged||this.snapIntervalChanged){var t=this.valueChanged?this._changedValue:this._value;this.snapIntervalChanged=this.minChanged=this.maxChanged=this.valueChanged=!1,this.setValue(this.nearestValidValue(t,this.snapInterval))}this.stepSizeChanged&&(this._explicitSnapInterval?this._stepSize=this.nearestValidSize(this._stepSize):(this._snapInterval=this._stepSize,this.setValue(this.nearestValidValue(this._value,this.snapInterval))),this.stepSizeChanged=!1)},n.nearestValidSize=function(t){var e=this.snapInterval;return 0==e?t:(t=Math.round(t/e)*e,Math.abs(t)<e?e:t)},n.nearestValidValue=function(t,e){if(0==e)return Math.max(this.minimum,Math.min(this.maximum,t));var i=this.maximum-this.minimum,n=1;t-=this.minimum,e!=Math.round(e)&&(n=(1+e).toString().split("."),n=Math.pow(10,n[1].length),i*=n,t=Math.round(t*n),e=Math.round(e*n));var s=Math.max(0,Math.floor(t/e)*e);return(t-s>=((i=Math.min(i,Math.floor((t+e)/e)*e))-s)/2?i:s)/n+this.minimum},n.setValue=function(e){this._value!=e&&(isNaN(e)&&(e=0),!isNaN(this.maximum)&&!isNaN(this.minimum)&&this.maximum>this.minimum?this._value=Math.min(this.maximum,Math.max(this.minimum,e)):this._value=e,this.valueChanged=!1,t.UIEvent.dispatchUIEvent(this,t.UIEvent.VALUE_COMMIT))},n.changeValueByStep=function(t){void 0===t&&(t=!0),0!=this.stepSize&&this.setValue(this.nearestValidValue(t?this.value+this.stepSize:this.value-this.stepSize,this.snapInterval))},i}(t.SkinnableComponent);t.Range=e,e.prototype.__class__="egret.gui.Range"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this._slideDuration=300,this.track=this.thumb=null,this._clickOffsetY=this._clickOffsetX=NaN,this.needUpdateValue=!1,this._moveStageY=this._moveStageX=NaN,this.mouseDownTarget=null,this.addEventListener(t.Event.ADDED_TO_STAGE,this.addedToStageHandler,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.mouseDownHandler,this)}__extends(n,i);var s=n.prototype;return Object.defineProperty(s,"slideDuration",{get:function(){return this._slideDuration},set:function(t){this._slideDuration=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"maximum",{get:function(){return this._maximum},set:function(t){t!=this._maximum&&(this._setMaximun(t),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"minimum",{get:function(){return this._minimum},set:function(t){t!=this._minimum&&(this._setMinimun(t),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"value",{get:function(){return this._getValue()},set:function(t){t!=this._getValue()&&(this._setValue(t),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),s.setValue=function(t){i.prototype.setValue.call(this,t),this.invalidateDisplayList()},s.pointToValue=function(t,e){return this.minimum},s.changeValueByStep=function(e){void 0===e&&(e=!0);var n=this.value;i.prototype.changeValueByStep.call(this,e),this.value!=n&&this.dispatchEventWith(t.Event.CHANGE)},s.partAdded=function(n,s){i.prototype.partAdded.call(this,n,s),s==this.thumb?(this.thumb.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.thumb_mouseDownHandler,this),this.thumb.addEventListener(e.ResizeEvent.RESIZE,this.thumb_resizeHandler,this),this.thumb.addEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this),this.thumb.stickyHighlighting=!0):s==this.track&&(this.track.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.track_mouseDownHandler,this),this.track.addEventListener(e.ResizeEvent.RESIZE,this.track_resizeHandler,this))},s.partRemoved=function(n,s){i.prototype.partRemoved.call(this,n,s),s==this.thumb?(this.thumb.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.thumb_mouseDownHandler,this),this.thumb.removeEventListener(e.ResizeEvent.RESIZE,this.thumb_resizeHandler,this),this.thumb.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this)):s==this.track&&(this.track.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.track_mouseDownHandler,this),this.track.removeEventListener(e.ResizeEvent.RESIZE,this.track_resizeHandler,this))},s.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.updateSkinDisplayList()},s.updateSkinDisplayList=function(){},s.addedToStageHandler=function(t){this.updateSkinDisplayList()},s.track_resizeHandler=function(t){this.updateSkinDisplayList()},s.thumb_resizeHandler=function(t){this.updateSkinDisplayList()},s.thumb_updateCompleteHandler=function(t){this.updateSkinDisplayList(),this.thumb.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this)},s.thumb_mouseDownHandler=function(i){e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this),this.addEventListener(t.Event.ENTER_FRAME,this.onEnterFrame,this),i=this.thumb.globalToLocal(i.stageX,i.stageY,t.Point.identity),this._clickOffsetX=i.x,this._clickOffsetY=i.y,e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_PRESS),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START)},s.onEnterFrame=function(t){this.needUpdateValue&&this.track&&(this.updateWhenMouseMove(),this.needUpdateValue=!1)},s.updateWhenMouseMove=function(){if(this.track){var i=this.track.globalToLocal(this._moveStageX,this._moveStageY,t.Point.identity),i=this.pointToValue(i.x-this._clickOffsetX,i.y-this._clickOffsetY);(i=this.nearestValidValue(i,this.snapInterval))!=this.value&&(this.setValue(i),this.validateDisplayList(),e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_DRAG),this.dispatchEventWith(t.Event.CHANGE))}},s.stage_mouseMoveHandler=function(t){this._moveStageX=t.stageX,this._moveStageY=t.stageY,this.needUpdateValue||(this.needUpdateValue=!0)},s.stage_mouseUpHandler=function(i){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this),this.removeEventListener(t.Event.ENTER_FRAME,this.updateWhenMouseMove,this),this.needUpdateValue&&(this.updateWhenMouseMove(),this.needUpdateValue=!1),e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_RELEASE),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},s.track_mouseDownHandler=function(t){},s.mouseDownHandler=function(i){e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpSomewhereHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpSomewhereHandler,this),this.mouseDownTarget=i.target},s.stage_mouseUpSomewhereHandler=function(i){if(e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpSomewhereHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpSomewhereHandler,this),this.mouseDownTarget!=i.target&&i instanceof t.TouchEvent&&this.contains(i.target)){var n=i.target.localToGlobal(i.localX,i.localY);t.TouchEvent.dispatchTouchEvent(this,t.TouchEvent.TOUCH_TAP,i.touchPointID,n.x,n.y,i.ctrlKey,i.altKey,i.shiftKey,i.touchDown)}this.mouseDownTarget=null},n}(e.Range);e.TrackBase=i,i.prototype.__class__="egret.gui.TrackBase"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this.trackHighlight=null,this._showTrackHighlight=!0,this.animator=null,this._pendingValue=0,this.slideToValue=NaN,this._liveDragging=!0,this.maximum=10}__extends(n,i);var s=n.prototype;return Object.defineProperty(s,"showTrackHighlight",{get:function(){return this._showTrackHighlight},set:function(t){this._showTrackHighlight!=t&&(this._showTrackHighlight=t,this.trackHighlight&&(this.trackHighlight.visible=t),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"pendingValue",{get:function(){return this._pendingValue},set:function(t){t!=this._pendingValue&&(this._pendingValue=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),s.setValue=function(t){this._pendingValue=t,i.prototype.setValue.call(this,t)},s._animationUpdateHandler=function(t){this.pendingValue=t.currentValue.value},s.animationEndHandler=function(i){this.setValue(this.slideToValue),this.dispatchEventWith(t.Event.CHANGE),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},s.stopAnimation=function(){this.animator.stop(),this.setValue(this.nearestValidValue(this.pendingValue,this.snapInterval)),this.dispatchEventWith(t.Event.CHANGE),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},s.thumb_mouseDownHandler=function(t){this.animator&&this.animator.isPlaying&&this.stopAnimation(),i.prototype.thumb_mouseDownHandler.call(this,t)},Object.defineProperty(s,"liveDragging",{get:function(){return this._liveDragging},set:function(t){this._liveDragging=t},enumerable:!0,configurable:!0}),s.updateWhenMouseMove=function(){if(this.track){var i=this.track.globalToLocal(this._moveStageX,this._moveStageY,t.Point.identity),i=this.pointToValue(i.x-this._clickOffsetX,i.y-this._clickOffsetY);(i=this.nearestValidValue(i,this.snapInterval))!=this.pendingValue&&(e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_DRAG),1==this.liveDragging?(this.setValue(i),this.dispatchEventWith(t.Event.CHANGE)):this.pendingValue=i)}},s.stage_mouseUpHandler=function(e){i.prototype.stage_mouseUpHandler.call(this,e),0==this.liveDragging&&this.value!=this.pendingValue&&(this.setValue(this.pendingValue),this.dispatchEventWith(t.Event.CHANGE))},s.track_mouseDownHandler=function(i){this.enabled&&(i=this.track.globalToLocal(i.stageX-(this.thumb?this.thumb.width:0)/2,i.stageY-(this.thumb?this.thumb.height:0)/2,t.Point.identity),i=this.pointToValue(i.x,i.y),(i=this.nearestValidValue(i,this.snapInterval))!=this.pendingValue&&(0!=this.slideDuration?(this.animator||(this.animator=new e.Animation(this._animationUpdateHandler,this),this.animator.endFunction=this.animationEndHandler),this.animator.isPlaying&&this.stopAnimation(),this.slideToValue=i,this.animator.duration=this.slideDuration*(Math.abs(this.pendingValue-this.slideToValue)/(this.maximum-this.minimum)),this.animator.motionPaths=[new e.SimpleMotionPath("value",this.pendingValue,this.slideToValue)],e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START),this.animator.play()):(this.setValue(i),this.dispatchEventWith(t.Event.CHANGE))))},s.partAdded=function(e,n){i.prototype.partAdded.call(this,e,n),n==this.trackHighlight&&(this.trackHighlight.touchEnabled=!1,this.trackHighlight instanceof t.DisplayObjectContainer&&(this.trackHighlight.touchChildren=!1),this.trackHighlight.visible=this._showTrackHighlight)},n}(e.TrackBase);e.SliderBase=i,i.prototype.__class__="egret.gui.SliderBase"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(e){function i(){e.call(this),this._maxDisplayedLines=0,this.lastUnscaledWidth=NaN,this.strokeColorChanged=!1,this._stroke=this._strokeColor=0,this.strokeChanged=!1,this._padding=0,this._paddingBottom=this._paddingTop=this._paddingRight=this._paddingLeft=NaN,this.addEventListener(t.UIEvent.UPDATE_COMPLETE,this.updateCompleteHandler,this)}__extends(i,e);var n=i.prototype;return n.updateCompleteHandler=function(t){this.lastUnscaledWidth=NaN},Object.defineProperty(n,"maxDisplayedLines",{get:function(){return this._maxDisplayedLines},set:function(t){this._maxDisplayedLines!=t&&(this._maxDisplayedLines=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._setStrokeColor(t)},enumerable:!0,configurable:!0}),n._setStrokeColor=function(t){this._strokeColor!=t&&(this._strokeColor=t,this.strokeColorChanged=!0,this.invalidateProperties())},Object.defineProperty(n,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!=t&&(this._stroke=t,this.strokeChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"padding",{get:function(){return this._padding},set:function(t){this._padding!=t&&(this._padding=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"paddingLeft",{get:function(){return this._paddingLeft},set:function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"paddingRight",{get:function(){return this._paddingRight},set:function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"paddingTop",{get:function(){return this._paddingTop},set:function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"paddingBottom",{get:function(){return this._paddingBottom},set:function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),n.commitProperties=function(){e.prototype.commitProperties.call(this),this.strokeColorChanged&&(this._textField.strokeColor=this._strokeColor,this.strokeColorChanged=!1),this.strokeChanged&&(this._textField.stroke=this._stroke,this.strokeChanged=!1)},n.measure=function(){if(this._UIC_Props_._invalidatePropertiesFlag&&this.validateProperties(),this.isSpecialCase()){if(!isNaN(this.lastUnscaledWidth))return void this.measureUsingWidth(this.lastUnscaledWidth);this._UIC_Props_._oldPreferWidth=NaN,this._UIC_Props_._oldPreferHeight=NaN}var t;isNaN(this.explicitWidth)?1e4!=this.maxWidth&&(t=this.maxWidth):t=this.explicitWidth,this.measureUsingWidth(t)},n.isSpecialCase=function(){return 1!=this._maxDisplayedLines&&(!isNaN(this.percentWidth)||!isNaN(this.left)&&!isNaN(this.right))&&isNaN(this.explicitHeight)&&isNaN(this.percentHeight)},n.measureUsingWidth=function(t){this._textChanged&&(this._textField.text=this._text),this._textFlowChanged&&(this._textField.textFlow=this._textFlow);var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingLeft)?e:this._paddingLeft,n=isNaN(this._paddingRight)?e:this._paddingRight,s=isNaN(this._paddingTop)?e:this._paddingTop,e=isNaN(this._paddingBottom)?e:this._paddingBottom;this._textField.width=NaN,this._textField.height=NaN,isNaN(t)||(this._textField.width=t-i-n),this.measuredWidth=Math.ceil(this._textField.measuredWidth),this.measuredHeight=Math.ceil(this._textField.measuredHeight),0<this._maxDisplayedLines&&this._textField.numLines>this._maxDisplayedLines&&(t=this._textField.lineSpacing,this.measuredHeight=(this._textField.size+t)*this._maxDisplayedLines-t),this.measuredWidth+=i+n,this.measuredHeight+=s+e},n.updateDisplayList=function(t,e){this.$updateDisplayList(t,e);var i=isNaN(this._padding)?0:this._padding,n=isNaN(this._paddingLeft)?i:this._paddingLeft,s=isNaN(this._paddingRight)?i:this._paddingRight,r=isNaN(this._paddingTop)?i:this._paddingTop,i=isNaN(this._paddingBottom)?i:this._paddingBottom;if(this._textField.x=n,this._textField.y=r,this.isSpecialCase()){var a=isNaN(this.lastUnscaledWidth)||this.lastUnscaledWidth!=t;if(this.lastUnscaledWidth=t,a)return this._UIC_Props_._oldPreferWidth=NaN,this._UIC_Props_._oldPreferHeight=NaN,void this.invalidateSize()}this._UIC_Props_._invalidateSizeFlag&&this.validateSize(),this._textField.visible||(this._textField.visible=!0),this._textField.width=t-n-s,n=e-r-i,this._textField.height=n,0<this._maxDisplayedLines&&this._textField.numLines>this._maxDisplayedLines&&(s=this._textField.lineSpacing,this._textField.height=Math.min(n,(this._textField.size+s)*this._maxDisplayedLines-s))},i}(t.TextBase);t.Label=e,e.prototype.__class__="egret.gui.Label"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this._graphics=null,this._fillColor=16777215,this._fillAlpha=1,this._strokeColor=4473924,this._strokeAlpha=0,this._strokeWeight=1,this.touchChildren=!1}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"graphics",{get:function(){return this._graphics||(this._graphics=new t.Graphics,this.needDraw=!0),this._graphics},enumerable:!0,configurable:!0}),n._render=function(t){this._graphics&&this._graphics._draw(t),e.prototype._render.call(this,t)},Object.defineProperty(n,"fillColor",{get:function(){return this._fillColor},set:function(t){this._fillColor!=t&&(this._fillColor=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"fillAlpha",{get:function(){return this._fillAlpha},set:function(t){this._fillAlpha!=t&&(this._fillAlpha=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._strokeColor!=t&&(this._strokeColor=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"strokeAlpha",{get:function(){return this._strokeAlpha},set:function(t){this._strokeAlpha!=t&&(this._strokeAlpha=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n,"strokeWeight",{get:function(){return this._strokeWeight},set:function(t){this._strokeWeight!=t&&(this._strokeWeight=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),n._measureBounds=function(){var t=e.prototype._measureBounds.call(this),i=this.width,n=this.height;return 0<t.x&&(t.x=0),0<t.y&&(t.y=0),0+i>t.right&&(t.right=0+i),0+n>t.bottom&&(t.bottom=0+n),t},n.updateDisplayList=function(t,i){e.prototype.updateDisplayList.call(this,t,t);var n=this.graphics;n.clear(),n.beginFill(this._fillColor,this._fillAlpha),0<this._strokeAlpha&&n.lineStyle(this._strokeWeight,this._strokeColor,this._strokeAlpha,!0,"normal","square","miter"),n.drawRect(0,0,t,i),n.endFill()},n.hitTest=function(i,n,s){void 0===s&&(s=!1);var r=e.prototype.hitTest.call(this,i,n,s);return r||(this._graphics?t.DisplayObject.prototype.hitTest.call(this,i,n,s):null)},i}(e.UIComponent);e.Rect=i,i.prototype.__class__="egret.gui.Rect"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this._icon=this.iconDisplay=null}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"icon",{get:function(){return this._getIcon()},set:function(t){this._setIcon(t)},enumerable:!0,configurable:!0}),i._getIcon=function(){return this.iconDisplay?this.iconDisplay.source:this._icon},i._setIcon=function(t){this._icon=t,this.iconDisplay&&(this.iconDisplay.source=t)},i.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.iconDisplay&&(this.iconDisplay.source=this._icon)},e}(t.ButtonBase);t.Button=e,e.prototype.__class__="egret.gui.Button"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this._icon=this.iconDisplay=null}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"icon",{get:function(){return this._getIcon()},set:function(t){this._setIcon(t)},enumerable:!0,configurable:!0}),i._getIcon=function(){return this.iconDisplay?this.iconDisplay.source:this._icon},i._setIcon=function(t){this._icon=t,this.iconDisplay&&(this.iconDisplay.source=t)},i.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.iconDisplay&&(this.iconDisplay.source=this._icon)},e}(t.ToggleButtonBase);t.ToggleButton=e,e.prototype.__class__="egret.gui.ToggleButton"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this.elementsContentChanged=this.createChildrenCalled=!1,this._elementsContent=[]}__extends(n,i);var s=n.prototype;return s.createChildren=function(){i.prototype.createChildren.call(this),this.createChildrenCalled=!0,this.elementsContentChanged&&(this.elementsContentChanged=!1,this.setElementsContent(this._elementsContent))},s._getElementsContent=function(){return this._elementsContent},Object.defineProperty(s,"elementsContent",{set:function(t){if(null==t&&(t=[]),t!=this._elementsContent)if(this.createChildrenCalled)this.setElementsContent(t);else{this.elementsContentChanged=!0;for(var e=this._elementsContent.length-1;0<=e;e--)this._elementRemoved(this._elementsContent[e],e);this._elementsContent=t}},enumerable:!0,configurable:!0}),s.setElementsContent=function(t){var e;for(e=this._elementsContent.length-1;0<=e;e--)this._elementRemoved(this._elementsContent[e],e);for(this._elementsContent=t.concat(),t=this._elementsContent.length,e=0;e<t;e++){var i=this._elementsContent[e];i.parent&&"removeElement"in i.parent?i.parent.removeElement(i):i.owner&&"removeElement"in i.owner&&i.owner.removeElement(i),this._elementAdded(i,e)}},Object.defineProperty(s,"numElements",{get:function(){return this._elementsContent.length},enumerable:!0,configurable:!0}),s.getElementAt=function(t){return this.checkForRangeError(t),this._elementsContent[t]},s.checkForRangeError=function(e,i){void 0===i&&(i=!1);var n=this._elementsContent.length-1;if(i&&n++,0>e||e>n)throw new RangeError(t.getString(3011,e))},s.addElement=function(t){var e=this.numElements;return t.parent==this&&(e=this.numElements-1),this.addElementAt(t,e)},s.addElementAt=function(t,e){if(t==this)return t;this.checkForRangeError(e,!0);var i=t.owner;return i==this||t.parent==this?(this.setElementIndex(t,e),t):(i&&"removeElement"in i&&t.owner.removeElement(t),this._elementsContent.splice(e,0,t),this.elementsContentChanged||this._elementAdded(t,e),t)},s.removeElement=function(t){return this.removeElementAt(this.getElementIndex(t))},s.removeElementAt=function(t){this.checkForRangeError(t);var e=this._elementsContent[t];return this.elementsContentChanged||this._elementRemoved(e,t),this._elementsContent.splice(t,1),e},s.removeAllElements=function(){for(var t=this.numElements-1;0<=t;t--)this.removeElementAt(t)},s.getElementIndex=function(t){return this._elementsContent.indexOf(t)},s.setElementIndex=function(t,e){this.checkForRangeError(e);var i=this.getElementIndex(t);-1!=i&&i!=e&&(this.elementsContentChanged||this._elementRemoved(t,i,!1),this._elementsContent.splice(i,1),this._elementsContent.splice(e,0,t),this.elementsContentChanged||this._elementAdded(t,e,!1))},s.swapElements=function(t,e){this.swapElementsAt(this.getElementIndex(t),this.getElementIndex(e))},s.swapElementsAt=function(t,e){if(this.checkForRangeError(t),this.checkForRangeError(e),t>e){i=e;e=t,t=i}else if(t==e)return;var i,n=(i=this._elementsContent)[t],s=i[e];this.elementsContentChanged||(this._elementRemoved(n,t,!1),this._elementRemoved(s,e,!1)),i[t]=s,i[e]=n,this.elementsContentChanged||(this._elementAdded(s,t,!1),this._elementAdded(n,e,!1))},s._elementAdded=function(i,n,s){void 0===s&&(s=!0),i instanceof t.DisplayObject&&this._addToDisplayListAt(i,n,s),s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_ADD,i,n),this.invalidateSize(),this.invalidateDisplayList()},s._elementRemoved=function(i,n,s){void 0===s&&(s=!0),s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_REMOVE,i,n),i instanceof t.DisplayObject&&i.parent==this&&this._removeFromDisplayList(i,s),this.invalidateSize(),this.invalidateDisplayList()},s.addChild=function(e){throw Error(t.getString(3004,t.getString(3003)))},s.addChildAt=function(e,i){throw Error(t.getString(3005,t.getString(3003)))},s.removeChild=function(e){throw Error(t.getString(3006,t.getString(3003)))},s.removeChildAt=function(e){throw Error(t.getString(3007,t.getString(3003)))},s.setChildIndex=function(e,i){throw Error(t.getString(3008,t.getString(3003)))},s.swapChildren=function(e,i){throw Error(t.getString(3009,t.getString(3003)))},s.swapChildrenAt=function(e,i){throw Error(t.getString(3010,t.getString(3003)))},n}(e.GroupBase);e.Group=i,i.prototype.__class__="egret.gui.Group"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this.maxWidth=1e4,this.minWidth=0,this.maxHeight=1e4,this.minHeight=0,this._hasWidthSet=!1,this._width=NaN,this._hasHeightSet=!1,this._height=NaN,this.measuredHeight=this.measuredWidth=0,this._initialized=!1,this._hostComponent=null,this._elementsContent=[],this.skinLayout=null,this._states=[],this.playStateTransition=!0,this.currentStateChanged=!1,this.requestedCurrentState=this._currentState=null,this.initialized=!1,this.skinLayout=new e.SkinBasicLayout,this.skinLayout.target=this}__extends(n,i);var s=n.prototype;return Object.defineProperty(s,"width",{get:function(){return this._width},set:function(e){this._width!=e&&(this._width=e,this._hasWidthSet=t.NumberUtils.isNumber(e))},enumerable:!0,configurable:!0}),Object.defineProperty(s,"height",{get:function(){return this._height},set:function(e){this._height!=e&&(this._height=e,this._hasHeightSet=t.NumberUtils.isNumber(e))},enumerable:!0,configurable:!0}),Object.defineProperty(s,"preferredWidth",{get:function(){return this._hasWidthSet?this._width:this.measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(s,"preferredHeight",{get:function(){return this._hasHeightSet?this._height:this.measuredHeight},enumerable:!0,configurable:!0}),s.createChildren=function(){},Object.defineProperty(s,"hostComponent",{get:function(){return this._hostComponent},set:function(t){this._setHostComponent(t)},enumerable:!0,configurable:!0}),s._setHostComponent=function(t){if(this._hostComponent!=t){var e;if(this._hostComponent)for(e=this._elementsContent.length-1;0<=e;e--)this._elementRemoved(this._elementsContent[e],e);if(this._hostComponent=t,this._initialized||(this._initialized=!0,this.createChildren()),this._hostComponent){for(t=this._elementsContent.length,e=0;e<t;e++)this._elementAdded(this._elementsContent[e],e);this.initializeStates(),this.currentStateChanged&&this.commitCurrentState()}}},s._getElementsContent=function(){return this._elementsContent},Object.defineProperty(s,"elementsContent",{set:function(t){if(null==t&&(t=[]),t!=this._elementsContent)if(this._hostComponent){var e;for(e=this._elementsContent.length-1;0<=e;e--)this._elementRemoved(this._elementsContent[e],e);for(this._elementsContent=t.concat(),t=this._elementsContent.length,e=0;e<t;e++){var i=this._elementsContent[e];i.parent&&"removeElement"in i.parent?i.parent.removeElement(i):i.owner&&"removeElement"in i.owner&&i.owner.removeElement(i),this._elementAdded(i,e)}}else this._elementsContent=t.concat()},enumerable:!0,configurable:!0}),Object.defineProperty(s,"numElements",{get:function(){return this._elementsContent.length},enumerable:!0,configurable:!0}),s.getElementAt=function(t){return this.checkForRangeError(t),this._elementsContent[t]},s.checkForRangeError=function(e,i){void 0===i&&(i=!1);var n=this._elementsContent.length-1;if(i&&n++,0>e||e>n)throw new RangeError(t.getString(3011,e))},s.addElement=function(t){var e=this.numElements;return t.owner==this&&(e=this.numElements-1),this.addElementAt(t,e)},s.addElementAt=function(t,e){this.checkForRangeError(e,!0);var i=t.owner;return i==this?(this.setElementIndex(t,e),t):(i&&"removeElement"in i&&i.removeElement(t),this._elementsContent.splice(e,0,t),this._hostComponent?this._elementAdded(t,e):t.ownerChanged(this),t)},s.removeElement=function(t){return this.removeElementAt(this.getElementIndex(t))},s.removeElementAt=function(t){this.checkForRangeError(t);var e=this._elementsContent[t];return this._hostComponent?this._elementRemoved(e,t):e.ownerChanged(null),this._elementsContent.splice(t,1),e},s.getElementIndex=function(t){return this._elementsContent.indexOf(t)},s.setElementIndex=function(t,e){this.checkForRangeError(e);var i=this.getElementIndex(t);-1!=i&&i!=e&&(this._hostComponent&&this._elementRemoved(t,i,!1),this._elementsContent.splice(i,1),this._elementsContent.splice(e,0,t),this._hostComponent&&this._elementAdded(t,e,!1))},s._elementAdded=function(i,n,s){void 0===s&&(s=!0),i.ownerChanged(this),i instanceof t.DisplayObject&&this._hostComponent._addToDisplayListAt(i,n,s),s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_ADD,i,n),this._hostComponent.invalidateSize(),this._hostComponent.invalidateDisplayList()},s._elementRemoved=function(i,n,s){void 0===s&&(s=!0),s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_REMOVE,i,n),i instanceof t.DisplayObject&&i.parent==this._hostComponent&&this._hostComponent._removeFromDisplayList(i,s),i.ownerChanged(null),this._hostComponent.invalidateSize(),this._hostComponent.invalidateDisplayList()},s.measure=function(){this.skinLayout.measure(),this.measuredWidth<this.minWidth&&(this.measuredWidth=this.minWidth),this.measuredWidth>this.maxWidth&&(this.measuredWidth=this.maxWidth),this.measuredHeight<this.minHeight&&(this.measuredHeight=this.minHeight),this.measuredHeight>this.maxHeight&&(this.measuredHeight=this.maxHeight)},s.updateDisplayList=function(t,e){this.skinLayout.updateDisplayList(t,e)},Object.defineProperty(s,"states",{get:function(){return this._states},set:function(t){this._setStates(t)},enumerable:!0,configurable:!0}),s._setStates=function(t){if(t||(t=[]),"string"==typeof t[0])for(var i=t.length,n=0;n<i;n++){var s=new e.State(t[n],[]);t[n]=s}this._states=t,this.currentStateChanged=!0,this.requestedCurrentState=this._currentState,this.hasState(this.requestedCurrentState)||(this.requestedCurrentState=this.getDefaultState())},Object.defineProperty(s,"transitions",{get:function(){return this._transitions},set:function(t){this._transitions=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"currentState",{get:function(){return this.currentStateChanged?this.requestedCurrentState:this._currentState?this._currentState:this.getDefaultState()},set:function(t){t||(t=this.getDefaultState()),t!=this.currentState&&t&&this.currentState&&(this.requestedCurrentState=t,this.currentStateChanged=!0,this._hostComponent&&this.commitCurrentState())},enumerable:!0,configurable:!0}),s.hasState=function(t){return null!=this.getState(t)},s.getDefaultState=function(){return 0<this._states.length?this._states[0].name:null},s.commitCurrentState=function(){if(this.currentStateChanged){this.currentStateChanged=!1,this.getState(this.requestedCurrentState)||(this.requestedCurrentState=this.getDefaultState());var t;this.playStateTransition&&(t=this.getTransition(this._currentState,this.requestedCurrentState));var i,n;if(this._currentTransition&&(this._currentTransition.effect.removeEventListener(e.EffectEvent.EFFECT_END,this.transition_effectEndHandler,this),t&&this._currentTransition.interruptionBehavior==e.InterruptionBehavior.STOP?(n=this._currentTransition.effect).stop():(this._currentTransition.autoReverse&&this.transitionFromState==this.requestedCurrentState&&this.transitionToState==this._currentState&&(i=0==this._currentTransition.effect.duration?0:this._currentTransition.effect.playheadTime/this.getTotalDuration(this._currentTransition.effect)),this._currentTransition.effect.end()),this._currentTransition=null),n=this._currentState?this._currentState:"",this.hasEventListener(e.StateChangeEvent.CURRENT_STATE_CHANGING)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.CURRENT_STATE_CHANGING,n,this.requestedCurrentState?this.requestedCurrentState:""),this.removeState(this._currentState),(this._currentState=this.requestedCurrentState)&&this.applyState(this._currentState),this.hasEventListener(e.StateChangeEvent.CURRENT_STATE_CHANGE)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.CURRENT_STATE_CHANGE,n,this._currentState?this._currentState:""),t){var s=t&&t.autoReverse&&(t.toState==n||t.fromState==this._currentState);e.UIGlobals._layoutManager.validateNow(),this._currentTransition=t,this.transitionFromState=n,this.transitionToState=this._currentState,t.effect.addEventListener(e.EffectEvent.EFFECT_END,this.transition_effectEndHandler,this),t.effect.play(null,s),isNaN(i)||0==t.effect.duration||(t.effect.playheadTime=(1-i)*this.getTotalDuration(t.effect))}else this.hasEventListener(e.StateChangeEvent.STATE_CHANGE_COMPLETE)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.STATE_CHANGE_COMPLETE,n,this._currentState)}},s.transition_effectEndHandler=function(t){this._currentTransition=null,this.hasEventListener(e.StateChangeEvent.STATE_CHANGE_COMPLETE)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.STATE_CHANGE_COMPLETE,this.transitionFromState,this.transitionToState)},s.getState=function(t){if(!t)return null;for(var e=this._states,i=e.length,n=0;n<i;n++){var s=e[n];if(s.name==t)return s}return null},s.removeState=function(t){if(t=this.getState(t))for(var e=(t=t.overrides).length-1;0<=e;e--)t[e].remove(this)},s.applyState=function(t){if(t=this.getState(t))for(var e=(t=t.overrides).length,i=0;i<e;i++)t[i].apply(this)},s.initializeStates=function(){if(!this.initialized){this.initialized=!0;for(var t=this._states,e=t.length,i=0;i<e;i++)t[i].initialize(this)}},s.getTransition=function(t,e){var i=null,n=0;if(!this.transitions)return null;t||(t=""),e||(e="");for(var s=0;s<this.transitions.length;s++){var r=this.transitions[s];if("*"==r.fromState&&"*"==r.toState&&1>n)i=r,n=1;else if(r.toState==t&&"*"==r.fromState&&r.autoReverse&&2>n)i=r,n=2;else if("*"==r.toState&&r.fromState==e&&r.autoReverse&&3>n)i=r,n=3;else if(r.toState==t&&r.fromState==e&&r.autoReverse&&4>n)i=r,n=4;else if(r.fromState==t&&"*"==r.toState&&5>n)i=r,n=5;else if("*"==r.fromState&&r.toState==e&&6>n)i=r,n=6;else if(r.fromState==t&&r.toState==e&&7>n){i=r;break}}return i&&!i.effect&&(i=null),i},s.getTotalDuration=function(t){var i=0,i=t instanceof e.CompositeEffect?t.compositeDuration:t.duration,n="repeatCount"in t?t.repeatCount:0;return i=i*n+("repeatDelay"in t?t.repeatDelay:0)*(n-1)+("startDelay"in t?t.startDelay:0)},n}(t.EventDispatcher);e.Skin=i,i.prototype.__class__="egret.gui.Skin"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(e,n,s){void 0===e&&(e=null),void 0===n&&(n=null),void 0===s&&(s=null),i.call(this),this.labelDisplay=new t.gui.Label,this.iconDisplay=new t.gui.UIAsset;var r={};r.up=e,r.down=n,r.disabled=s,this.stateMap=r,this._setStates(["up","down","disabled"])}__extends(n,i);var s=n.prototype;return Object.defineProperty(s,"skinParts",{get:function(){return n._skinParts},enumerable:!0,configurable:!0}),s.createChildren=function(){i.prototype.createChildren.call(this);var t=new e.UIAsset;t.left=t.top=t.bottom=t.right=0,this.addElement(t),this.backgroundAsset=t,this.iconDisplay.includeInLayout=!1,this.addElement(this.iconDisplay),this.labelDisplay.includeInLayout=!1,this.labelDisplay.paddingLeft=5,this.labelDisplay.paddingRight=5,this.addElement(this.labelDisplay)},s.commitCurrentState=function(){i.prototype.commitCurrentState.call(this);var t=this.currentState;this.stateMap[t]&&(this.backgroundAsset.source=this.stateMap[t])},s.measure=function(){i.prototype.measure.call(this);var t=this.iconDisplay.preferredWidth+this.labelDisplay.preferredWidth+20,e=Math.max(this.iconDisplay.preferredHeight,this.labelDisplay.preferredHeight)+20;t>this.measuredWidth&&(t<this.minWidth&&(t=this.minWidth),t>this.maxWidth&&(t=this.maxWidth),this.measuredWidth=t),e>this.measuredHeight&&(e<this.minHeight&&(e=this.minHeight),e>this.maxHeight&&(e=this.maxHeight),this.measuredHeight=e)},s.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e);var n=this.iconDisplay.layoutBoundsWidth,s=this.labelDisplay.layoutBoundsHeight,r=.5*(t-n-this.labelDisplay.layoutBoundsWidth);this.iconDisplay.setLayoutBoundsPosition(r,.5*(e-this.iconDisplay.layoutBoundsHeight)),this.labelDisplay.setLayoutBoundsPosition(r+n,.5*(e-s))},n._skinParts=["labelDisplay","iconDisplay"],n}(e.Skin);e.ButtonSkin=i,i.prototype.__class__="egret.gui.ButtonSkin"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this._rendererOwner=null,this.useVirtualLayoutChanged=!1,this.rendererToClassMap=[],this.freeRenderers=[],this.createNewRendererFlag=!1,this.cleanTimer=null,this.dataProviderChanged=!1,this._dataProvider=null,this.recyclerDic=[],this.itemRendererChanged=!1,this._itemRenderer=null,this.itemRendererSkinNameChange=!1,this._itemRendererFunction=this._itemRendererSkinName=null,this.typicalItemChanged=this.virtualLayoutUnderway=!1,this.typicalLayoutRect=null,this.indexToRenderer=[],this.renderersBeingUpdated=this.cleanFreeRenderer=!1}__extends(n,i);var s=n.prototype;return Object.defineProperty(s,"layout",{get:function(){return this._layout},set:function(t){t!=this.layout&&(this.layout&&(this.layout.typicalLayoutRect=null,this.layout.removeEventListener("useVirtualLayoutChanged",this.layout_useVirtualLayoutChangedHandler,this)),this.layout&&t&&this.layout.useVirtualLayout!=t.useVirtualLayout&&this.changeUseVirtualLayout(),this._setLayout(t),t&&(t.typicalLayoutRect=this.typicalLayoutRect,t.addEventListener("useVirtualLayoutChanged",this.layout_useVirtualLayoutChangedHandler,this)))},enumerable:!0,configurable:!0}),s.layout_useVirtualLayoutChangedHandler=function(t){this.changeUseVirtualLayout()},s.setVirtualElementIndicesInView=function(t,e){if(this.layout&&this.layout.useVirtualLayout){this.virtualRendererIndices=[];for(var i=t;i<=e;i++)this.virtualRendererIndices.push(i);for(var n in this.indexToRenderer)n=parseInt(n),-1==this.virtualRendererIndices.indexOf(n)&&this.freeRendererByIndex(n)}},s.getVirtualElementAt=function(t){if(0>t||t>=this.dataProvider.length)return null;if(!(i=this.indexToRenderer[t])){var i=this.dataProvider.getItemAt(t),n=this.createVirtualRenderer(t);this.indexToRenderer[t]=n,this.updateRenderer(n,t,i),this.createNewRendererFlag&&("validateNow"in n&&n.validateNow(),this.createNewRendererFlag=!1,e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,n,t,i)),i=n}return i},s.freeRendererByIndex=function(e){if(this.indexToRenderer[e]){var i=this.indexToRenderer[e];delete this.indexToRenderer[e],i&&i instanceof t.DisplayObject&&this.doFreeRenderer(i)}},s.doFreeRenderer=function(t){var e=this.rendererToClassMap[t.hashCode].hashCode;this.freeRenderers[e]||(this.freeRenderers[e]=[]),this.freeRenderers[e].push(t),t.visible=!1},s.invalidateSize=function(){this.createNewRendererFlag||i.prototype.invalidateSize.call(this)},s.createVirtualRenderer=function(t){t=this.dataProvider.getItemAt(t);var e=(t=this.itemToRendererClass(t)).hashCode,i=this.freeRenderers;return i[e]&&0<i[e].length?(t=i[e].pop(),t.visible=!0,t):(this.createNewRendererFlag=!0,this.createOneRenderer(t))},s.createOneRenderer=function(e){var i,n=e.hashCode,s=this.recyclerDic[n];return s&&(i=s.pop(),0==s.length&&delete this.recyclerDic[n]),i||(i=e.newInstance(),this.rendererToClassMap[i.hashCode]=e),i&&i instanceof t.DisplayObject?(this._itemRendererSkinName&&this.setItemRenderSkinName(i),this._addToDisplayList(i),i.setLayoutBoundsSize(NaN,NaN),i):null},s.setItemRenderSkinName=function(t){t&&(t?t._skinNameExplicitlySet||(t.skinName=this._itemRendererSkinName):t&&!t.skinName&&(t.skinName=this._itemRendererSkinName))},s.finishVirtualLayout=function(){if(this.virtualLayoutUnderway){var e,i=this.virtualLayoutUnderway=!1;for(e in this.freeRenderers)if(0<this.freeRenderers[e].length){i=!0;break}i&&(this.cleanTimer||(this.cleanTimer=new t.Timer(3e3,1),this.cleanTimer.addEventListener(t.TimerEvent.TIMER,this.cleanAllFreeRenderer,this)),this.cleanTimer.reset(),this.cleanTimer.start())}},s.cleanAllFreeRenderer=function(t){var e,i=this.freeRenderers;for(e in i)for(var n=i[e],s=n.length,r=0;r<s;r++)t=n[r],t.visible=!0,this.recycle(t);this.freeRenderers=[],this.cleanFreeRenderer=!1},s.getElementIndicesInView=function(){return this.layout&&this.layout.useVirtualLayout?this.virtualRendererIndices?this.virtualRendererIndices:[]:i.prototype.getElementIndicesInView.call(this)},s.changeUseVirtualLayout=function(){this.cleanFreeRenderer=this.useVirtualLayoutChanged=!0,this.removeDataProviderListener(),this.invalidateProperties()},Object.defineProperty(s,"dataProvider",{get:function(){return this._dataProvider},set:function(t){this._dataProvider!=t&&(this.removeDataProviderListener(),this._dataProvider=t,this.cleanFreeRenderer=this.dataProviderChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),s.removeDataProviderListener=function(){this._dataProvider&&this._dataProvider.removeEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,this)},s.onCollectionChange=function(t){switch(t.kind){case e.CollectionEventKind.ADD:this.itemAddedHandler(t.items,t.location);break;case e.CollectionEventKind.MOVE:this.itemMovedHandler(t.items[0],t.location,t.oldLocation);break;case e.CollectionEventKind.REMOVE:this.itemRemovedHandler(t.items,t.location);break;case e.CollectionEventKind.UPDATE:this.itemUpdatedHandler(t.items[0],t.location);break;case e.CollectionEventKind.REPLACE:this.itemRemoved(t.oldItems[0],t.location),this.itemAdded(t.items[0],t.location);break;case e.CollectionEventKind.RESET:case e.CollectionEventKind.REFRESH:if(this.layout&&this.layout.useVirtualLayout)for(var i in this.indexToRenderer)i=parseInt(i),this.freeRendererByIndex(i);this.dataProviderChanged=!0,this.invalidateProperties()}this.invalidateSize(),this.invalidateDisplayList()},s.itemAddedHandler=function(t,e){for(var i=t.length,n=0;n<i;n++)this.itemAdded(t[n],e+n);this.resetRenderersIndices()},s.itemMovedHandler=function(t,e,i){this.itemRemoved(t,i),this.itemAdded(t,e),this.resetRenderersIndices()},s.itemRemovedHandler=function(t,e){for(var i=t.length-1;0<=i;i--)this.itemRemoved(t[i],e+i);this.resetRenderersIndices()},s.itemAdded=function(t,i){if(this.layout&&this.layout.elementAdded(i),this.layout&&this.layout.useVirtualLayout){var n=this.virtualRendererIndices;if(n){for(var s=n.length,r=0;r<s;r++){var a=n[r];a>=i&&(n[r]=a+1)}this.indexToRenderer.splice(i,0,null)}}else n=this.itemToRendererClass(t),n=this.createOneRenderer(n),this.indexToRenderer.splice(i,0,n),n&&(this.updateRenderer(n,i,t),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,n,i,t))},s.itemRemoved=function(i,n){this.layout&&this.layout.elementRemoved(n);var s=this.virtualRendererIndices;if(s&&0<s.length){for(var r=-1,a=s.length,o=0;o<a;o++){var h=s[o];h==n?r=o:h>n&&(s[o]=h-1)}-1!=r&&s.splice(r,1)}s=this.indexToRenderer[n],this.indexToRenderer.length>n&&this.indexToRenderer.splice(n,1),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_REMOVE,s,n,i),s&&s instanceof t.DisplayObject&&this.recycle(s)},s.recycle=function(e){this._removeFromDisplayList(e),"ownerChanged"in e&&e.ownerChanged(null);var i=this.rendererToClassMap[e.hashCode].hashCode;this.recyclerDic[i]||(this.recyclerDic[i]=new t.Recycler),this.recyclerDic[i].push(e)},s.resetRenderersIndices=function(){if(0!=this.indexToRenderer.length)if(this.layout&&this.layout.useVirtualLayout)for(var t=this.virtualRendererIndices,e=t.length,i=0;i<e;i++){var n=t[i];this.resetRendererItemIndex(n)}else for(t=this.indexToRenderer.length,n=0;n<t;n++)this.resetRendererItemIndex(n)},s.itemUpdatedHandler=function(t,e){if(!this.renderersBeingUpdated){var i=this.indexToRenderer[e];i&&this.updateRenderer(i,e,t)}},s.resetRendererItemIndex=function(t){var e=this.indexToRenderer[t];e&&(e.itemIndex=t)},Object.defineProperty(s,"itemRenderer",{get:function(){return this._itemRenderer},set:function(t){this._itemRenderer!==t&&(this._itemRenderer=t,this.cleanFreeRenderer=this.typicalItemChanged=this.itemRendererChanged=!0,this.removeDataProviderListener(),this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"itemRendererSkinName",{get:function(){return this._itemRendererSkinName},set:function(t){this._itemRendererSkinName!=t&&(this._itemRendererSkinName=t)&&this.initialized&&(this.itemRendererSkinNameChange=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"itemRendererFunction",{get:function(){return this._itemRendererFunction},set:function(t){this._itemRendererFunction!=t&&(this._itemRendererFunction=t,this.typicalItemChanged=this.itemRendererChanged=!0,this.removeDataProviderListener(),this.invalidateProperties())},enumerable:!0,configurable:!0}),s.itemToRendererClass=function(t){return null!=this._itemRendererFunction?(t=this._itemRendererFunction(t))||(t=this._itemRenderer):t=this._itemRenderer,t||n.defaultRendererFactory},s.createChildren=function(){if(!this.layout){var n=new e.VerticalLayout;n.gap=0,n.horizontalAlign=t.HorizontalAlign.CONTENT_JUSTIFY,this.layout=n}i.prototype.createChildren.call(this)},s.commitProperties=function(){if((this.itemRendererChanged||this.dataProviderChanged||this.useVirtualLayoutChanged)&&(this.removeAllRenderers(),this.layout&&this.layout.clearVirtualLayoutCache(),this.setTypicalLayoutRect(null),this.itemRendererChanged=this.useVirtualLayoutChanged=!1,this._dataProvider&&this._dataProvider.addEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,this),this.layout&&this.layout.useVirtualLayout?(this.invalidateSize(),this.invalidateDisplayList()):this.createRenderers(),this.dataProviderChanged&&(this.dataProviderChanged=!1,this.verticalScrollPosition=this.horizontalScrollPosition=0)),i.prototype.commitProperties.call(this),this.typicalItemChanged&&(this.typicalItemChanged=!1,this._dataProvider&&0<this._dataProvider.length&&(this.typicalItem=this._dataProvider.getItemAt(0),this.measureRendererSize())),this.itemRendererSkinNameChange){this.itemRendererSkinNameChange=!1;for(var t=this.indexToRenderer.length,n=0;n<t;n++)this.setItemRenderSkinName(this.indexToRenderer[n]);var s,r=this.freeRenderers;for(s in r){var a=r[s];if(a)for(t=a.length,n=0;n<t;n++)this.setItemRenderSkinName(a[n])}}},s.measure=function(){this.layout&&this.layout.useVirtualLayout&&this.ensureTypicalLayoutElement(),i.prototype.measure.call(this)},s.updateDisplayList=function(t,e){this._layoutInvalidateDisplayListFlag&&this.layout&&this.layout.useVirtualLayout&&(this.virtualLayoutUnderway=!0,this.ensureTypicalLayoutElement()),i.prototype.updateDisplayList.call(this,t,e),this.virtualLayoutUnderway&&this.finishVirtualLayout()},s.ensureTypicalLayoutElement=function(){!this.layout.typicalLayoutRect&&this._dataProvider&&0<this._dataProvider.length&&(this.typicalItem=this._dataProvider.getItemAt(0),this.measureRendererSize())},s.measureRendererSize=function(){if(this.typicalItem){var e=this.itemToRendererClass(this.typicalItem);if(e=this.createOneRenderer(e)){this.createNewRendererFlag=!0,this.updateRenderer(e,0,this.typicalItem),"validateNow"in e&&e.validateNow();var i=new t.Rectangle(0,0,e.preferredWidth,e.preferredHeight);this.recycle(e),this.setTypicalLayoutRect(i),this.createNewRendererFlag=!1}else this.setTypicalLayoutRect(null)}else this.setTypicalLayoutRect(null)},s.setTypicalLayoutRect=function(t){this.typicalLayoutRect=t,this.layout&&(this.layout.typicalLayoutRect=t)},s.removeAllRenderers=function(){for(var t,i=this.indexToRenderer.length,n=0;n<i;n++)(t=this.indexToRenderer[n])&&(this.recycle(t),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_REMOVE,t,t.itemIndex,t.data));this.indexToRenderer=[],this.virtualRendererIndices=null,this.cleanFreeRenderer&&this.cleanAllFreeRenderer()},s.createRenderers=function(){if(this._dataProvider)for(var t=0,i=this._dataProvider.length,n=0;n<i;n++){var s=this._dataProvider.getItemAt(n),r=this.itemToRendererClass(s);(r=this.createOneRenderer(r))&&(this.indexToRenderer[t]=r,this.updateRenderer(r,t,s),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,r,t,s),t++)}},s.updateRenderer=function(t,e,i){return this.renderersBeingUpdated=!0,this._rendererOwner?t=this._rendererOwner.updateRenderer(t,e,i):("ownerChanged"in t&&t.ownerChanged(this),t.itemIndex=e,t.label=this.itemToLabel(i),t.data=i),this.renderersBeingUpdated=!1,t},s.itemToLabel=function(t){return t?t.toString():" "},s.getElementAt=function(t){return this.indexToRenderer[t]},s.getElementIndex=function(t){return t?this.indexToRenderer.indexOf(t):-1},Object.defineProperty(s,"numElements",{get:function(){return this._dataProvider?this._dataProvider.length:0},enumerable:!0,configurable:!0}),s.addChild=function(e){throw Error(t.getString(3004,t.getString(3003)))},s.addChildAt=function(e,i){throw Error(t.getString(3005,t.getString(3003)))},s.removeChild=function(e){throw Error(t.getString(3006,t.getString(3003)))},s.removeChildAt=function(e){throw Error(t.getString(3007,t.getString(3003)))},s.setChildIndex=function(e,i){throw Error(t.getString(3008,t.getString(3003)))},s.swapChildren=function(e,i){throw Error(t.getString(3009,t.getString(3003)))},s.swapChildrenAt=function(e,i){throw Error(t.getString(3010,t.getString(3003)))},n.defaultRendererFactory=new e.ClassFactory(e.ItemRenderer),n}(e.GroupBase);e.DataGroup=i,i.prototype.__class__="egret.gui.DataGroup"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(){e.call(this)}__extends(i,e);var n=i.prototype;return n.pointToValue=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.maximum-this.minimum,n=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth;return this.minimum+(0!=n?t/n*i:0)},n.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth,e=0<(i=this.maximum-this.minimum)?(this.pendingValue-this.minimum)/i*e:0,i=(n=this.track.localToGlobal(e,0)).x,n=n.y,s=this.thumb.parent.globalToLocal(i,n,t.Point.identity).x;this.thumb.setLayoutBoundsPosition(Math.round(s),this.thumb.layoutBoundsY),this.showTrackHighlight&&this.trackHighlight&&this.trackHighlight.parent&&(i=this.trackHighlight.parent.globalToLocal(i,n,t.Point.identity).x-e,this.trackHighlight.x=Math.round(i),this.trackHighlight.width=Math.round(e))}},i}(e.SliderBase);e.HSlider=i,i.prototype.__class__="egret.gui.HSlider"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(){e.apply(this,arguments),this._thumbLengthRatio=1}__extends(i,e);var n=i.prototype;return n._setViewportMetric=function(t,e){var i=Math.max(0,e-t);this._setMaximun(i),this._setMinimun(0),this._thumbLengthRatio=e>t?t/e:1},Object.defineProperty(n,"trackAlpha",{get:function(){return 1},set:function(e){t.Logger.warningWithErrorId(1016,"HScrollBar.trackAlpha")},enumerable:!0,configurable:!0}),Object.defineProperty(n,"thumbAlpha",{get:function(){return 1},set:function(e){t.Logger.warningWithErrorId(1016,"HScrollBar.thumbAlpha")},enumerable:!0,configurable:!0}),n.setPosition=function(t){this._setValue(t)},n.getPosition=function(){return this._getValue()},n._setValue=function(t){t=Math.max(0,t),e.prototype._setValue.call(this,t)},n.setValue=function(t){e.prototype.setValue.call(this,t)},n._animationUpdateHandler=function(e){this.value=this.pendingValue=e.currentValue.value,this.dispatchEventWith(t.Event.CHANGE)},n.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.track.layoutBoundsWidth*this._thumbLengthRatio,i=this.thumb.layoutBoundsWidth,n=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth,s=this.maximum-this.minimum,n=this.track.localToGlobal(0<s?(this.pendingValue-this.minimum)/s*n:0,0),n=this.thumb.parent.globalToLocal(n.x,n.y,t.Point.identity).x;this.thumb.setLayoutBoundsPosition(Math.round(n),this.thumb.layoutBoundsY),e!=i&&this.thumb.setLayoutBoundsSize(e,this.thumb.layoutBoundsHeight)}},i}(e.HSlider);e.HScrollBar=i,i.prototype.__class__="egret.gui.HScrollBar"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(){e.call(this)}__extends(i,e);var n=i.prototype;return n.pointToValue=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.maximum-this.minimum,n=this.track.layoutBoundsHeight-this.thumb.layoutBoundsHeight;return this.minimum+(0!=n?(n-e)/n*i:0)},n.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.thumb.layoutBoundsHeight,i=this.track.layoutBoundsHeight-e,n=this.maximum-this.minimum,n=(s=this.track.localToGlobal(0,0<n?i-(this.pendingValue-this.minimum)/n*i:0)).x,s=s.y,r=this.thumb.parent.globalToLocal(n,s,t.Point.identity).y;this.thumb.setLayoutBoundsPosition(this.thumb.layoutBoundsX,Math.round(r)),this.showTrackHighlight&&this.trackHighlight&&this.trackHighlight._DO_Props_._parent&&(n=this.trackHighlight._DO_Props_._parent.globalToLocal(n,s,t.Point.identity).y,this.trackHighlight.y=Math.round(n+e),this.trackHighlight.height=Math.round(i-n))}},i}(e.SliderBase);e.VSlider=i,i.prototype.__class__="egret.gui.VSlider"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this._thumbLengthRatio=1}__extends(i,e);var n=i.prototype;return n._setViewportMetric=function(t,e){var i=Math.max(0,e-t);this._thumbLengthRatio=e<=t?1:t/e,this._setMaximun(i),this._setMinimun(0)},Object.defineProperty(n,"trackAlpha",{get:function(){return 1},set:function(e){t.Logger.warningWithErrorId(1016,"VScrollBar.trackAlpha")},enumerable:!0,configurable:!0}),Object.defineProperty(n,"thumbAlpha",{get:function(){return 1},set:function(e){t.Logger.warningWithErrorId(1016,"VScrollBar.thumbAlpha")},enumerable:!0,configurable:!0}),n.setPosition=function(t){this._setValue(t)},n.getPosition=function(){return this._getValue()},n._setValue=function(t){t=Math.max(0,t),e.prototype._setValue.call(this,t)},n.setValue=function(t){e.prototype.setValue.call(this,t)},n._animationUpdateHandler=function(e){this.value=this.pendingValue=e.currentValue.value,this.dispatchEventWith(t.Event.CHANGE)},n.pointToValue=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.maximum-this.minimum,n=this.track.layoutBoundsHeight-this.thumb.layoutBoundsHeight;return this.minimum+(0!=n?e/n*i:0)},n.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.track.layoutBoundsHeight*this._thumbLengthRatio,i=this.thumb.layoutBoundsHeight,n=this.track.layoutBoundsHeight-e,s=this.maximum-this.minimum,n=this.track.localToGlobal(0,0<s?(this.pendingValue-this.minimum)/s*n:0),n=this.thumb.parent.globalToLocal(n.x,n.y,t.Point.identity).y;this.thumb.setLayoutBoundsPosition(this.thumb.layoutBoundsX,Math.round(n)),e!=i&&this.thumb.setLayoutBoundsSize(this.thumb.layoutBoundsWidth,e)}},i}(e.VSlider);e.VScrollBar=i,i.prototype.__class__="egret.gui.VScrollBar"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this._displayPopUp=this._popUpWidthMatchesAnchorWidth=this._popUpHeightMatchesAnchorHeight=this.addedToStage=this.popUpIsDisplayed=!1,this._popUp=null,this._relativeToStage=!1,this._popUpPosition=e.PopUpPosition.TOP_LEFT,this.inAnimation=!1,this.animator=null,this._openDuration=250,this._closeDuration=150,this.valueRange=1,this.addEventListener(t.Event.ADDED_TO_STAGE,this.addedToStageHandler,this),this.addEventListener(t.Event.REMOVED_FROM_STAGE,this.removedFromStageHandler,this)}__extends(n,i);var s=n.prototype;return Object.defineProperty(s,"popUpHeightMatchesAnchorHeight",{get:function(){return this._popUpHeightMatchesAnchorHeight},set:function(t){this._popUpHeightMatchesAnchorHeight!=t&&(this._popUpHeightMatchesAnchorHeight=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"popUpWidthMatchesAnchorWidth",{get:function(){return this._popUpWidthMatchesAnchorWidth},set:function(t){this._popUpWidthMatchesAnchorWidth!=t&&(this._popUpWidthMatchesAnchorWidth=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"displayPopUp",{get:function(){return this._displayPopUp},set:function(t){this._displayPopUp!=t&&(this._displayPopUp=t,this.addOrRemovePopUp())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"popUp",{get:function(){return this._popUp},set:function(t){this._popUp!=t&&(this._popUp=t,this.dispatchEventWith("popUpChanged"))},enumerable:!0,configurable:!0}),Object.defineProperty(s,"popUpPosition",{get:function(){return this._popUpPosition},set:function(t){this._popUpPosition!=t&&(this._relativeToStage=t==e.PopUpPosition.SCREEN_CENTER,this._popUpPosition=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),s.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.applyPopUpTransform(t,e)},s.updatePopUpTransform=function(){this.applyPopUpTransform(this.width,this.height)},s.calculatePopUpPosition=function(){var i=t.Point.identity;switch(this._popUpPosition){case e.PopUpPosition.BELOW:i.x=0,i.y=this.height;break;case e.PopUpPosition.ABOVE:i.x=0,i.y=-this.popUp.layoutBoundsHeight;break;case e.PopUpPosition.LEFT:i.x=-this.popUp.layoutBoundsWidth,i.y=0;break;case e.PopUpPosition.RIGHT:i.x=this.width,i.y=0;break;case e.PopUpPosition.CENTER:i.x=.5*(this.width-this.popUp.layoutBoundsWidth),i.y=.5*(this.height-this.popUp.layoutBoundsHeight)}return i=this.localToGlobal(i.x,i.y,i),i=this.popUp.parent.globalToLocal(i.x,i.y,i)},Object.defineProperty(s,"openDuration",{get:function(){return this._openDuration},set:function(t){this._openDuration=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"closeDuration",{get:function(){return this._closeDuration},set:function(t){this._closeDuration=t},enumerable:!0,configurable:!0}),s.animationStartHandler=function(t){this.inAnimation=!0,this.popUp&&"enabled"in this.popUp&&(this.popUp.enabled=!1)},s.animationUpdateHandler=function(e){var i=this.popUp._DO_Props_._scrollRect,n=Math.round(e.currentValue.x);e=Math.round(e.currentValue.y),i?(i.x=n,i.y=e,i.width=this.popUp.width,i.height=this.popUp.height,this.popUp._setScrollRect(i)):this.popUp._DO_Props_._scrollRect=new t.Rectangle(n,e,this.popUp.width,this.popUp.height)},s.animationEndHandler=function(t){this.inAnimation=!1,this.popUp&&"enabled"in this.popUp&&(this.popUp.enabled=!0),this.popUp.scrollRect=null,this.popUpIsDisplayed||(e.PopUpManager.removePopUp(this.popUp),this.popUp.ownerChanged(null))},s.addOrRemovePopUp=function(){this.addedToStage&&this.popUp&&(null==this.popUp.parent&&this.displayPopUp?(e.PopUpManager.addPopUp(this.popUp,this._relativeToStage,this._relativeToStage),this.popUp.ownerChanged(this),this.popUpIsDisplayed=!0,this.inAnimation&&this.animator.end(),this.initialized?(this.applyPopUpTransform(this.width,this.height),0<this._openDuration&&this.startAnimation()):t.callLater(function(){0<this.openDuration&&this.startAnimation()},this)):null==this.popUp.parent||this.displayPopUp||this.removeAndResetPopUp())},s.removeAndResetPopUp=function(){this.inAnimation&&this.animator.end(),this.popUpIsDisplayed=!1,0<this._closeDuration?this.startAnimation():(e.PopUpManager.removePopUp(this.popUp),this.popUp.ownerChanged(null))},s.applyPopUpTransform=function(t,e){if(this.popUpIsDisplayed){this.popUpWidthMatchesAnchorWidth&&(this.popUp.width=t),this.popUpHeightMatchesAnchorHeight&&(this.popUp.height=e),"validateNow"in this.popUp&&this.popUp.validateNow();var i=this.calculatePopUpPosition();this.popUp.x=i.x,this.popUp.y=i.y}},s.startAnimation=function(){this.animator||(this.animator=new e.Animation(this.animationUpdateHandler,this),this.animator.endFunction=this.animationEndHandler,this.animator.startFunction=this.animationStartHandler),this.animator.motionPaths=this.createMotionPath(),this.animator.duration=this.popUpIsDisplayed?this._openDuration:this._closeDuration,this.animator.play()},s.createMotionPath=function(){var t=new e.SimpleMotionPath("x"),i=new e.SimpleMotionPath("y"),n=[t,i];switch(this._popUpPosition){case e.PopUpPosition.TOP_LEFT:case e.PopUpPosition.CENTER:case e.PopUpPosition.BELOW:t.valueFrom=t.valueTo=0,i.valueFrom=this.popUp.height,i.valueTo=0,this.valueRange=this.popUp.height;break;case e.PopUpPosition.ABOVE:t.valueFrom=t.valueTo=0,i.valueFrom=-this.popUp.height,i.valueTo=0,this.valueRange=this.popUp.height;break;case e.PopUpPosition.LEFT:i.valueFrom=i.valueTo=0,t.valueFrom=-this.popUp.width,t.valueTo=0,this.valueRange=this.popUp.width;break;case e.PopUpPosition.RIGHT:i.valueFrom=i.valueTo=0,t.valueFrom=this.popUp.width,t.valueTo=0,this.valueRange=this.popUp.width;break;default:this.valueRange=1}if(this.valueRange=Math.abs(this.valueRange),!this.popUpIsDisplayed){var s=t.valueFrom;t.valueFrom=t.valueTo,t.valueTo=s,s=i.valueFrom,i.valueFrom=i.valueTo,i.valueTo=s}return n},s.addedToStageHandler=function(e){this.addedToStage=!0,t.callLater(this.checkPopUpState,this)},s.checkPopUpState=function(){this.addedToStage?this.addOrRemovePopUp():null!=this.popUp&&null!=this.popUp.parent&&this.removeAndResetPopUp()},s.removedFromStageHandler=function(e){this.addedToStage=!1,t.callLater(this.checkPopUpState,this)},n}(e.UIComponent);e.PopUpAnchor=i,i.prototype.__class__="egret.gui.PopUpAnchor"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){this._viewport=null,this._autoHideScrollBars=!0,this._autoHideTimer=NaN,this._autoHideDelay=300,this._autoHideShowAnimat=null,this._animatTargetIsShow=!1};t.ScrollerProperties=e,e.prototype.__class__="egret.gui.ScrollerProperties"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this.verticalScrollBar=this.horizontalScrollBar=null,t.ScrollView.call(this),this._Scr_Props_=new t.gui.ScrollerProperties}__extends(n,i);var s=n.prototype;return s.setContent=function(t){this._content=t,this._removeEvents(),this._addEvents(),this._ScrV_Props_._scrollLeft=t.horizontalScrollPosition,this._ScrV_Props_._scrollTop=t.verticalScrollPosition},s._updateContentPosition=function(){var e=this._content;e.horizontalScrollPosition=this._ScrV_Props_._scrollLeft,e.verticalScrollPosition=this._ScrV_Props_._scrollTop,e.setLayoutBoundsSize(this._UIC_Props_._width,this._UIC_Props_._height),this.dispatchEvent(new t.Event(t.Event.CHANGE))},s.getMaxScrollLeft=function(){var t=this._content;return Math.max(t.contentWidth-t.width,t.initialized?0:t.horizontalScrollPosition||0)},s.getMaxScrollTop=function(){var t=this._content;return Math.max(t.contentHeight-t.height,t.initialized?0:t.verticalScrollPosition||0)},s._getContentWidth=function(){return this._content.contentWidth},s._getContentHeight=function(){return this._content.contentHeight},s._onScrollStarted=function(){t.ScrollView.prototype._onScrollStarted.call(this),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START)},s._onScrollFinished=function(){t.ScrollView.prototype._onScrollFinished.call(this),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},s.measure=function(){this._Scr_Props_._viewport&&(this.measuredWidth=this._Scr_Props_._viewport.preferredWidth,this.measuredHeight=this._Scr_Props_._viewport.preferredHeight)},s.updateDisplayList=function(t,i){if(this.viewport&&this.viewport.setLayoutBoundsSize(t,i),this._checkScrollPolicy(),"off"!=this._ScrV_Props_._horizontalScrollPolicy){var n=this.viewport.horizontalScrollPosition,s=this.getMaxScrollLeft(),n=Math.min(n,s);this.setViewportHScrollPosition(n),(n=this.horizontalScrollBar)&&(n._setViewportMetric(t,this._Scr_Props_._viewport.contentWidth),n._setWidth(t-(n.left||0)-(n.right||0)),n.x=n.left||0,n.y=i-this.horizontalScrollBar.layoutBoundsHeight,n.visible=this._ScrV_Props_._horizontalScrollPolicy==e.ScrollPolicy.ON||this._ScrV_Props_._hCanScroll,this._Scr_Props_._autoHideScrollBars&&(n.alpha=0))}"off"!=this._ScrV_Props_._verticalScrollPolicy&&(n=this.viewport.verticalScrollPosition,s=this.getMaxScrollTop(),n=Math.min(n,s),this.setViewportVScrollPosition(n),n=this.verticalScrollBar)&&(n._setViewportMetric(i,this._Scr_Props_._viewport.contentHeight),n._setHeight(i-(n.top||0)-(n.bottom||0)),n.y=n.top||0,n.x=t-this.verticalScrollBar.layoutBoundsWidth,n.visible=this._ScrV_Props_._verticalScrollPolicy==e.ScrollPolicy.ON||this._ScrV_Props_._vCanScroll,this._Scr_Props_._autoHideScrollBars&&(n.alpha=0))},Object.defineProperty(s,"verticalScrollPolicy",{get:function(){return this._ScrV_Props_._verticalScrollPolicy},set:function(t){t!=this._ScrV_Props_._verticalScrollPolicy&&(this._ScrV_Props_._verticalScrollPolicy=t,this._checkVbar(),this.verticalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"horizontalScrollPolicy",{get:function(){return this._ScrV_Props_._horizontalScrollPolicy},set:function(t){t!=this._ScrV_Props_._horizontalScrollPolicy&&(this._ScrV_Props_._horizontalScrollPolicy=t,this._checkHbar(),this.horizontalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"viewport",{get:function(){return this._Scr_Props_._viewport},set:function(t){t!=this._Scr_Props_._viewport&&(this.uninstallViewport(),this._Scr_Props_._viewport=t,this.installViewport(),this.dispatchEventWith("viewportChanged"))},enumerable:!0,configurable:!0}),s.installViewport=function(){var e=this.viewport;this.addEventListener(t.Event.CHANGE,this._scrollerChangedHandler,this),this._createChildrenCalled&&e&&(e.clipAndEnableScrolling=!0,this.setContent(e),this._addToDisplayListAt(e,0),e.addEventListener(t.gui.PropertyChangeEvent.PROPERTY_CHANGE,this._viewportChangedHandler,this))},s.uninstallViewport=function(){this.viewport&&(this.viewport.clipAndEnableScrolling=!1,this.viewport.removeEventListener(t.gui.PropertyChangeEvent.PROPERTY_CHANGE,this._viewportChangedHandler,this),this._removeFromDisplayList(this.viewport))},s._viewportChangedHandler=function(t){"horizontalScrollPosition"==t.property&&this.setViewportHScrollPosition(this.viewport.horizontalScrollPosition),"verticalScrollPosition"==t.property&&this.setViewportVScrollPosition(this.viewport.verticalScrollPosition),"contentWidth"!=t.property&&"contentHeight"!=t.property||(this.invalidateDisplayList(),this.invalidateSize())},s._scrollerChangedHandler=function(t){this.setViewportHScrollPosition(this.scrollLeft),this.setViewportVScrollPosition(this.scrollTop)},s.setViewportVScrollPosition=function(t){this.scrollTop!=t&&(this.scrollTop=t),this.verticalScrollBar&&this.verticalScrollBar.value!=t&&(this.verticalScrollBar.setPosition(t),this.hideOrShow(!0),this.setAutoHideTimer())},s.setViewportHScrollPosition=function(t){this.scrollLeft!=t&&(this.scrollLeft=t),this.horizontalScrollBar&&this.horizontalScrollBar.value!=t&&(this.horizontalScrollBar._setValue(t),this.hideOrShow(!0),this.setAutoHideTimer())},s.throwHorizontally=function(t,e){void 0===e&&(e=500),this.setScrollLeft(t,e)},s.throwVertically=function(t,e){void 0===e&&(e=500),this.setScrollTop(t,e)},Object.defineProperty(s,"autoHideScrollBars",{get:function(){return this._Scr_Props_._autoHideScrollBars},set:function(t){this._Scr_Props_._autoHideScrollBars!=t&&((this._Scr_Props_._autoHideScrollBars=t)?this.setAutoHideTimer():this.hideOrShow(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(s,"autoHideDelay",{get:function(){return this._Scr_Props_._autoHideDelay},set:function(t){this._Scr_Props_._autoHideDelay!=t&&(this._Scr_Props_._autoHideDelay=t)},enumerable:!0,configurable:!0}),s.setAutoHideTimer=function(){this._Scr_Props_._autoHideScrollBars&&this.initialized&&(this.horizontalScrollBar||this.verticalScrollBar)&&(NaN!=this._Scr_Props_._autoHideTimer&&t.clearTimeout(this._Scr_Props_._autoHideTimer),this._Scr_Props_._autoHideTimer=t.setTimeout(this.hideOrShow.bind(this,!1),this,this._Scr_Props_._autoHideDelay))},s.hideOrShow=function(t){var i=this;if(this.initialized&&(this.horizontalScrollBar||this.verticalScrollBar)){if(null==this._Scr_Props_._autoHideShowAnimat)this._Scr_Props_._autoHideShowAnimat=new e.Animation(function(t){t=t.currentValue.alpha,i.horizontalScrollBar&&(i.horizontalScrollBar.alpha=t),i.verticalScrollBar&&(i.verticalScrollBar.alpha=t)},this);else{if(this._Scr_Props_._animatTargetIsShow==t)return;this._Scr_Props_._autoHideShowAnimat.isPlaying&&this._Scr_Props_._autoHideShowAnimat.stop()}this._Scr_Props_._animatTargetIsShow=t;var n=this._Scr_Props_._autoHideShowAnimat;n.motionPaths=[new e.SimpleMotionPath("alpha",t?0:1,t?1:0)],n.duration=t?100:300,n.play()}},Object.defineProperty(s,"numElements",{get:function(){return this.viewport?1:0},enumerable:!0,configurable:!0}),s.throwRangeError=function(e){throw new RangeError(t.getString(3011,e))},s.getElementAt=function(t){return this.viewport&&0==t?this.viewport:(this.throwRangeError(t),null)},s.getElementIndex=function(t){return null!=t&&t==this.viewport?0:-1},s.containsElement=function(t){return null!=t&&t==this.viewport},s.throwNotSupportedError=function(){throw Error(t.getString(3012))},s.addElement=function(t){return this.throwNotSupportedError(),null},s.addElementAt=function(t,e){return this.throwNotSupportedError(),null},s.removeElement=function(t){return this.throwNotSupportedError(),null},s.removeElementAt=function(t){return this.throwNotSupportedError(),null},s.removeAllElements=function(){this.throwNotSupportedError()},s.setElementIndex=function(t,e){this.throwNotSupportedError()},s.swapElements=function(t,e){this.throwNotSupportedError()},s.swapElementsAt=function(t,e){this.throwNotSupportedError()},s.addChild=function(t){return this.throwNotSupportedError(),null},s.addChildAt=function(t,e){return this.throwNotSupportedError(),null},s.removeChild=function(t){return this.throwNotSupportedError(),null},s.removeChildAt=function(t){return this.throwNotSupportedError(),null},s.setChildIndex=function(t,e){this.throwNotSupportedError()},s.swapChildren=function(t,e){this.throwNotSupportedError()},s.swapChildrenAt=function(t,e){this.throwNotSupportedError()},s._checkHbar=function(){if("off"==this._ScrV_Props_._horizontalScrollPolicy)this._uninstallHorizontalScrollBar();else if(this.horizontalScrollBar){var e=this.horizontalScrollBar;e.addEventListener(t.Event.CHANGE,this.hBarChanged,this,!1),e._setViewportMetric(this._Scr_Props_._viewport.width,this._Scr_Props_._viewport.contentWidth),e.owner&&"removeElement"in e.owner&&e.owner.removeElement(e),this._addToDisplayList(this.horizontalScrollBar)}},s._checkVbar=function(){if("off"==this._ScrV_Props_._verticalScrollPolicy)this._uninstallVerticalScrollBar();else if(this.verticalScrollBar&&this.verticalScrollBar.owner!=this){var e=this.verticalScrollBar;e.addEventListener(t.Event.CHANGE,this.vBarChanged,this,!1),e._setViewportMetric(this._Scr_Props_._viewport.height,this._Scr_Props_._viewport.contentHeight),e.owner&&"removeElement"in e.owner&&e.owner.removeElement(e),this._addToDisplayList(this.verticalScrollBar)}},s.createChildren=function(){i.prototype.createChildren.call(this),this.installViewport()},s.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.horizontalScrollBar&&this._checkHbar(),e==this.verticalScrollBar&&this._checkVbar()},s.partRemoved=function(t,e){i.prototype.partRemoved.call(this,t,e),this.horizontalScrollBar==e&&(this.horizontalScrollBar.parent==this&&this._uninstallHorizontalScrollBar(),this.horizontalScrollBar=null),this.verticalScrollBar==e&&(this.verticalScrollBar.parent==this&&this._uninstallVerticalScrollBar(),this.verticalScrollBar=null)},s._uninstallHorizontalScrollBar=function(){null!=this.horizontalScrollBar&&(this._removeFromDisplayList(this.horizontalScrollBar),this.horizontalScrollBar.removeEventListener(t.Event.CHANGE,this.hBarChanged,this,!1))},s._uninstallVerticalScrollBar=function(){null!=this.verticalScrollBar&&(this._removeFromDisplayList(this.verticalScrollBar),this.verticalScrollBar.removeEventListener(t.Event.CHANGE,this.vBarChanged,this,!1))},s.hBarChanged=function(t){this.setViewportHScrollPosition(this.horizontalScrollBar._getValue())},s.vBarChanged=function(t){this.setViewportVScrollPosition(this.verticalScrollBar.getPosition())},s.hitTest=function(t,e,n){void 0===n&&(n=!1);var s=i.prototype.hitTest.call(this,t,e,n);return s||(this._DO_Props_._visible&&(n||this._DO_Props_._touchEnabled)&&0<=t&&t<this.width&&0<=e&&e<this.height?this:null)},n}(e.SkinnableComponent);e.Scroller=i,i.prototype.__class__="egret.gui.Scroller";for(var n in t.ScrollView.prototype)if(t.ScrollView.prototype.hasOwnProperty(n)&&!i.prototype.hasOwnProperty(n)&&!e.SkinnableComponent.prototype.hasOwnProperty(n)&&!e.UIComponent.prototype.hasOwnProperty(n)){var s=Object.getOwnPropertyDescriptor(t.ScrollView.prototype,n);s&&(s.get||s.set)?Object.defineProperty(i.prototype,n,s):i.prototype[n]=t.ScrollView.prototype[n]}}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this._selectable=!0,this._displayAsPassword=!1,this._editable=this.pendingEditable=this.displayAsPasswordChanged=!0,this.editableChanged=!1,this._maxChars=0,this.maxCharsChanged=!1,this._multiline=!0,this.multilineChanged=!1,this._restrict=null,this.restrictChanged=!1,this._heightInLines=NaN,this.heightInLinesChanged=!1,this._widthInChars=NaN,this.widthInCharsChanged=!1,this._verticalScrollPosition=this._horizontalScrollPosition=this._contentHeight=this._contentWidth=0,this._clipAndEnableScrolling=!1,this.defaultWidth=this.defaultHeight=NaN,this.isValidating=!1,this.selectable=!0}__extends(n,i);var s=n.prototype;return Object.defineProperty(s,"selectable",{get:function(){return this._selectable},set:function(t){this._selectable=t},enumerable:!0,configurable:!0}),Object.defineProperty(s,"displayAsPassword",{get:function(){return this._displayAsPassword},set:function(t){t!=this._displayAsPassword&&(this._displayAsPassword=t,this.displayAsPasswordChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"editable",{get:function(){return this._UIC_Props_._enabled?this._editable:this.pendingEditable},set:function(t){this._editable!=t&&(this._UIC_Props_._enabled?(this._editable=t,this.editableChanged=!0,this.invalidateProperties()):this.pendingEditable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"enabled",{get:function(){return this._editable},set:function(t){t!=this._UIC_Props_._enabled&&(this._UIC_Props_._enabled=t,this._UIC_Props_._enabled?(this._editable!=this.pendingEditable&&(this.editableChanged=!0),this._editable=this.pendingEditable):(this.editable&&(this.editableChanged=!0),this.pendingEditable=this._editable,this._editable=!1),this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"maxChars",{get:function(){return this._maxChars},set:function(t){void 0===t&&(t=0),t!=this._maxChars&&(this._maxChars=t,this.maxCharsChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"multiline",{get:function(){return this._multiline},set:function(t){t!=this.multiline&&(this._multiline=t,this.multilineChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"restrict",{get:function(){return this._restrict},set:function(t){t!=this._restrict&&(this._restrict=t,this.restrictChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),s.styleChanged=function(t){i.prototype.styleChanged.call(this,t),t&&"size"!=t||(this.widthInCharsChanged=this.heightInLinesChanged=!0)},s._setLineSpacing=function(t){this._lineSpacing!=t&&(i.prototype._setLineSpacing.call(this,t),this.heightInLinesChanged=!0)},Object.defineProperty(s,"heightInLines",{get:function(){return this._heightInLines},set:function(t){this._heightInLines!=t&&(this._heightInLines=t,this.heightInLinesChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"widthInChars",{get:function(){return this._widthInChars},set:function(t){this._widthInChars!=t&&(this._widthInChars=t,this.widthInCharsChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"contentWidth",{get:function(){return this._contentWidth},enumerable:!0,configurable:!0}),s.setContentWidth=function(t){if(t!=this._contentWidth){var e=this._contentWidth;this._contentWidth=t,this.dispatchPropertyChangeEvent("contentWidth",e,t)}},Object.defineProperty(s,"contentHeight",{get:function(){return this._contentHeight},enumerable:!0,configurable:!0}),s.setContentHeight=function(t){if(t!=this._contentHeight){var e=this._contentHeight;this._contentHeight=t,this.dispatchPropertyChangeEvent("contentHeight",e,t)}},Object.defineProperty(s,"horizontalScrollPosition",{get:function(){return this._horizontalScrollPosition},set:function(t){this._horizontalScrollPosition!=t&&(this._horizontalScrollPosition=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"verticalScrollPosition",{get:function(){return this._verticalScrollPosition},set:function(t){this._verticalScrollPosition!=t&&(this._verticalScrollPosition=t=Math.round(t))},enumerable:!0,configurable:!0}),s.getScrollVByVertitcalPos=function(t){if(0==this._textField.numLines)return 1;var e=this._textField._getLineHeight();return this._textField.height+(this.height-4)%e-this.height==t?this._textField.maxScrollV:parseInt((t-2)/e)+1},s.getVerticalPosByScrollV=function(t){if(void 0===t&&(t=0),1==t||0==this._textField.numLines)return 0;var e=this._textField._getLineHeight();return t==this._textField.maxScrollV?this._textField.height+(this.height-4)%e-this.height:e*(t-1)+2},s.getHorizontalScrollPositionDelta=function(t){void 0===t&&(t=0);var i=0,n=this._contentWidth-this._horizontalScrollPosition-this.width,s=-this._horizontalScrollPosition;switch(t){case e.NavigationUnit.LEFT:i=0>=this._horizontalScrollPosition?0:Math.max(s,-this.size);break;case e.NavigationUnit.RIGHT:i=this._horizontalScrollPosition+this.width>=this.contentWidth?0:Math.min(n,this.size);break;case e.NavigationUnit.PAGE_LEFT:i=Math.max(s,-this.width);break;case e.NavigationUnit.PAGE_RIGHT:i=Math.min(n,this.width);break;case e.NavigationUnit.HOME:i=s;break;case e.NavigationUnit.END:i=n}return i},s.getVerticalScrollPositionDelta=function(t){void 0===t&&(t=0);var i=0,n=this._contentHeight-this._verticalScrollPosition-this.height,s=-this._verticalScrollPosition;switch(t){case e.NavigationUnit.UP:i=this.getVScrollDelta(-1);break;case e.NavigationUnit.DOWN:i=this.getVScrollDelta(1);break;case e.NavigationUnit.PAGE_UP:i=Math.max(s,-this.width);break;case e.NavigationUnit.PAGE_DOWN:i=Math.min(n,this.width);break;case e.NavigationUnit.HOME:i=s;break;case e.NavigationUnit.END:i=n}return i},s.getVScrollDelta=function(t){return void 0===t&&(t=0),this._textField?(t=this.getScrollVByVertitcalPos(this._verticalScrollPosition)+t,t=Math.max(1,Math.min(this._textField.maxScrollV,t)),this.getVerticalPosByScrollV(t)-this._verticalScrollPosition):0},Object.defineProperty(s,"clipAndEnableScrolling",{get:function(){return this._clipAndEnableScrolling},set:function(t){this._clipAndEnableScrolling!=t&&(this._clipAndEnableScrolling=t)},enumerable:!0,configurable:!0}),s.commitProperties=function(){if(this._textField||(this.restrictChanged=this.multilineChanged=this.maxCharsChanged=this.displayAsPasswordChanged=this.editableChanged=!0),i.prototype.commitProperties.call(this),this.editableChanged&&(this._textField.type=this._editable?t.TextFieldType.INPUT:t.TextFieldType.DYNAMIC,this.editableChanged=!1),this.displayAsPasswordChanged&&(this._textField.displayAsPassword=this._displayAsPassword,this.displayAsPasswordChanged=!1),this.maxCharsChanged&&(this._textField.maxChars=this._maxChars,this.maxCharsChanged=!1),this.multilineChanged&&(this._textField.multiline=this._multiline,this.multilineChanged=!1),this.restrictChanged&&(this.restrictChanged=!1),this.heightInLinesChanged)if(this.heightInLinesChanged=!1,isNaN(this._heightInLines))this.defaultHeight=NaN;else{var e=parseInt(this.heightInLines),n=22,s=this._textField._TF_Props_;0<s._text.length?n=this._textField._getLineHeight():(s._text="M",n=this._textField._getLineHeight(),s._text=""),this.defaultHeight=e*n+4}this.widthInCharsChanged&&(this.widthInCharsChanged=!1,isNaN(this._widthInChars)?this.defaultWidth=NaN:(e=parseInt(this._widthInChars),this.defaultWidth=this.size*e+5))},s.updateDisplayList=function(t,e){this.isValidating=!0,i.prototype.updateDisplayList.call(this,t,e),this.updateContentSize(),this.isValidating=!1},s.updateContentSize=function(){if(this.clipAndEnableScrolling){this.setContentWidth(this._textField.width);var t=0;0==this._textField.numLines?t=4:(t=this._textField._getLineHeight(),t=this._textField.height+(this.height-4)%t),this.setContentHeight(t)}},Object.defineProperty(s,"selectionBeginIndex",{get:function(){return this.validateProperties(),this._textField?this._textField.selectionBeginIndex:0},enumerable:!0,configurable:!0}),Object.defineProperty(s,"selectionEndIndex",{get:function(){return this.validateProperties(),this._textField?this._textField.selectionEndIndex:0},enumerable:!0,configurable:!0}),Object.defineProperty(s,"caretIndex",{get:function(){return this.validateProperties(),this._textField?this._textField.caretIndex:0},enumerable:!0,configurable:!0}),s.setSelection=function(t,e){void 0===e&&(e=0),this.validateProperties(),this._textField&&this._textField._setSelection(t,e)},s.selectAll=function(){this.validateProperties(),this._textField&&this._textField._setSelection(0,this._textField.text.length)},s.measure=function(){this.measuredWidth=isNaN(this.defaultWidth)?e.TextBase.DEFAULT_MEASURED_WIDTH:this.defaultWidth,0!=this._maxChars&&(this.measuredWidth=Math.min(this.measuredWidth,this._textField.width)),this.measuredHeight=this._multiline?isNaN(this.defaultHeight)?2*e.TextBase.DEFAULT_MEASURED_HEIGHT:this.defaultHeight:this._textField.height},s._createTextField=function(){i.prototype._createTextField.call(this),this._textField.type=this._editable?t.TextFieldType.INPUT:t.TextFieldType.DYNAMIC,this._textField.multiline=this._multiline,this._textField.addEventListener(t.Event.CHANGE,this.textField_changeHandler,this),this._textField.addEventListener("scroll",this.textField_scrollHandler,this),this._textField.addEventListener("input",this.textField_textInputHandler,this)},s.textField_changeHandler=function(e){this._textFieldChanged(),e.stopImmediatePropagation(),this.dispatchEvent(new t.Event(t.Event.CHANGE)),this.invalidateSize(),this.invalidateDisplayList(),this.updateContentSize()},s.textField_scrollHandler=function(t){},s.textField_textInputHandler=function(e){e.stopImmediatePropagation();var i=new t.Event(e.type,!1,!0);i.data=e.data,this.dispatchEvent(i),i.isDefaultPrevented()&&e.preventDefault()},n}(e.TextBase);e.EditableText=i,i.prototype.__class__="egret.gui.EditableText"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)}return __extends(i,e),i.dispatchUIEvent=function(e,n){t.Event._dispatchByTarget(i,e,n)},i.INITIALIZE="initialize",i.CREATION_COMPLETE="creationComplete",i.UPDATE_COMPLETE="updateComplete",i.BUTTON_DOWN="buttonDown",i.CHANGE_END="changeEnd",i.CHANGE_START="changeStart",i.CHANGING="changing",i.VALUE_COMMIT="valueCommit",i.SKIN_CHANGED="skinChanged",i.CONTENT_CHANGED="contentChanged",i.OPEN="open",i.CLOSE="close",i.PLAY_COMPLETE="playComplete",i}(t.Event);e.UIEvent=i,i.prototype.__class__="egret.gui.UIEvent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(t,i,n,s,r,a,o,h){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===r&&(r=null),void 0===a&&(a=null),void 0===o&&(o=null),void 0===h&&(h=null),e.call(this,t,i,n),this.source=this.property=this.oldValue=this.newValue=this.kind=null,this.kind=s,this.property=r,this.oldValue=a,this.newValue=o,this.source=h}return __extends(i,e),i.dispatchPropertyChangeEvent=function(e,n,s,r,a,o){void 0===n&&(n=null),void 0===s&&(s=null),void 0===r&&(r=null),void 0===a&&(a=null),void 0===o&&(o=null);var h=t.Event._getPropertyData(i);h.kind=n,h.property=s,h.oldValue=r,h.newValue=a,h.source=o,t.Event._dispatchByTarget(i,e,i.PROPERTY_CHANGE,h)},i.PROPERTY_CHANGE="propertyChange",i}(t.Event);e.PropertyChangeEvent=i,i.prototype.__class__="egret.gui.PropertyChangeEvent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){function t(){}return t.UPDATE="update",t.DELETE="delete",t}();t.PropertyChangeEventKind=e,e.prototype.__class__="egret.gui.PropertyChangeEventKind"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(t,i,n,s,r){void 0===i&&(i=NaN),void 0===n&&(n=NaN),void 0===s&&(s=!1),void 0===r&&(r=!1),e.call(this,t,s,r),this.oldY=this.oldX=NaN,this.oldX=i,this.oldY=n}return __extends(i,e),i.dispatchMoveEvent=function(e,n,s){void 0===n&&(n=NaN),void 0===s&&(s=NaN);var r=t.Event._getPropertyData(i);r.oldX=n,r.oldY=s,t.Event._dispatchByTarget(i,e,i.MOVE,r)},i.MOVE="move",i}(t.Event);e.MoveEvent=i,i.prototype.__class__="egret.gui.MoveEvent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(t,i,n,s,r){void 0===i&&(i=NaN),void 0===n&&(n=NaN),void 0===s&&(s=!1),void 0===r&&(r=!1),e.call(this,t,s,r),this.oldWidth=this.oldHeight=NaN,this.oldWidth=i,this.oldHeight=n}return __extends(i,e),i.dispatchResizeEvent=function(e,n,s){void 0===n&&(n=NaN),void 0===s&&(s=NaN);var r=t.Event._getPropertyData(i);r.oldWidth=n,r.oldHeight=s,t.Event._dispatchByTarget(i,e,i.RESIZE,r)},i.RESIZE="resize",i}(t.Event);e.ResizeEvent=i,i.prototype.__class__="egret.gui.ResizeEvent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(t,i,n,s,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===r&&(r=null),e.call(this,t,i,n),this.partName=this.instance=null,this.partName=s,this.instance=r}return __extends(i,e),i.dispatchSkinPartEvent=function(e,n,s,r){void 0===s&&(s=null),void 0===r&&(r=null);var a=t.Event._getPropertyData(i);a.partName=s,a.instance=r,t.Event._dispatchByTarget(i,e,n,a)},i.PART_ADDED="partAdded",i.PART_REMOVED="partRemoved",i}(t.Event);e.SkinPartEvent=i,i.prototype.__class__="egret.gui.SkinPartEvent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(t,i,n,s,r,a,o,h){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===r&&(r=-1),void 0===a&&(a=-1),void 0===o&&(o=null),void 0===h&&(h=null),e.call(this,t,i,n),this.oldItems=this.items=this.kind=null,this.kind=s,this.location=r,this.oldLocation=a,this.items=o||[],this.oldItems=h||[]}return __extends(i,e),i.dispatchCollectionEvent=function(e,n,s,r,a,o,h){void 0===s&&(s=null),void 0===r&&(r=-1),void 0===a&&(a=-1),void 0===o&&(o=null),void 0===h&&(h=null);var l=t.Event._getPropertyData(i);l.kind=s,l.location=r,l.oldLocation=a,l.items=o,l.oldItems=h,t.Event._dispatchByTarget(i,e,n,l)},i.COLLECTION_CHANGE="collectionChange",i}(t.Event);e.CollectionEvent=i,i.prototype.__class__="egret.gui.CollectionEvent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){function t(){}return t.ADD="add",t.MOVE="move",t.REFRESH="refresh",t.REMOVE="remove",t.REPLACE="replace",t.RESET="reset",t.UPDATE="update",t.OPEN="open",t.CLOSE="close",t}();t.CollectionEventKind=e,e.prototype.__class__="egret.gui.CollectionEventKind"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(t,i,n,s,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===r&&(r=-1),e.call(this,t,i,n),this.index=NaN,this.element=null,this.element=s,this.index=r}return __extends(i,e),i.dispatchElementExistenceEvent=function(e,n,s,r){void 0===s&&(s=null),void 0===r&&(r=-1);var a=t.Event._getPropertyData(i);a.element=s,a.index=r,t.Event._dispatchByTarget(i,e,n,a)},i.ELEMENT_ADD="elementAdd",i.ELEMENT_REMOVE="elementRemove",i}(t.Event);e.ElementExistenceEvent=i,i.prototype.__class__="egret.gui.ElementExistenceEvent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(t,i,n,s,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===r&&(r=!1),e.call(this,t,i,n),this.popUp=null,this.modal=!1,this.popUp=s,this.modal=r}return __extends(i,e),i.dispatchPopUpEvent=function(e,n,s,r){void 0===s&&(s=null),void 0===r&&(r=!1);var a=t.Event._getPropertyData(i);a.popUp=s,a.modal=r,t.Event._dispatchByTarget(i,e,n,a)},i.ADD_POPUP="addPopUp",i.REMOVE_POPUP="removePopUp",i.BRING_TO_FRONT="bringToFront",i}(t.Event);e.PopUpEvent=i,i.prototype.__class__="egret.gui.PopUpEvent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(t,i,n,s,r,a){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===r&&(r=-1),void 0===a&&(a=null),e.call(this,t,i,n),this.data=null,this.index=NaN,this.renderer=null,this.renderer=s,this.index=r,this.data=a}return __extends(i,e),i.dispatchRendererExistenceEvent=function(e,n,s,r,a){void 0===s&&(s=null),void 0===r&&(r=-1),void 0===a&&(a=null);var o=t.Event._getPropertyData(i);o.renderer=s,o.index=r,o.data=a,t.Event._dispatchByTarget(i,e,n,o)},i.RENDERER_ADD="rendererAdd",i.RENDERER_REMOVE="rendererRemove",i}(t.Event);e.RendererExistenceEvent=i,i.prototype.__class__="egret.gui.RendererExistenceEvent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(t,i,n,s,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===r&&(r=null),e.call(this,t,i,n),this.oldState=this.newState=null,this.oldState=s,this.newState=r}return __extends(i,e),i.dispatchStateChangeEvent=function(e,n,s,r){void 0===s&&(s=null),void 0===r&&(r=null);var a=t.Event._getPropertyData(i);a.oldState=s,a.newState=r,t.Event._dispatchByTarget(i,e,n,a)},i.CURRENT_STATE_CHANGE="currentStateChange",i.CURRENT_STATE_CHANGING="currentStateChanging",i.STATE_CHANGE_COMPLETE="stateChangeComplete",i}(t.Event);e.StateChangeEvent=i,i.prototype.__class__="egret.gui.StateChangeEvent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)}return __extends(i,e),i.dispatchTrackBaseEvent=function(e,n){t.Event._dispatchByTarget(i,e,n)},i.THUMB_DRAG="thumbDrag",i.THUMB_PRESS="thumbPress",i.THUMB_RELEASE="thumbRelease",i}(t.Event);e.TrackBaseEvent=i,i.prototype.__class__="egret.gui.TrackBaseEvent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(t){function e(e,i,n,s){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),t.call(this,e,i,n),this.effectInstance=s}return __extends(e,t),e.EFFECT_END="effectEnd",e.EFFECT_STOP="effectStop",e.EFFECT_START="effectStart",e.EFFECT_REPEAT="effectRepeat",e.EFFECT_UPDATE="effectUpdate",e}(t.Event);e.EffectEvent=i,i.prototype.__class__="egret.gui.EffectEvent"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(t){function e(){t.call(this),this._target=null,this._useVirtualLayout=!1,this._typicalLayoutRect=null}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"target",{get:function(){return this._target},set:function(t){this._target!=t&&(this._target=t,this.clearVirtualLayoutCache())},enumerable:!0,configurable:!0}),Object.defineProperty(i,"useVirtualLayout",{get:function(){return this._useVirtualLayout},set:function(t){this._useVirtualLayout!=t&&(this._useVirtualLayout=t,this.dispatchEventWith("useVirtualLayoutChanged"),this._useVirtualLayout&&!t&&this.clearVirtualLayoutCache(),this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i,"typicalLayoutRect",{get:function(){return this._typicalLayoutRect},set:function(t){this._typicalLayoutRect!=t&&(this._typicalLayoutRect=t,this.target&&this.target.invalidateSize())},enumerable:!0,configurable:!0}),i.scrollPositionChanged=function(){},i.clearVirtualLayoutCache=function(){},i.elementAdded=function(t){},i.elementRemoved=function(t){},i.measure=function(){},i.updateDisplayList=function(t,e){},e}(t.EventDispatcher);e.LayoutBase=i,i.prototype.__class__="egret.gui.LayoutBase"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this._mouseWheelSpeed=20}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"useVirtualLayout",{set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n,"mouseWheelSpeed",{get:function(){return this._mouseWheelSpeed},set:function(t){0==t&&(t=1),this._mouseWheelSpeed=t},enumerable:!0,configurable:!0}),n.getElementBoundsLeftOfScrollRect=function(e){var i=new t.Rectangle;return i.x=e.x-this._mouseWheelSpeed,i.right=e.x,i},n.getElementBoundsRightOfScrollRect=function(e){var i=new t.Rectangle;return i.x=e.right,i.right=e.right+this._mouseWheelSpeed,i},n.getElementBoundsAboveScrollRect=function(e){var i=new t.Rectangle;return i.y=e.y-this._mouseWheelSpeed,i.bottom=e.y,i},n.getElementBoundsBelowScrollRect=function(e){var i=new t.Rectangle;return i.y=e.bottom,i.bottom=e.bottom+this._mouseWheelSpeed,i},n.measure=function(){if(e.prototype.measure.call(this),null!=this.target){for(var t=0,i=0,n=this.target.numElements,s=0;s<n;s++){var r=this.target.getElementAt(s);if(r&&r.includeInLayout){var a=r.horizontalCenter,o=r.verticalCenter,h=r.left,l=r.right,u=r.top,c=r.bottom;isNaN(h)||isNaN(l)?isNaN(a)?isNaN(h)&&isNaN(l)?a=r.preferredX:(a=isNaN(h)?0:h,a+=isNaN(l)?0:l):a=2*Math.abs(a):a=h+l,isNaN(u)||isNaN(c)?isNaN(o)?isNaN(u)&&isNaN(c)?o=r.preferredY:(o=isNaN(u)?0:u,o+=isNaN(c)?0:c):o=2*Math.abs(o):o=u+c,c=r.preferredHeight,t=Math.ceil(Math.max(t,a+r.preferredWidth)),i=Math.ceil(Math.max(i,o+c))}}this.target.measuredWidth=t,this.target.measuredHeight=i}},n.updateDisplayList=function(t,i){if(e.prototype.updateDisplayList.call(this,t,i),null!=this.target){for(var n=this.target.numElements,s=0,r=0,a=0;a<n;a++){var o=this.target.getElementAt(a);if(null!=o&&o.includeInLayout){var h=o.horizontalCenter,l=o.verticalCenter,u=o.left,c=o.right,_=o.top,d=o.bottom,p=o.percentWidth,g=o.percentHeight,f=NaN,m=NaN;isNaN(u)||isNaN(c)?isNaN(p)||(f=Math.round(t*Math.min(.01*p,1))):f=t-c-u,isNaN(_)||isNaN(d)?isNaN(g)||(m=Math.round(i*Math.min(.01*g,1))):m=i-d-_,o.setLayoutBoundsSize(f,m),p=o.layoutBoundsWidth,g=o.layoutBoundsHeight,m=f=NaN,f=isNaN(h)?isNaN(u)?isNaN(c)?o.layoutBoundsX:t-p-c:u:Math.round((t-p)/2+h),m=isNaN(l)?isNaN(_)?isNaN(d)?o.layoutBoundsY:i-g-d:_:Math.round((i-g)/2+l),o.setLayoutBoundsPosition(f,m),s=Math.max(s,f+p),r=Math.max(r,m+g)}}this.target.setContentSize(s,r)}},i}(e.LayoutBase);e.BasicLayout=i,i.prototype.__class__="egret.gui.BasicLayout"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this._horizontalAlign=t.HorizontalAlign.LEFT,this._verticalAlign=t.VerticalAlign.TOP,this._gap=6,this._padding=0,this._paddingBottom=this._paddingTop=this._paddingRight=this._paddingLeft=NaN,this.elementSizeTable=[],this.endIndex=this.startIndex=-1,this.indexInViewCalculated=!1,this.maxElementWidth=0}__extends(i,e);var s=i.prototype;return Object.defineProperty(s,"horizontalAlign",{get:function(){return this._horizontalAlign},set:function(t){this._horizontalAlign!=t&&(this._horizontalAlign=t,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"gap",{get:function(){return this._gap},set:function(t){this._gap!=t&&(this._gap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0}),Object.defineProperty(s,"padding",{get:function(){return this._padding},set:function(t){this._padding!=t&&(this._padding=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"paddingLeft",{get:function(){return this._paddingLeft},set:function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"paddingRight",{get:function(){return this._paddingRight},set:function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"paddingTop",{get:function(){return this._paddingTop},set:function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"paddingBottom",{get:function(){return this._paddingBottom},set:function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),s.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())},s.measure=function(){e.prototype.measure.call(this),this.target&&(this.useVirtualLayout?this.measureVirtual():this.measureReal())},s.measureVirtual=function(){for(var t=this.typicalLayoutRect?this.typicalLayoutRect.height:22,e=Math.max(this.maxElementWidth,this.typicalLayoutRect?this.typicalLayoutRect.width:71),i=this.getElementTotalSize(),n=this.target.getElementIndicesInView(),s=n.length,r=0;r<s;r++){var a=n[r],o=this.target.getElementAt(a);if(null!=o&&o.includeInLayout)var h=o.preferredWidth,i=i+o.preferredHeight,i=i-(isNaN(this.elementSizeTable[a])?t:this.elementSizeTable[a]),e=Math.max(e,h)}r=isNaN(this._padding)?0:this._padding,t=isNaN(this._paddingLeft)?r:this._paddingLeft,n=isNaN(this._paddingRight)?r:this._paddingRight,s=isNaN(this._paddingTop)?r:this._paddingTop,s+=r=isNaN(this._paddingBottom)?r:this._paddingBottom,this.target.measuredWidth=Math.ceil(e+(t+n)),this.target.measuredHeight=Math.ceil(i+s)},s.measureReal=function(){for(var t=this.target.numElements,e=t,i=0,n=0,s=0;s<t;s++){var r=this.target.getElementAt(s);if(r&&r.includeInLayout)var a=r.preferredWidth,n=n+r.preferredHeight,i=Math.max(i,a);else e--}n+=(e-1)*(t=isNaN(this._gap)?0:this._gap),r=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingLeft)?r:this._paddingLeft,t=isNaN(this._paddingRight)?r:this._paddingRight,s=isNaN(this._paddingTop)?r:this._paddingTop,s+=r=isNaN(this._paddingBottom)?r:this._paddingBottom,this.target.measuredWidth=Math.ceil(i+(e+t)),this.target.measuredHeight=Math.ceil(n+s)},s.updateDisplayList=function(t,i){if(e.prototype.updateDisplayList.call(this,t,i),this.target)if(0==this.target.numElements){var n=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?n:this._paddingLeft,r=isNaN(this._paddingRight)?n:this._paddingRight,a=isNaN(this._paddingTop)?n:this._paddingTop,n=isNaN(this._paddingBottom)?n:this._paddingBottom;this.target.setContentSize(Math.ceil(s+r),Math.ceil(a+n))}else this.useVirtualLayout?this.updateDisplayListVirtual(t,i):this.updateDisplayListReal(t,i)},s.getStartPosition=function(t){var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingTop)?e:this._paddingTop,e=isNaN(this._gap)?0:this._gap;if(!this.useVirtualLayout){var n;return this.target&&(n=this.target.getElementAt(t)),n?n.y:i}n=this.typicalLayoutRect?this.typicalLayoutRect.height:22;for(var s=0;s<t;s++){var r=this.elementSizeTable[s];isNaN(r)&&(r=n),i+=r+e}return i},s.getElementSize=function(t){return this.useVirtualLayout?(t=this.elementSizeTable[t],isNaN(t)&&(t=this.typicalLayoutRect?this.typicalLayoutRect.height:22),t):this.target?this.target.getElementAt(t).height:0},s.getElementTotalSize=function(){for(var t=isNaN(this._gap)?0:this._gap,e=this.typicalLayoutRect?this.typicalLayoutRect.height:22,i=0,n=this.target.numElements,s=0;s<n;s++){var r=this.elementSizeTable[s];isNaN(r)&&(r=e),i+=r+t}return i-t},s.elementAdded=function(t){e.prototype.elementAdded.call(this,t),this.elementSizeTable.splice(t,0,this.typicalLayoutRect?this.typicalLayoutRect.height:22)},s.elementRemoved=function(t){e.prototype.elementRemoved.call(this,t),this.elementSizeTable.splice(t,1)},s.clearVirtualLayoutCache=function(){e.prototype.clearVirtualLayoutCache.call(this),this.elementSizeTable=[],this.maxElementWidth=0},s.findIndexAt=function(t,e,i){var n=Math.floor(.5*(e+i)),s=this.getStartPosition(n),r=this.getElementSize(n),a=isNaN(this._gap)?0:this._gap;return t>=s&&t<s+r+a?n:e==i?-1:t<s?this.findIndexAt(t,e,Math.max(e,n-1)):this.findIndexAt(t,Math.min(n+1,i),i)},s.scrollPositionChanged=function(){e.prototype.scrollPositionChanged.call(this),this.useVirtualLayout&&this.getIndexInView()&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())},s.getIndexInView=function(){if(!this.target||0==this.target.numElements||isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=-1,!1;var t=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingTop)?t:this._paddingTop,i=isNaN(this._paddingBottom)?t:this._paddingBottom,t=this.target.numElements,n=this.getStartPosition(t-1)+this.elementSizeTable[t-1]+i,s=this.target.verticalScrollPosition;return s>n-i?(this.endIndex=this.startIndex=-1,!1):(i=this.target.verticalScrollPosition+this.target.height)<e?(this.endIndex=this.startIndex=-1,!1):(e=this.startIndex,n=this.endIndex,this.startIndex=this.findIndexAt(s,0,t-1),-1==this.startIndex&&(this.startIndex=0),this.endIndex=this.findIndexAt(i,0,t-1),-1==this.endIndex&&(this.endIndex=t-1),e!=this.startIndex||n!=this.endIndex)},s.updateDisplayListVirtual=function(e,i){this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var n=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?n:this._paddingLeft,r=isNaN(this._paddingRight)?n:this._paddingRight,a=isNaN(this._paddingBottom)?n:this._paddingBottom,o=isNaN(this._gap)?0:this._gap,h=this.target.numElements;if(-1==this.startIndex||-1==this.endIndex)s=this.getStartPosition(h)-o+a,this.target.setContentSize(this.target.contentWidth,Math.ceil(s));else{this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);var l=this._horizontalAlign==t.HorizontalAlign.JUSTIFY||this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY,u=this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY,c=0;l||(this._horizontalAlign==t.HorizontalAlign.CENTER?c=.5:this._horizontalAlign==t.HorizontalAlign.RIGHT&&(c=1));var _,d=Math.max(0,e-s-r),p=Math.ceil(d),g=this.typicalLayoutRect?this.typicalLayoutRect.height:22,n=Math.max(this.typicalLayoutRect?this.typicalLayoutRect.width:71,this.maxElementWidth);if(u){for(v=this.startIndex;v<=this.endIndex;v++)(_=this.target.getVirtualElementAt(v))&&_.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,_.preferredWidth));p=Math.ceil(Math.max(d,this.maxElementWidth))}for(var f=0,m=0,v=0,y=!1,E=this.startIndex;E<=this.endIndex;E++)f=0,(_=this.target.getVirtualElementAt(E))&&(_.includeInLayout?(l?(f=s,_.setLayoutBoundsSize(p,NaN)):(f=(d-_.layoutBoundsWidth)*c,f=0<f?f:0,f=s+f),u||(this.maxElementWidth=Math.max(this.maxElementWidth,_.preferredWidth)),v=Math.max(v,_.layoutBoundsWidth),y||(m=isNaN(this.elementSizeTable[E])?g:this.elementSizeTable[E])!=_.layoutBoundsHeight&&(y=!0),0==E&&0<this.elementSizeTable.length&&this.elementSizeTable[E]!=_.layoutBoundsHeight&&(this.typicalLayoutRect=null),this.elementSizeTable[E]=_.layoutBoundsHeight,m=this.getStartPosition(E),_.setLayoutBoundsPosition(Math.round(f),Math.round(m))):this.elementSizeTable[E]=0);v+=s+r,s=this.getStartPosition(h)-o+a,this.target.setContentSize(Math.ceil(v),Math.ceil(s)),(y||n<this.maxElementWidth)&&this.target.invalidateSize()}},s.updateDisplayListReal=function(e,s){var r=isNaN(this._padding)?0:this._padding,a=isNaN(this._paddingLeft)?r:this._paddingLeft,o=isNaN(this._paddingRight)?r:this._paddingRight,h=isNaN(this._paddingTop)?r:this._paddingTop,r=isNaN(this._paddingBottom)?r:this._paddingBottom,l=isNaN(this._gap)?0:this._gap,u=Math.max(0,e-a-o),c=Math.max(0,s-h-r),_=this._verticalAlign==t.VerticalAlign.JUSTIFY,d=this._horizontalAlign==t.HorizontalAlign.JUSTIFY||this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY,p=0;d||(this._horizontalAlign==t.HorizontalAlign.CENTER?p=.5:this._horizontalAlign==t.HorizontalAlign.RIGHT&&(p=1));var g,f,m,v=this.target.numElements,y=v,E=a,b=h,S=0,E=0,C=[],T=c;for(g=0;g<v;g++)(f=this.target.getElementAt(g))&&f.includeInLayout?(this.maxElementWidth=Math.max(this.maxElementWidth,f.preferredWidth),_?S+=f.preferredHeight:isNaN(f.percentHeight)?T-=f.preferredHeight:(E+=f.percentHeight,m=new n,m.layoutElement=f,m.percent=f.percentHeight,m.min=f.minHeight,m.max=f.maxHeight,C.push(m))):y--;var x,T=0<(T=T-(y-1)*l)?T:0,P=c-S-l*(y-1),w=y,I=[];if(_){if(0>P){for(x=T/y,g=0;g<v;g++)(f=this.target.getElementAt(g))&&f.includeInLayout&&(f=f.preferredHeight)<=x&&(T-=f,w--);T=0<T?T:0}}else if(0<E){for(i.flexChildrenProportionally(c,T,E,C),c=0,f=C.length,g=0;g<f;g++)m=C[g],E=Math.round(m.size+c),c+=m.size-E,I[m.layoutElement.hashCode]=E,T-=E;T=0<T?T:0}for(this._verticalAlign==t.VerticalAlign.MIDDLE?b=h+.5*T:this._verticalAlign==t.VerticalAlign.BOTTOM&&(b=h+T),C=a,f=y=0,m=Math.ceil(u),this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY&&(m=Math.ceil(Math.max(u,this.maxElementWidth))),c=0,y=NaN,g=0;g<v;g++)E=0,(f=this.target.getElementAt(g))&&f.includeInLayout&&(y=NaN,_?(E=NaN,0<P?E=T*f.preferredHeight/S:0>P&&f.preferredHeight>x&&(E=T/w),isNaN(E)||(y=Math.round(E+c),c+=E-y)):y=I[f.hashCode],d?(E=a,f.setLayoutBoundsSize(m,y)):(E=NaN,isNaN(f.percentWidth)||(E=Math.min(100,f.percentWidth),E=Math.round(u*E*.01)),f.setLayoutBoundsSize(E,y),E=(u-f.layoutBoundsWidth)*p,E=0<E?E:0,E=a+E),f.setLayoutBoundsPosition(Math.round(E),Math.round(b)),y=Math.ceil(f.layoutBoundsWidth),f=Math.ceil(f.layoutBoundsHeight),C=Math.max(C,E+y),h=Math.max(h,b+f),b+=f+l);this.target.setContentSize(Math.ceil(C+o),Math.ceil(h+r))},i.flexChildrenProportionally=function(t,e,i,n){var s,r=n.length;do{s=!0;var a=e-t*i/100;0<a?e-=a:a=0;for(var o=e/i,h=0;h<r;h++){var l=n[h],u=l.percent*o;if(u<l.min){s=l.min,l.size=s,n[h]=n[--r],n[r]=l,i-=l.percent,a>=s||(e-=s-a),s=!1;break}if(u>l.max){s=l.max,l.size=s,n[h]=n[--r],n[r]=l,i-=l.percent,a>=s||(e-=s-a),s=!1;break}l.size=u}}while(!s)},i}(e.LayoutBase);e.VerticalLayout=i,i.prototype.__class__="egret.gui.VerticalLayout";var n=function(){this.layoutElement=null,this.size=0,this.max=this.min=this.percent=NaN};n.prototype.__class__="egret.gui.ChildInfo"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this._horizontalAlign=t.HorizontalAlign.LEFT,this._verticalAlign=t.VerticalAlign.TOP,this._gap=6,this._padding=0,this._paddingBottom=this._paddingTop=this._paddingRight=this._paddingLeft=NaN,this.elementSizeTable=[],this.endIndex=this.startIndex=-1,this.indexInViewCalculated=!1,this.maxElementHeight=0}__extends(i,e);var s=i.prototype;return Object.defineProperty(s,"horizontalAlign",{get:function(){return this._horizontalAlign},set:function(t){this._horizontalAlign!=t&&(this._horizontalAlign=t,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"gap",{get:function(){return this._gap},set:function(t){this._gap!=t&&(this._gap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0}),Object.defineProperty(s,"padding",{get:function(){return this._padding},set:function(t){this._padding!=t&&(this._padding=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"paddingLeft",{get:function(){return this._paddingLeft},set:function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"paddingRight",{get:function(){return this._paddingRight},set:function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"paddingTop",{get:function(){return this._paddingTop},set:function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(s,"paddingBottom",{get:function(){return this._paddingBottom},set:function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),s.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())},s.measure=function(){e.prototype.measure.call(this),this.target&&(this.useVirtualLayout?this.measureVirtual():this.measureReal())},s.measureVirtual=function(){for(var t=this.typicalLayoutRect?this.typicalLayoutRect.height:22,e=this.typicalLayoutRect?this.typicalLayoutRect.width:71,i=this.getElementTotalSize(),t=Math.max(this.maxElementHeight,t),n=this.target.getElementIndicesInView(),s=n.length,r=0;r<s;r++){var a=n[r],o=this.target.getElementAt(a);if(null!=o&&o.includeInLayout)var h=o.preferredHeight,i=i+o.preferredWidth,i=i-(isNaN(this.elementSizeTable[a])?e:this.elementSizeTable[a]),t=Math.max(t,h)}r=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingLeft)?r:this._paddingLeft,n=isNaN(this._paddingRight)?r:this._paddingRight,s=isNaN(this._paddingTop)?r:this._paddingTop,s+=r=isNaN(this._paddingBottom)?r:this._paddingBottom,this.target.measuredWidth=Math.ceil(i+(e+n)),this.target.measuredHeight=Math.ceil(t+s)},s.measureReal=function(){for(var t=this.target.numElements,e=t,i=0,n=0,s=0;s<t;s++){var r=this.target.getElementAt(s);if(r&&r.includeInLayout)var a=r.preferredHeight,i=i+r.preferredWidth,n=Math.max(n,a);else e--}i+=(e-1)*(t=isNaN(this._gap)?0:this._gap),r=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingLeft)?r:this._paddingLeft,t=isNaN(this._paddingRight)?r:this._paddingRight,s=isNaN(this._paddingTop)?r:this._paddingTop,s+=r=isNaN(this._paddingBottom)?r:this._paddingBottom,this.target.measuredWidth=Math.ceil(i+(e+t)),this.target.measuredHeight=Math.ceil(n+s)},s.updateDisplayList=function(t,i){if(e.prototype.updateDisplayList.call(this,t,i),this.target)if(0==this.target.numElements){var n=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?n:this._paddingLeft,r=isNaN(this._paddingRight)?n:this._paddingRight,a=isNaN(this._paddingTop)?n:this._paddingTop,n=isNaN(this._paddingBottom)?n:this._paddingBottom;this.target.setContentSize(Math.ceil(s+r),Math.ceil(a+n))}else this.useVirtualLayout?this.updateDisplayListVirtual(t,i):this.updateDisplayListReal(t,i)},s.getStartPosition=function(t){var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingLeft)?e:this._paddingLeft,e=isNaN(this._gap)?0:this._gap;if(!this.useVirtualLayout){var n;return this.target&&(n=this.target.getElementAt(t)),n?n.x:i}n=this.typicalLayoutRect?this.typicalLayoutRect.width:71;for(var s=0;s<t;s++){var r=this.elementSizeTable[s];isNaN(r)&&(r=n),i+=r+e}return i},s.getElementSize=function(t){return this.useVirtualLayout?(t=this.elementSizeTable[t],isNaN(t)&&(t=this.typicalLayoutRect?this.typicalLayoutRect.width:71),t):this.target?this.target.getElementAt(t).width:0},s.getElementTotalSize=function(){for(var t=this.typicalLayoutRect?this.typicalLayoutRect.width:71,e=isNaN(this._gap)?0:this._gap,i=0,n=this.target.numElements,s=0;s<n;s++){var r=this.elementSizeTable[s];isNaN(r)&&(r=t),i+=r+e}return i-e},s.elementAdded=function(t){this.useVirtualLayout&&(e.prototype.elementAdded.call(this,t),this.elementSizeTable.splice(t,0,this.typicalLayoutRect?this.typicalLayoutRect.width:71))},s.elementRemoved=function(t){this.useVirtualLayout&&(e.prototype.elementRemoved.call(this,t),this.elementSizeTable.splice(t,1))},s.clearVirtualLayoutCache=function(){this.useVirtualLayout&&(e.prototype.clearVirtualLayoutCache.call(this),this.elementSizeTable=[],this.maxElementHeight=0)},s.findIndexAt=function(t,e,i){var n=Math.floor(.5*(e+i)),s=this.getStartPosition(n),r=this.getElementSize(n),a=isNaN(this._gap)?0:this._gap;return t>=s&&t<s+r+a?n:e==i?-1:t<s?this.findIndexAt(t,e,Math.max(e,n-1)):this.findIndexAt(t,Math.min(n+1,i),i)},s.scrollPositionChanged=function(){e.prototype.scrollPositionChanged.call(this),this.useVirtualLayout&&this.getIndexInView()&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())},s.getIndexInView=function(){if(!this.target||0==this.target.numElements||isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=-1,!1;var t=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingLeft)?t:this._paddingLeft,i=isNaN(this._paddingRight)?t:this._paddingRight;isNaN(this._paddingTop),isNaN(this._paddingBottom);var t=this.target.numElements,n=this.getStartPosition(t-1)+this.elementSizeTable[t-1]+i,s=this.target.horizontalScrollPosition;return s>n-i?(this.endIndex=this.startIndex=-1,!1):(i=this.target.horizontalScrollPosition+this.target.width)<e?(this.endIndex=this.startIndex=-1,!1):(e=this.startIndex,n=this.endIndex,this.startIndex=this.findIndexAt(s,0,t-1),-1==this.startIndex&&(this.startIndex=0),this.endIndex=this.findIndexAt(i,0,t-1),-1==this.endIndex&&(this.endIndex=t-1),e!=this.startIndex||n!=this.endIndex)},s.updateDisplayListVirtual=function(e,i){this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var n=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingRight)?n:this._paddingRight,r=isNaN(this._paddingTop)?n:this._paddingTop,a=isNaN(this._paddingBottom)?n:this._paddingBottom,o=isNaN(this._gap)?0:this._gap,h=this.target.numElements;if(-1==this.startIndex||-1==this.endIndex)s=this.getStartPosition(h)-o+s,this.target.setContentSize(Math.ceil(s),this.target.contentHeight);else{this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);var l=this._verticalAlign==t.VerticalAlign.JUSTIFY||this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY,u=this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY,c=0;l||(this._verticalAlign==t.VerticalAlign.MIDDLE?c=.5:this._verticalAlign==t.VerticalAlign.BOTTOM&&(c=1));var _,d=Math.max(0,i-r-a),p=Math.ceil(d),g=this.typicalLayoutRect?this.typicalLayoutRect.width:71,n=Math.max(this.typicalLayoutRect?this.typicalLayoutRect.height:22,this.maxElementHeight);if(u){for(v=this.startIndex;v<=this.endIndex;v++)(_=this.target.getVirtualElementAt(v))&&_.includeInLayout&&(this.maxElementHeight=Math.max(this.maxElementHeight,_.preferredHeight));p=Math.ceil(Math.max(d,this.maxElementHeight))}for(var f=0,m=0,v=0,y=!1,E=this.startIndex;E<=this.endIndex;E++)m=0,(_=this.target.getVirtualElementAt(E))&&(_.includeInLayout?(l?(m=r,_.setLayoutBoundsSize(NaN,p)):(m=(d-_.layoutBoundsHeight)*c,m=0<m?m:0,m=r+m),u||(this.maxElementHeight=Math.max(this.maxElementHeight,_.preferredHeight)),v=Math.max(v,_.layoutBoundsHeight),y||(f=isNaN(this.elementSizeTable[E])?g:this.elementSizeTable[E])!=_.layoutBoundsWidth&&(y=!0),0==E&&0<this.elementSizeTable.length&&this.elementSizeTable[E]!=_.layoutBoundsWidth&&(this.typicalLayoutRect=null),this.elementSizeTable[E]=_.layoutBoundsWidth,f=this.getStartPosition(E),_.setLayoutBoundsPosition(Math.round(f),Math.round(m))):this.elementSizeTable[E]=0);v+=r+a,s=this.getStartPosition(h)-o+s,this.target.setContentSize(Math.ceil(s),Math.ceil(v)),(y||n<this.maxElementHeight)&&this.target.invalidateSize()}},s.updateDisplayListReal=function(e,s){var r=isNaN(this._padding)?0:this._padding,a=isNaN(this._paddingLeft)?r:this._paddingLeft,o=isNaN(this._paddingRight)?r:this._paddingRight,h=isNaN(this._paddingTop)?r:this._paddingTop,r=isNaN(this._paddingBottom)?r:this._paddingBottom,l=isNaN(this._gap)?0:this._gap,u=Math.max(0,e-a-o),c=Math.max(0,s-h-r),_=this._horizontalAlign==t.HorizontalAlign.JUSTIFY,d=this._verticalAlign==t.VerticalAlign.JUSTIFY||this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY,p=0;d||(this._verticalAlign==t.VerticalAlign.MIDDLE?p=.5:this._verticalAlign==t.VerticalAlign.BOTTOM&&(p=1));var g,f,m,v=this.target.numElements,y=v,E=a,b=h,S=0,b=0,C=[],T=u;for(g=0;g<v;g++)(f=this.target.getElementAt(g))&&f.includeInLayout?(this.maxElementHeight=Math.max(this.maxElementHeight,f.preferredHeight),_?S+=f.preferredWidth:isNaN(f.percentWidth)?T-=f.preferredWidth:(b+=f.percentWidth,m=new n,m.layoutElement=f,m.percent=f.percentWidth,m.min=f.minWidth,m.max=f.maxWidth,C.push(m))):y--;var x,T=0<(T=T-l*(y-1))?T:0,P=u-S-l*(y-1),w=y,I=[];if(_){if(0>P){for(x=T/y,g=0;g<v;g++)(f=this.target.getElementAt(g))&&f.includeInLayout&&(f=f.preferredWidth)<=x&&(T-=f,w--);T=0<T?T:0}}else if(0<b){for(i.flexChildrenProportionally(u,T,b,C),u=0,f=C.length,g=0;g<f;g++)m=C[g],b=Math.round(m.size+u),u+=m.size-b,I[m.layoutElement.hashCode]=b,T-=b;T=0<T?T:0}for(this._horizontalAlign==t.HorizontalAlign.CENTER?E=a+.5*T:this._horizontalAlign==t.HorizontalAlign.RIGHT&&(E=a+T),C=h,f=y=0,m=Math.ceil(c),this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY&&(m=Math.ceil(Math.max(c,this.maxElementHeight))),g=u=0;g<v;g++)b=0,(f=this.target.getElementAt(g))&&f.includeInLayout&&(y=NaN,_?(b=NaN,0<P?b=T*f.preferredWidth/S:0>P&&f.preferredWidth>x&&(b=T/w),isNaN(b)||(y=Math.round(b+u),u+=b-y)):y=I[f.hashCode],d?(b=h,f.setLayoutBoundsSize(y,m)):(b=NaN,isNaN(f.percentHeight)||(b=Math.min(100,f.percentHeight),b=Math.round(c*b*.01)),f.setLayoutBoundsSize(y,b),b=(c-f.layoutBoundsHeight)*p,b=0<b?b:0,b=h+b),f.setLayoutBoundsPosition(Math.round(E),Math.round(b)),y=Math.ceil(f.layoutBoundsWidth),f=Math.ceil(f.layoutBoundsHeight),a=Math.max(a,E+y),C=Math.max(C,b+f),E+=y+l);this.target.setContentSize(Math.ceil(a+o),Math.ceil(C+r))},i.flexChildrenProportionally=function(t,e,i,n){var s,r=n.length;do{s=!0;var a=e-t*i/100;0<a?e-=a:a=0;for(var o=e/i,h=0;h<r;h++){var l=n[h],u=l.percent*o;if(u<l.min){s=l.min,l.size=s,n[h]=n[--r],n[r]=l,i-=l.percent,a>=s||(e-=s-a),s=!1;break}if(u>l.max){s=l.max,l.size=s,n[h]=n[--r],n[r]=l,i-=l.percent,a>=s||(e-=s-a),s=!1;break}l.size=u}}while(!s)},i}(e.LayoutBase);e.HorizontalLayout=i,i.prototype.__class__="egret.gui.HorizontalLayout";var n=function(){this.layoutElement=null,this.size=0,this.max=this.min=this.percent=NaN};n.prototype.__class__="egret.gui.ChildInfo"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(t){var e=function(){function t(t,e,i){this.upperBoundReference=this.lowerBoundReference=this.owner=null,this.raw_getElementAt="raw_getElementAt",this.raw_addElementAt="raw_addElementAt",this.raw_getElementIndex="raw_getElementIndex",this.raw_removeElement="raw_removeElement",this.raw_removeElementAt="raw_removeElementAt",this.raw_setElementIndex="raw_setElementIndex",this.owner=t,this.lowerBoundReference=e,this.upperBoundReference=i}var e=t.prototype;return Object.defineProperty(e,"numElements",{get:function(){return this.owner[this.upperBoundReference]-this.owner[this.lowerBoundReference]},enumerable:!0,configurable:!0}),e.getElementAt=function(t){return this.owner[this.raw_getElementAt](this.owner[this.lowerBoundReference]+t)},e.addElement=function(t){var e=this.owner[this.upperBoundReference];return t.parent===this.owner&&e--,this.owner[this.upperBoundReference]++,this.owner[this.raw_addElementAt](t,e),t.ownerChanged(this),t},e.addElementAt=function(t,e){return this.owner[this.upperBoundReference]++,this.owner[this.raw_addElementAt](t,this.owner[this.lowerBoundReference]+e),t.ownerChanged(this),t},e.removeElement=function(t){var e=this.owner[this.raw_getElementIndex](t);return this.owner[this.lowerBoundReference]<=e&&e<this.owner[this.upperBoundReference]&&(this.owner[this.raw_removeElement](t),this.owner[this.upperBoundReference]--),t.ownerChanged(null),t},e.removeElementAt=function(t){t+=this.owner[this.lowerBoundReference];var e;return this.owner[this.lowerBoundReference]<=t&&t<this.owner[this.upperBoundReference]&&(e=this.owner[this.raw_removeElementAt](t),this.owner[this.upperBoundReference]--),e.ownerChanged(null),e},e.getElementIndex=function(t){return t=this.owner[this.raw_getElementIndex](t),t-=this.owner[this.lowerBoundReference]},e.setElementIndex=function(t,e){this.owner[this.raw_setElementIndex](t,this.owner[this.lowerBoundReference]+e)},t}();t.UILayer=e,e.prototype.__class__="egret.gui.UILayer"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function n(){i.call(this),this._autoResize=!0,this._cursorContainer=this._toolTipContainer=this._popUpContainer=null,this._cursorIndex=this._toolTipIndex=this._topMostIndex=this._noTopMostIndex=0,this.touchEnabled=!1,this.addEventListener(t.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(t.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}__extends(n,i);var s=n.prototype;return s.onAddToStage=function(i){if(e.UIGlobals._uiStage)throw Error(t.getString(3013));e.UIGlobals._uiStage=this,this._autoResize&&(this.stage.addEventListener(t.Event.RESIZE,this.onResize,this),this.onResize())},s.onRemoveFromStage=function(i){e.UIGlobals._uiStage=null,this._autoResize&&this.stage.removeEventListener(t.Event.RESIZE,this.onResize,this)},s.onResize=function(t){this._setWidth(this.stage.stageWidth),this._setHeight(this.stage.stageHeight)},Object.defineProperty(s,"autoResize",{get:function(){return this._autoResize},set:function(e){this._autoResize!=e&&(this._autoResize=e,this.stage&&(this._autoResize?(this.stage.addEventListener(t.Event.RESIZE,this.onResize,this),this.onResize()):this.stage.removeEventListener(t.Event.RESIZE,this.onResize,this)))},enumerable:!0,configurable:!0}),Object.defineProperty(s,"x",{get:function(){return this._DO_Props_._x},set:function(t){this._autoResize||(this._DO_Props_._x=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"y",{get:function(){return this._DO_Props_._y},set:function(t){this._autoResize||(this._DO_Props_._y=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"width",{get:function(){return this._UIC_Props_._width},set:function(t){this._autoResize||this._setWidth(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"height",{get:function(){return this._UIC_Props_._height},set:function(t){this._autoResize||this._setHeight(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"scaleX",{get:function(){return this._DO_Props_._scaleX},set:function(t){this._autoResize||this._setScaleX(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"scaleY",{get:function(){return this._DO_Props_._scaleY},set:function(t){this._autoResize||this._setScaleY(t)},enumerable:!0,configurable:!0}),s.setActualSize=function(t,e){this._autoResize||i.prototype.setActualSize.call(this,t,e)},s.setLayoutBoundsPosition=function(t,e){this._autoResize||i.prototype.setLayoutBoundsPosition.call(this,t,e)},s.setLayoutBoundsSize=function(t,e){this._autoResize||i.prototype.setLayoutBoundsSize.call(this,t,e)},Object.defineProperty(s,"layout",{get:function(){return this._layout},set:function(t){t instanceof e.BasicLayout&&this._setLayout(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"popUpContainer",{get:function(){return this._popUpContainer||(this._popUpContainer=new e.UILayer(this,"noTopMostIndex","topMostIndex")),this._popUpContainer},enumerable:!0,configurable:!0}),Object.defineProperty(s,"toolTipContainer",{get:function(){return this._toolTipContainer||(this._toolTipContainer=new e.UILayer(this,"topMostIndex","toolTipIndex")),this._toolTipContainer},enumerable:!0,configurable:!0}),Object.defineProperty(s,"cursorContainer",{get:function(){return this._cursorContainer||(this._cursorContainer=new e.UILayer(this,"toolTipIndex","cursorIndex")),this._cursorContainer},enumerable:!0,configurable:!0}),Object.defineProperty(s,"noTopMostIndex",{get:function(){return this._noTopMostIndex},set:function(t){var e=t-this._noTopMostIndex;this._noTopMostIndex=t,this.topMostIndex+=e},enumerable:!0,configurable:!0}),Object.defineProperty(s,"topMostIndex",{get:function(){return this._topMostIndex},set:function(t){var e=t-this._topMostIndex;this._topMostIndex=t,this.toolTipIndex+=e},enumerable:!0,configurable:!0}),Object.defineProperty(s,"toolTipIndex",{get:function(){return this._toolTipIndex},set:function(t){var e=t-this._toolTipIndex;this._toolTipIndex=t,this.cursorIndex+=e},enumerable:!0,configurable:!0}),Object.defineProperty(s,"cursorIndex",{get:function(){return this._cursorIndex},set:function(t){this._cursorIndex=t},enumerable:!0,configurable:!0}),s.addElement=function(t){var e=this._noTopMostIndex;return t.parent==this&&e--,this.addElementAt(t,e)},s.addElementAt=function(t,e){if(t.parent==this){var n=this.getElementIndex(t);n<this._noTopMostIndex?this.noTopMostIndex--:n>=this._noTopMostIndex&&n<this._topMostIndex?this.topMostIndex--:n>=this._topMostIndex&&n<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--}return e<=this._noTopMostIndex?this.noTopMostIndex++:e>this._noTopMostIndex&&e<=this._topMostIndex?this.topMostIndex++:e>this._topMostIndex&&e<=this._toolTipIndex?this.toolTipIndex++:this.cursorIndex++,i.prototype.addElementAt.call(this,t,e)},s.removeElement=function(t){return this.removeElementAt(i.prototype.getElementIndex.call(this,t))},s.removeElementAt=function(t){var e=i.prototype.removeElementAt.call(this,t);return t<this._noTopMostIndex?this.noTopMostIndex--:t>=this._noTopMostIndex&&t<this._topMostIndex?this.topMostIndex--:t>=this._topMostIndex&&t<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--,e},s.removeAllElements=function(){for(;0<this._noTopMostIndex;)i.prototype.removeElementAt.call(this,0),this.noTopMostIndex--},s._elementRemoved=function(e,n,s){void 0===s&&(s=!0),s&&t.Event.dispatchEvent(e,"removeFromUIStage"),i.prototype._elementRemoved.call(this,e,n,s)},s.raw_getElementAt=function(t){return i.prototype.getElementAt.call(this,t)},s.raw_addElement=function(t){var e=this.numElements;return t.parent==this&&e--,this.raw_addElementAt(t,e)},s.raw_addElementAt=function(t,e){if(t.parent==this){var n=this.getElementIndex(t);n<this._noTopMostIndex?this.noTopMostIndex--:n>=this._noTopMostIndex&&n<this._topMostIndex?this.topMostIndex--:n>=this._topMostIndex&&n<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--}return i.prototype.addElementAt.call(this,t,e)},s.raw_removeElement=function(t){return i.prototype.removeElementAt.call(this,i.prototype.getElementIndex.call(this,t))},s.raw_removeElementAt=function(t){return i.prototype.removeElementAt.call(this,t)},s.raw_removeAllElements=function(){for(;0<this.numElements;)i.prototype.removeElementAt.call(this,0)},s.raw_getElementIndex=function(t){return i.prototype.getElementIndex.call(this,t)},s.raw_setElementIndex=function(t,e){i.prototype.setElementIndex.call(this,t,e)},s.raw_swapElements=function(t,e){i.prototype.swapElementsAt.call(this,i.prototype.getElementIndex.call(this,t),i.prototype.getElementIndex.call(this,e))},s.raw_swapElementsAt=function(t,e){i.prototype.swapElementsAt.call(this,t,e)},n}(e.Group);e.UIStage=i,i.prototype.__class__="egret.gui.UIStage"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(i){function s(){i.call(this),this._popUpList=[],this.popUpDataList=[],this._modalColor=0,this._modalAlpha=.5,this.invalidateModalFlag=!1,this.modalMask=null}__extends(s,i);var r=s.prototype;return Object.defineProperty(r,"popUpList",{get:function(){return this._popUpList.concat()},enumerable:!0,configurable:!0}),r.findPopUpData=function(t){for(var e=this.popUpDataList,i=e.length,n=0;n<i;n++){var s=e[n];if(s.popUp==t)return s}return null},r.addPopUp=function(t,i,r){void 0===i&&(i=!1),void 0===r&&(r=!0);var a=e.UIGlobals.uiStage,o=this.findPopUpData(t);o?(o.modal=i,t.removeEventListener(s.REMOVE_FROM_UISTAGE,this.onRemoved,this)):(o=new n(t,i),this.popUpDataList.push(o),this._popUpList.push(t)),a.popUpContainer.addElement(t),r&&this.centerPopUp(t),"isPopUp"in t&&(t.isPopUp=!0),i&&this.invalidateModal(),t.addEventListener(s.REMOVE_FROM_UISTAGE,this.onRemoved,this)},r.onRemoved=function(t){for(var e=0,i=this.popUpDataList,n=i.length,r=0;r<n;r++){var a=i[r];if(a.popUp==t.target){"isPopUp"in a.popUp&&(a.popUp.isPopUp=!1),a.popUp.removeEventListener(s.REMOVE_FROM_UISTAGE,this.onRemoved,this),this.popUpDataList.splice(e,1),this._popUpList.splice(e,1),this.invalidateModal();break}e++}},Object.defineProperty(r,"modalColor",{get:function(){return this._modalColor},set:function(t){this._modalColor!=t&&(this._modalColor=t,this.invalidateModal())},enumerable:!0,configurable:!0}),Object.defineProperty(r,"modalAlpha",{get:function(){return this._modalAlpha},set:function(t){this._modalAlpha!=t&&(this._modalAlpha=t,this.invalidateModal())},enumerable:!0,configurable:!0}),r.invalidateModal=function(){this.invalidateModalFlag||(this.invalidateModalFlag=!0,e.UIGlobals.stage.addEventListener(t.Event.ENTER_FRAME,this.validateModal,this),e.UIGlobals.stage.addEventListener(t.Event.RENDER,this.validateModal,this),e.UIGlobals.stage.invalidate())},r.validateModal=function(i){this.invalidateModalFlag=!1,e.UIGlobals.stage.removeEventListener(t.Event.ENTER_FRAME,this.validateModal,this),e.UIGlobals.stage.removeEventListener(t.Event.RENDER,this.validateModal,this),this.updateModal(e.UIGlobals.uiStage)},r.updateModal=function(t){for(var i=t.popUpContainer,n=!1,s=i.numElements-1;0<=s;s--){var r=i.getElementAt(s);if((r=this.findPopUpData(r))&&r.modal){n=!0;break}}n?(this.modalMask||(this.modalMask=new e.Rect,this.modalMask.touchEnabled=!0,this.modalMask.top=this.modalMask.left=this.modalMask.right=this.modalMask.bottom=0),this.modalMask.fillColor=this._modalColor,this.modalMask.alpha=this._modalAlpha,this.modalMask.parent==t?(i.getElementIndex(this.modalMask)<s&&s--,i.setElementIndex(this.modalMask,s)):i.addElementAt(this.modalMask,s)):this.modalMask&&this.modalMask.parent==t&&i.removeElement(this.modalMask)},r.removePopUp=function(i){i&&i.parent&&this.findPopUpData(i)&&("removeElement"in i.parent?i.parent.removeElement(i):i.parent instanceof e.UIComponent?i.parent._removeFromDisplayList(i):i instanceof t.DisplayObject&&i.parent.removeChild(i))},r.centerPopUp=function(t){t.top=t.bottom=t.left=t.right=NaN,t.verticalCenter=t.horizontalCenter=0;var e=t.parent;e&&("validateNow"in t&&t.validateNow(),t.x=.5*(e.width-t.layoutBoundsWidth),t.y=.5*(e.height-t.layoutBoundsHeight))},r.bringToFront=function(t){if(this.findPopUpData(t)&&t.parent&&"popUpContainer"in t.parent){var e=t.parent;e.popUpContainer.setElementIndex(t,e.popUpContainer.numElements-1),this.invalidateModal()}},s.REMOVE_FROM_UISTAGE="removeFromUIStage",s}(t.EventDispatcher);e.PopUpManagerImpl=i,i.prototype.__class__="egret.gui.PopUpManagerImpl";var n=function(t,e){this.popUp=null,this.modal=!1,this.popUp=t,this.modal=e};n.prototype.__class__="egret.gui.PopUpData"}(t.gui||(t.gui={}))}(egret||(egret={})),function(t){!function(e){var i=function(){function i(){}return i.getImpl=function(){if(!i._impl)try{i._impl=t.Injector.getInstance("egret.gui.IPopUpManager")}catch(t){i._impl=new e.PopUpManagerImpl}return i._impl},Object.defineProperty(i,"modalColor",{get:function(){return i.getImpl().modalColor},set:function(t){i.getImpl().modalColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"modalAlpha",{get:function(){return i.getImpl().modalAlpha},set:function(t){i.getImpl().modalAlpha=t},enumerable:!0,configurable:!0}),i.addPopUp=function(t,n,s){void 0===n&&(n=!1),void 0===s&&(s=!0),i.getImpl().addPopUp(t,n,s),e.PopUpEvent.dispatchPopUpEvent(i.getImpl(),e.PopUpEvent.ADD_POPUP,t,n)},i.removePopUp=function(t){i.getImpl().removePopUp(t),e.PopUpEvent.dispatchPopUpEvent(i.getImpl(),e.PopUpEvent.REMOVE_POPUP,t)},i.centerPopUp=function(t){i.getImpl().centerPopUp(t)},i.bringToFront=function(t){i.getImpl().bringToFront(t),e.PopUpEvent.dispatchPopUpEvent(i.getImpl(),e.PopUpEvent.BRING_TO_FRONT,t)},Object.defineProperty(i,"popUpList",{get:function(){return i.getImpl().popUpList},enumerable:!0,configurable:!0}),i.addEventListener=function(t,e,n,s,r){void 0===s&&(s=!1),void 0===r&&(r=0),i.getImpl().addEventListener(t,e,n,s,r)},i.removeEventListener=function(t,e,n,s){void 0===s&&(s=!1),i.getImpl().removeEventListener(t,e,n,s)},i}();e.PopUpManager=i,i.prototype.__class__="egret.gui.PopUpManager"}(t.gui||(t.gui={}))}(egret||(egret={}));var egret_4399_h5api={initGame:function(t,e,i,n){},progress:function(t){},isWeixinBrowser:function(){},share:function(t){},moreGame:function(){},submitScore:function(t,e,i){},getRank:function(t,e){}},NormalEvt=function(t){function e(e){t.call(this,e)}return __extends(e,t),e}(egret.Event);NormalEvt.prototype.__class__="NormalEvt";var skins;!function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","width"],[150,640]),this.elementsContent=[this.btnQ_i(),this.btnBreak_i(),this.btnEnter_i(),this.__3_i(),this.btnA_i(),this.__4_i(),this.btnZ_i(),this.__5_i(),this.btnW_i(),this.__6_i(),this.btnS_i(),this.__7_i(),this.btnX_i(),this.__8_i(),this.btnE_i(),this.__9_i(),this.btnR_i(),this.__10_i(),this.btnT_i(),this.__11_i(),this.btnY_i(),this.__12_i(),this.btnU_i(),this.__13_i(),this.btnI_i(),this.__14_i(),this.btnO_i(),this.__15_i(),this.btnP_i(),this.__16_i(),this.btnD_i(),this.__17_i(),this.btnF_i(),this.__18_i(),this.btnG_i(),this.__19_i(),this.btnH_i(),this.__20_i(),this.btnJ_i(),this.__21_i(),this.btnK_i(),this.__22_i(),this.btnL_i(),this.__23_i(),this.btnC_i(),this.__24_i(),this.btnV_i(),this.__25_i(),this.btnB_i(),this.__26_i(),this.btnN_i(),this.__27_i(),this.btnM_i(),this.__28_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__11_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"T","center",!1,33,260,13]),t},i.__12_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"Y","center",!1,33,311,13]),t},i.__13_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"U","center",!1,33,361,13]),t},i.__14_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"I","center",!1,33,411,13]),t},i.__15_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"O","center",!1,33,461,13]),t},i.__16_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"P","center",!1,33,511,13]),t},i.__17_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"D","center",!1,33,185,57]),t},i.__18_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"F","center",!1,33,236,57]),t},i.__19_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"G","center",!1,33,288,57]),t},i.__20_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"H","center",!1,33,339,57]),t},i.__21_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"J","center",!1,33,390,57]),t},i.__22_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"K","center",!1,33,442,57]),t},i.__23_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"L","center",!1,33,493,57]),t},i.__24_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"C","center",!1,33,224,101]),t},i.__25_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"V","center",!1,33,275,101]),t},i.__26_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"B","center",!1,33,327,101]),t},i.__27_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"N","center",!1,33,379,101]),t},i.__28_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"M","center",!1,33,430,101]),t},i.__3_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"Q","center",!1,33,59,13]),t},i.__4_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"A","center",!1,33,82,57]),t},i.__5_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"Z","center",!1,33,120,101]),t},i.__6_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"W","center",!1,33,110,13]),t},i.__7_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"S","center",!1,33,133,57]),t},i.__8_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"X","center",!1,33,173,101]),t},i.__9_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"E","center",!1,33,159,13]),t},i.btnA_i=function(){var t=new egret.gui.UIAsset;return this.btnA=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,80,49]),t},i.btnB_i=function(){var t=new egret.gui.UIAsset;return this.btnB=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,325,93]),t},i.btnBreak_i=function(){var t=new egret.gui.UIAsset;return this.btnBreak=t,this.__s(t,["height","source","width","x","y"],[45,"keyBreak_png",58,561,5]),t},i.btnC_i=function(){var t=new egret.gui.UIAsset;return this.btnC=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,222,93]),t},i.btnD_i=function(){var t=new egret.gui.UIAsset;return this.btnD=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,183,49]),t},i.btnE_i=function(){var t=new egret.gui.UIAsset;return this.btnE=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,158,5]),t},i.btnEnter_i=function(){var t=new egret.gui.UIAsset;return this.btnEnter=t,this.__s(t,["height","source","width","x","y"],[55,"keyEnter_png",55,562,66]),t},i.btnF_i=function(){var t=new egret.gui.UIAsset;return this.btnF=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,234,49]),t},i.btnG_i=function(){var t=new egret.gui.UIAsset;return this.btnG=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,286,49]),t},i.btnH_i=function(){var t=new egret.gui.UIAsset;return this.btnH=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,337,49]),t},i.btnI_i=function(){var t=new egret.gui.UIAsset;return this.btnI=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,409,5]),t},i.btnJ_i=function(){var t=new egret.gui.UIAsset;return this.btnJ=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,388,49]),t},i.btnK_i=function(){var t=new egret.gui.UIAsset;return this.btnK=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,440,49]),t},i.btnL_i=function(){var t=new egret.gui.UIAsset;return this.btnL=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,491,49]),t},i.btnM_i=function(){var t=new egret.gui.UIAsset;return this.btnM=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,428,93]),t},i.btnN_i=function(){var t=new egret.gui.UIAsset;return this.btnN=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,377,93]),t},i.btnO_i=function(){var t=new egret.gui.UIAsset;return this.btnO=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,459,5]),t},i.btnP_i=function(){var t=new egret.gui.UIAsset;return this.btnP=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,509,5]),t},i.btnQ_i=function(){var t=new egret.gui.UIAsset;return this.btnQ=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,58,5]),t},i.btnR_i=function(){var t=new egret.gui.UIAsset;return this.btnR=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,208,5]),t},i.btnS_i=function(){var t=new egret.gui.UIAsset;return this.btnS=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,131,49]),t},i.btnT_i=function(){var t=new egret.gui.UIAsset;return this.btnT=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,258,5]),t},i.btnU_i=function(){var t=new egret.gui.UIAsset;return this.btnU=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,359,5]),t},i.btnV_i=function(){var t=new egret.gui.UIAsset;return this.btnV=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,274,93]),t},i.btnW_i=function(){var t=new egret.gui.UIAsset;return this.btnW=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,108,5]),t},i.btnX_i=function(){var t=new egret.gui.UIAsset;return this.btnX=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,171,93]),t},i.btnY_i=function(){var t=new egret.gui.UIAsset;return this.btnY=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,309,5]),t},i.btnZ_i=function(){var t=new egret.gui.UIAsset;return this.btnZ=t,this.__s(t,["height","source","width","x","y"],[40,"keybg_png",40,119,93]),t},i.__10_i=function(){var t=new egret.gui.Label;return this.__s(t,"enabled size text textAlign touchEnabled width x y".split(" "),[!1,20,"R","center",!1,33,210,13]),t},e._skinParts="btnQ btnBreak btnEnter btnA btnZ btnW btnS btnX btnE btnR btnT btnY btnU btnI btnO btnP btnD btnF btnG btnH btnJ btnK btnL btnC btnV btnB btnN btnM".split(" "),e}(egret.gui.Skin);t.KeypadSkin=e,e.prototype.__class__="skins.ui.KeypadSkin"}(t.ui||(t.ui={}))}(skins||(skins={}));var SimpleFacade=function(t){function e(){if(e.instance)throw Error("the singleton has already been constructed.");this.dic={},t.call(this)}__extends(e,t);var i=e.prototype;return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},i.setSingletonObj=function(t,e){this.dic[t]=e},i.getSingletonObj=function(t){return this.dic[t]},e}(egret.EventDispatcher);SimpleFacade.prototype.__class__="SimpleFacade";var Keypad=function(t){function e(){t.call(this),this.cachedStr="",this.skinName="skins.ui.KeypadSkin"}__extends(e,t);var i=e.prototype;return i.reset=function(){this.cachedStr=""},i.getStrContent=function(){return this.cachedStr},i.childrenCreated=function(){console.log("Keypad.childernCreated");for(var t="btnA btnB btnC btnD btnE btnF btnG btnH btnI btnJ btnK btnL btnM btnN btnO btnP btnQ btnR btnS btnT btnU btnV btnW btnX btnY btnZ btnEnter btnBreak".split(" "),e=0;e<t.length;e++){var i=this[t[e]];if(i.name=t[e],!i)throw Error("Keypad "+t[e]+" not exist");i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onKey_click,this)}this.sndClick=RES.getRes("Snd_key_mp3")},i.onKey_click=function(t){t=t.currentTarget.name,console.log("Keypad.onKey_click,name:"+t),this.sndClick.stop(),this.sndClick.play();var i;4>=t.length?(this.cachedStr+=t.substr(3,1).toLowerCase(),i=new NormalEvt(e.EVT_CONTENT_UPDATE),i.dat=this.cachedStr):("btnEnter"==t&&(i=new NormalEvt(e.EVT_CLICK_ENTER),i.dat=this.cachedStr),"btnBreak"==t&&(this.cachedStr=this.cachedStr.substr(0,this.cachedStr.length-1),i=new NormalEvt(e.EVT_CONTENT_UPDATE),i.dat=this.cachedStr)),this.dispatchEvent(i)},e.EVT_CLICK_ENTER="EVT_CLICK_ENTER",e.EVT_CLICK_BREAK="EVT_CLICK_BREAK",e.EVT_CONTENT_UPDATE="EVT_CONTENT_UPDATE",e}(egret.gui.SkinnableComponent);Keypad.prototype.__class__="Keypad";var LoadingUI=function(t){function e(){t.call(this),this.createView()}__extends(e,t);var i=e.prototype;return i.createView=function(){this.graphics.beginFill(0,.7),this.graphics.drawRect(0,0,640,480),this.graphics.endFill(),this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=200,this.textField.width=640,this.textField.height=100,this.textField.textAlign="center"},i.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);LoadingUI.prototype.__class__="LoadingUI";var AppConstants=function(){function t(){}return t.CONT_MAIN="CONTAINER_MAIN",t.PAGE_MENU="PAGE_MENU",t.PAGE_SELE_LV="PAGE_SELE_LV",t.PAGE_LV_COMPLETE="PAGE_LV_COMPLETE",t.PAGE_INSTRUCTIONS="PAGE_INSTRUCTIONS",t.PAGE_GAMING="PAGE_GAMING",t.SCENE_GAMING="SCENE_GAMING",t.SHOW_PAGE_MENU="SHOW_PAGE_MENU",t.SHOW_PAGE_INSTRUCTIONS="SHOW_PAGE_INSTRUCTIONS",t.EVT_CHANGE_PAGE="EVT_CHANGE_PAGE",t}();AppConstants.prototype.__class__="AppConstants";var GamingScene=function(t){function e(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAdded2stage,this),this.setupSceneElems()}__extends(e,t);var i=e.prototype;return i.onAdded2stage=function(t){console.log("GamingScene.onAdded2stage"),this.stage.addChild(this.correctEff)},i.setupSceneElems=function(){this.bg=new egret.Bitmap,this.bg.texture=RES.getRes("PageGaming"),this.addChild(this.bg),this.charac=new Character,this.charac.x=130,this.charac.y=300,this.charac.playAction(Character.ACTION_IDLE),this.addChild(this.charac),this.correctEff=new CorrectEff,this.correctEff.x=320,this.correctEff.y=200},e.currLv=0,e}(egret.DisplayObjectContainer);GamingScene.prototype.__class__="GamingScene",function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","width"],[480,640]),this.elementsContent=[this.__3_i(),this.btnClose_i(),this.btnSnd_i(),this.wordImg_i(),this.keypad_i(),this.lbWord_i(),this.lbHint_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.btnClose_i=function(){var t=new egret.gui.UIAsset;return this.btnClose=t,this.__s(t,["height","source","width","x","y"],[48,"PageGaming_BtnClose",61,490,269]),t},i.btnSnd_i=function(){var t=new egret.gui.UIAsset;return this.btnSnd=t,this.__s(t,["height","source","width","x","y"],[130,"PageGaming_btnSnd",81,557,184]),t},i.keypad_i=function(){var t=new Keypad;return this.keypad=t,this.__s(t,["height","width","x","y"],[150,640,0,329]),t},i.lbHint_i=function(){var t=new egret.gui.Label;return this.lbHint=t,this.__s(t,"size text textAlign width x y".split(" "),[24,"hint","center",435,108,312]),t},i.lbWord_i=function(){var t=new egret.gui.Label;return this.lbWord=t,this.__s(t,["text","textAlign","width","x","y"],["...","center",255,194,266]),t},i.__3_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["height","source","width","x","y"],[310,"wordImgBg_png",310,164,21]),t},i.wordImg_i=function(){var t=new egret.gui.UIAsset;return this.wordImg=t,this.__s(t,["height","width","x","y"],[200,200,223,69]),t},e._skinParts="btnClose btnSnd wordImg keypad lbWord lbHint".split(" "),e}(egret.gui.Skin);t.PageGamingSkin=e,e.prototype.__class__="skins.ui.PageGamingSkin"}(t.ui||(t.ui={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","width"],[100,100]),this.elementsContent=[this.__3_i(),this.lb_i(),this.arrow_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.arrow_i=function(){var t=new egret.gui.UIAsset;return this.arrow=t,this.__s(t,["height","source","width","x","y"],[29,"greenArrow_png",31,35,-1]),t},i.lb_i=function(){var t=new egret.gui.Label;return this.lb=t,this.__s(t,"size text textAlign textColor width x y".split(" "),[20,"标签","center",0,78,10,37]),t},i.__3_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["height","source","width","x","y"],[100,"PageSeleLv_cell",100,0,0]),t},e._skinParts=["lb","arrow"],e}(egret.gui.Skin);t.SeleLvCellSkin=e,e.prototype.__class__="skins.ui.SeleLvCellSkin"}(t.ui||(t.ui={}))}(skins||(skins={}));var Character=function(t){function e(){t.call(this),this.getMcs()}__extends(e,t);var i=e.prototype;return i.playAction=function(t){switch(this.removeChildren(),this.mcIdle.stop(),this.mcHappy.stop(),this.mcSad.stop(),t){case e.ACTION_IDLE:this.addChild(this.mcIdle),this.mcIdle.play(-1);break;case e.ACTION_HAPPY:this.addChild(this.mcHappy),this.mcHappy.gotoAndPlay(1,1);break;case e.ACTION_SAD:this.addChild(this.mcSad),this.mcSad.gotoAndPlay(1,1)}},i.getMcs=function(){var t=RES.getRes("character_json"),i=RES.getRes("character_png"),t=new egret.MovieClipDataFactory(t,i);this.mcIdle=new egret.MovieClip(t.generateMovieClipData("Charac_idle")),this.mcHappy=new egret.MovieClip(t.generateMovieClipData("Charac_happy")),this.mcSad=new egret.MovieClip(t.generateMovieClipData("Charac_sad")),this.mcIdle.stop(),this.mcHappy.stop(),this.mcSad.stop(),this.mcHappy.addEventListener(egret.Event.COMPLETE,this.onHappyComplete,this),this.mcSad.addEventListener(egret.Event.COMPLETE,this.onSadComplete,this),SimpleFacade.getInstance().addEventListener(e.EVT_PlayHappy,this.onPlayHappy,this),SimpleFacade.getInstance().addEventListener(e.EVT_PlaySad,this.onPlaySad,this)},i.onPlayHappy=function(t){this.playAction(e.ACTION_HAPPY)},i.onPlaySad=function(t){this.playAction(e.ACTION_SAD)},i.onHappyComplete=function(t){t=new egret.Event(e.EVT_HappyEnd),SimpleFacade.getInstance().dispatchEvent(t),this.playAction(e.ACTION_IDLE)},i.onSadComplete=function(t){t=new egret.Event(e.EVT_SadEnd),SimpleFacade.getInstance().dispatchEvent(t),this.playAction(e.ACTION_IDLE)},e.ACTION_IDLE="ACTION_IDLE",e.ACTION_HAPPY="ACTION_HAPPY",e.ACTION_SAD="ACTION_SAD",e.EVT_PlayHappy="EVT_PlayHappy",e.EVT_PlaySad="EVT_PlaySad",e.EVT_HappyEnd="EVT_HappyEnd",e.EVT_SadEnd="EVT_SadEnd",e}(egret.DisplayObjectContainer);Character.prototype.__class__="Character";var PageGaming=function(t){function e(){t.call(this),this.currWordIndex=0,this.loadingUI=new LoadingUI,this.skinName="skins.ui.PageGamingSkin",this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAdded2stage,this)}__extends(e,t);var i=e.prototype;return i.onAdded2stage=function(t){console.log("PageGaming.onAdded2stage. currLv:"+GamingScene.currLv),this.loadLvAssets(GamingScene.currLv)},i.loadLvAssets=function(t){this.currGroupName="lv"+t,this.stage.addChild(this.loadingUI),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup(this.currGroupName)},i.onResourceLoadComplete=function(t){if(t.groupName==this.currGroupName){this.stage.removeChild(this.loadingUI),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),console.log("PageGaming 当前关卡资源加载完毕"),t=RES.getRes("level"+GamingScene.currLv+"_json").dataList;for(var e=0;e<t.length;e++)console.log("listItem.name:"+t[e].name);this.currList=t,this.currWordIndex=0,this.updateWordDisp(),this.playCurrSnd()}},i.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},i.onResourceProgress=function(t){t.groupName==this.currGroupName&&this.loadingUI.setProgress(t.itemsLoaded,t.itemsTotal)},i.childrenCreated=function(){this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose_click,this),this.btnSnd.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnSnd_click,this),this.keypad.addEventListener(Keypad.EVT_CONTENT_UPDATE,this.onKeypadContent_update,this),this.keypad.addEventListener(Keypad.EVT_CLICK_ENTER,this.onKeyPadEnter,this),SimpleFacade.getInstance().addEventListener(Character.EVT_HappyEnd,this.onHappyComplete,this),SimpleFacade.getInstance().addEventListener(Character.EVT_SadEnd,this.onSadComplete,this),console.log("PageGaming.childernCreated"),this.lbHint.visible=!1},i.onKeypadContent_update=function(t){this.lbWord.text=t.dat},i.onKeyPadEnter=function(t){var e=this.currList[this.currWordIndex].name;e==t.dat?(console.log("Right"),t=new egret.Event(Character.EVT_PlayHappy)):(console.log("Wrong"),t=new egret.Event(Character.EVT_PlaySad),this.lbHint.text="提示: "+e,this.lbHint.visible=!0),SimpleFacade.getInstance().dispatchEvent(t)},i.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),console.log("PageGaming.partAdded")},i.onBtnClose_click=function(t){console.log("PageGaming.onBtnClose_click"),(t=new NormalEvt(AppConstants.EVT_CHANGE_PAGE)).dat=AppConstants.PAGE_SELE_LV,SimpleFacade.getInstance().dispatchEvent(t),RES.getRes("Snd_btn_mp3").play()},i.onBtnSnd_click=function(t){console.log("PageGaming.onBtnSnd_click"),this.playCurrSnd()},i.playCurrSnd=function(){RES.getRes(this.currList[this.currWordIndex].name+"_mp3").play()},i.updateWordDisp=function(){0>this.currWordIndex&&(this.currWordIndex=0),this.currWordIndex>this.currList.length-1&&(this.currWordIndex=this.currList.length-1),this.wordImg.source=this.currList[this.currWordIndex].name+"_jpg"},i.onHappyComplete=function(t){this.currWordIndex>=this.currList.length-1?(t=new NormalEvt(AppConstants.EVT_CHANGE_PAGE),t.dat=AppConstants.PAGE_LV_COMPLETE,SimpleFacade.getInstance().dispatchEvent(t)):(this.currWordIndex++,this.updateWordDisp(),this.playCurrSnd()),this.keypad.reset(),this.lbWord.text=""},i.onSadComplete=function(t){this.keypad.reset(),this.lbWord.text="",this.lbHint.text="",this.lbHint.visible=!1},e}(egret.gui.SkinnableComponent);PageGaming.prototype.__class__="PageGaming";var SeleLvCell=function(t){function e(){t.call(this),this.skinName="skins.ui.SeleLvCellSkin"}return __extends(e,t),e.prototype.childrenCreated=function(){this.lb.touchEnabled=!1},e}(egret.gui.SkinnableComponent);SeleLvCell.prototype.__class__="SeleLvCell",function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__4_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[]),new egret.gui.State("disabled",[])]}return __extends(e,t),e.prototype.__4_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["fillMode","height","source","verticalCenter","percentWidth"],["scale",10,"hscrollbtn_png",0,100]),t},e}(egret.gui.Skin);t.HScrollBarThumbSkin=e,e.prototype.__class__="skins.simple.HScrollBarThumbSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.height=85,this.elementsContent=[this.__4_i(),this.labelDisplay_i(),this.__5_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__4","source","app_list_item_select_png"),new egret.gui.SetProperty("labelDisplay","textColor",15790320)]),new egret.gui.State("disabled",[])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__5_i=function(){var t=new egret.gui.Rect;return this.__s(t,["bottom","fillColor","height","percentWidth"],[0,8947848,.5,100]),t},i.labelDisplay_i=function(){var t=new egret.gui.Label;return this.labelDisplay=t,this.__s(t,["fontFamily","left","size","textColor","verticalCenter"],["Tahoma",32,24,1118481,0]),t},i.__4_i=function(){var t=new egret.gui.UIAsset;return this.__4=t,this.__s(t,["percentHeight","source","percentWidth"],[100,"app_list_item_up_png",100]),t},e._skinParts=["labelDisplay"],e}(egret.gui.Skin);t.ItemRendererSkin=e,e.prototype.__class__="skins.simple.ItemRendererSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__4_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__4_i=function(){var t=new egret.gui.Scroller;return this.__s(t,["percentHeight","horizontalScrollPolicy","percentWidth"],[100,"off",100]),t.viewport=this.dataGroup_i(),t},i.dataGroup_i=function(){var t=new egret.gui.DataGroup;return this.dataGroup=t,t.layout=this.__3_i(),t},i.__3_i=function(){var t=new egret.gui.VerticalLayout;return this.__s(t,["gap","horizontalAlign"],[0,"contentJustify"]),t},e._skinParts=["dataGroup"],e}(egret.gui.Skin);t.ListSkin=e,e.prototype.__class__="skins.simple.ListSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.minHeight=22,this.elementsContent=[this.__7_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__7","source","tree_btndown_png")]),new egret.gui.State("disabled",[new egret.gui.SetProperty("__7","source","tree_btndisabled_png")]),new egret.gui.State("upAndSelected",[new egret.gui.SetProperty("__7","source","tree_btnupselect_png")]),new egret.gui.State("downAndSelected",[new egret.gui.SetProperty("__7","source","tree_btndownselect_png")]),new egret.gui.State("disabledAndSelected",[new egret.gui.SetProperty("__7","source","tree_btndisabledselect_png")])]}return __extends(e,t),e.prototype.__7_i=function(){var t=new egret.gui.UIAsset;return this.__7=t,this.__s(t,["percentHeight","source","percentWidth"],[100,"tree_btnup_png",100]),t},e}(egret.gui.Skin);t.TreeDisclosureButtonSkin=e,e.prototype.__class__="skins.simple.TreeDisclosureButtonSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__4_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[]),new egret.gui.State("disabled",[])]}return __extends(e,t),e.prototype.__4_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["fillMode","percentHeight","horizontalCenter","source","width"],["scale",100,0,"vscrollbtn_png",10]),t},e}(egret.gui.Skin);t.VScrollBarThumbSkin=e,e.prototype.__class__="skins.simple.VScrollBarThumbSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","width"],[480,640]),this.elementsContent=[this.__3_i(),this.btnBack_i(),this.btnPlay_i()],this.__4_i(),this.__5_i(),this.states=[new egret.gui.State("normal",[new egret.gui.AddItems("__4","","before","btnPlay"),new egret.gui.AddItems("__5","","last","")]),new egret.gui.State("disabled",[])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__4_i=function(){var t=new egret.gui.Label;return this.__4=t,this.__s(t,["enabled","text","touchEnabled","x","y"],[!1,"返回",!1,77,432]),t},i.__5_i=function(){var t=new egret.gui.Label;return this.__5=t,this.__s(t,["enabled","text","touchEnabled","x","y"],[!1,"开始",!1,495,430]),t},i.btnBack_i=function(){var t=new egret.gui.UIAsset;return this.btnBack=t,this.__s(t,["height","source","width","x","y"],[50,"btnBG",200,12,424]),t},i.btnPlay_i=function(){var t=new egret.gui.UIAsset;return this.btnPlay=t,this.__s(t,["height","source","width","x","y"],[50,"btnBG",200,430,423]),t},i.__3_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["height","source","width","x","y"],[480,"PageInstructions",640,0,0]),t},e._skinParts=["btnBack","btnPlay"],e}(egret.gui.Skin);t.PageInstructionsSkin=e,e.prototype.__class__="skins.ui.PageInstructionsSkin"}(t.ui||(t.ui={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","width"],[480,640]),this.elementsContent=[this.__3_i(),this.btnOK_i(),this.lbTitle_i()],this.__4_i(),this.states=[new egret.gui.State("normal",[new egret.gui.AddItems("__4","","before","lbTitle")]),new egret.gui.State("disabled",[])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__4_i=function(){var t=new egret.gui.Label;return this.__4=t,this.__s(t,["enabled","text","touchEnabled","x","y"],[!1,"返回",!1,294,345]),t},i.btnOK_i=function(){var t=new egret.gui.UIAsset;return this.btnOK=t,this.__s(t,["height","source","width","x","y"],[50,"btnBG",200,221,339]),t},i.lbTitle_i=function(){var t=new egret.gui.Label;return this.lbTitle=t,this.__s(t,["text","textAlign","width","x","y"],["...","center",293,169,216]),t},i.__3_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["height","source","width","x","y"],[480,"PageGaming",640,0,0]),t},e._skinParts=["btnOK","lbTitle"],e}(egret.gui.Skin);t.PageLvCompleteSkin=e,e.prototype.__class__="skins.ui.PageLvCompleteSkin"}(t.ui||(t.ui={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","width"],[480,640]),this.elementsContent=[this.__3_i(),this.btnPlay_i()],this.btnInstructions_i(),this.__4_i(),this.__5_i(),this.states=[new egret.gui.State("normal",[new egret.gui.AddItems("btnInstructions","","last",""),new egret.gui.AddItems("__4","","last",""),new egret.gui.AddItems("__5","","last","")]),new egret.gui.State("disabled",[new egret.gui.SetProperty("btnPlay","source","btnBG")])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__4_i=function(){var t=new egret.gui.Label;return this.__4=t,this.__s(t,["enabled","text","touchEnabled","x","y"],[!1,"开始",!1,279,335]),t},i.__5_i=function(){var t=new egret.gui.Label;return this.__5=t,this.__s(t,["enabled","text","touchEnabled","x","y"],[!1,"帮助",!1,280,409]),t},i.btnInstructions_i=function(){var t=new egret.gui.UIAsset;return this.btnInstructions=t,this.__s(t,["height","source","width","x","y"],[50,"btnBG",200,211,399]),t},i.btnPlay_i=function(){var t=new egret.gui.UIAsset;return this.btnPlay=t,this.__s(t,["height","source","width","x","y"],[50,"btnBG",200,211,329]),t},i.__3_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["height","source","width","x","y"],[480,"PageMenu",640,0,0]),t},e._skinParts=["btnPlay","btnInstructions"],e}(egret.gui.Skin);t.PageMenuSkin=e,e.prototype.__class__="skins.ui.PageMenuSkin"}(t.ui||(t.ui={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","width"],[480,640]),this.elementsContent=[this.__3_i(),this.btnPrev_i(),this.btnNext_i(),this.cell0_i(),this.cell1_i(),this.cell2_i(),this.cell3_i(),this.cell4_i(),this.cell5_i(),this.cell6_i(),this.cell7_i()],this.__4_i(),this.__5_i(),this.states=[new egret.gui.State("normal",[new egret.gui.AddItems("__4","","before","btnNext"),new egret.gui.AddItems("__5","","before","cell0")]),new egret.gui.State("disabled",[])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__4_i=function(){var t=new egret.gui.Label;return this.__4=t,this.__s(t,["enabled","text","touchEnabled","x","y"],[!1,"上一页",!1,68,426]),t},i.__5_i=function(){var t=new egret.gui.Label;return this.__5=t,this.__s(t,["enabled","text","touchEnabled","x","y"],[!1,"下一页",!1,488,430]),t},i.btnNext_i=function(){var t=new egret.gui.UIAsset;return this.btnNext=t,this.__s(t,["height","source","width","x","y"],[50,"btnBG",200,431,424]),t},i.btnPrev_i=function(){var t=new egret.gui.UIAsset;return this.btnPrev=t,this.__s(t,["height","source","width","x","y"],[50,"btnBG",200,11,420]),t},i.cell0_i=function(){var t=new SeleLvCell;return this.cell0=t,this.__s(t,["height","width","x","y"],[100,100,77,95]),t},i.cell1_i=function(){var t=new SeleLvCell;return this.cell1=t,this.__s(t,["height","width","x","y"],[100,100,208,95]),t},i.cell2_i=function(){var t=new SeleLvCell;return this.cell2=t,this.__s(t,["height","width","x","y"],[100,100,340,95]),t},i.cell3_i=function(){var t=new SeleLvCell;return this.cell3=t,this.__s(t,["height","width","x","y"],[100,100,471,95]),t},i.cell4_i=function(){var t=new SeleLvCell;return this.cell4=t,this.__s(t,["height","width","x","y"],[100,100,75,241]),t},i.cell5_i=function(){var t=new SeleLvCell;return this.cell5=t,this.__s(t,["height","width","x","y"],[100,100,206,241]),t},i.cell6_i=function(){var t=new SeleLvCell;return this.cell6=t,this.__s(t,["height","width","x","y"],[100,100,338,241]),t},i.cell7_i=function(){var t=new SeleLvCell;return this.cell7=t,this.__s(t,["height","width","x","y"],[100,100,469,241]),t},i.__3_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["height","source","width","x","y"],[480,"PageGaming",640,0,0]),t},e._skinParts="btnPrev btnNext cell0 cell1 cell2 cell3 cell4 cell5 cell6 cell7".split(" "),e}(egret.gui.Skin);t.PageSeleLvSkin=e,e.prototype.__class__="skins.ui.PageSeleLvSkin"}(t.ui||(t.ui={}))}(skins||(skins={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i,n){function s(n){e.call(i,n,t)}n=t,t.prototype&&(n=new t),n instanceof egret.DisplayObject||n instanceof egret.Texture?e.call(i,n,t):"string"==typeof t?RES.hasRes(t)?RES.getResAsync(t,s,this):RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_IMAGE):e.call(i,n,t)},t}();AssetAdapter.prototype.__class__="AssetAdapter",function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__4_i(),this.labelDisplay_i()],this.states=[new egret.gui.State("up",[new egret.gui.SetProperty("labelDisplay","textColor",1118481)]),new egret.gui.State("down",[new egret.gui.SetProperty("__4","source","closebtn_down_png"),new egret.gui.SetProperty("labelDisplay","textColor",2236962)]),new egret.gui.State("disabled",[new egret.gui.SetProperty("__4","source","closebtn_disabled_png"),new egret.gui.SetProperty("labelDisplay","textColor",13421772)])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.labelDisplay_i=function(){var t=new egret.gui.Label;return this.labelDisplay=t,this.__s(t,"bottom fontFamily left right size textAlign top verticalAlign".split(" "),[12,"Tahoma",10,10,20,"center",8,"middle"]),t},i.__4_i=function(){var t=new egret.gui.UIAsset;return this.__4=t,this.__s(t,["percentHeight","source","percentWidth"],[100,"closebtn_up_png",100]),t},e._skinParts=["labelDisplay"],e}(egret.gui.Skin);t.CloseButtonSkin=e,e.prototype.__class__="skins.simple.CloseButtonSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.height=40,this.elementsContent=[this.__4_i(),this.__5_i(),this.labelDisplay_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__4","source","app_list_item_select_png"),new egret.gui.SetProperty("labelDisplay","textColor",15790320)]),new egret.gui.State("disabled",[])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__5_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["height","source","percentWidth"],[1,"app_list_item_cutlline_png",100]),t},i.labelDisplay_i=function(){var t=new egret.gui.Label;return this.labelDisplay=t,this.__s(t,["fontFamily","left","size","textColor","verticalCenter"],["Tahoma",32,24,1118481,0]),t},i.__4_i=function(){var t=new egret.gui.UIAsset;return this.__4=t,this.__s(t,["percentHeight","source","percentWidth"],[100,"app_list_item_up_png",100]),t},e._skinParts=["labelDisplay"],e}(egret.gui.Skin);t.DropDownListItemRendererSkin=e,e.prototype.__class__="skins.simple.DropDownListItemRendererSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","minWidth"],[60,140]),this.elementsContent=[this.__4_i(),this.__5_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__4","source","DropDownListButtonSkin_down_png"),new egret.gui.SetProperty("__5","source","dropdownlist_arrow_down_png")]),new egret.gui.State("disabled",[])]}__extends(e,t);var i=e.prototype;return i.__4_i=function(){var t=new egret.gui.UIAsset;return this.__4=t,this.__s(t,["percentHeight","source","percentWidth"],[100,"DropDownListButtonSkin_up_png",100]),t},i.__5_i=function(){var t=new egret.gui.UIAsset;return this.__5=t,this.__s(t,["right","source","verticalCenter"],[4,"dropdownlist_arrow_up_png",0]),t},e}(egret.gui.Skin);t.DropDownListOpenButtonSkin=e,e.prototype.__class__="skins.simple.DropDownListOpenButtonSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this.__s=egret.gui.setProperties,this.__s(this,["minHeight","minWidth"],[10,20]),this.elementsContent=[this.track_i(),this.thumb_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"skinParts",{get:function(){return i._skinParts},enumerable:!0,configurable:!0}),n.thumb_i=function(){var e=new egret.gui.Button;return this.thumb=e,this.__s(e,["height","skinName","verticalCenter","width"],[10,t.simple.HScrollBarThumbSkin,0,24]),e},n.track_i=function(){var t=new egret.gui.UIAsset;return this.track=t,this.__s(t,"height left right source verticalCenter percentWidth".split(" "),[10,10,10,"hscrolltrack_png",0,100]),t},i._skinParts=["track","thumb"],i}(egret.gui.Skin);e.HScrollBarSkin=i,i.prototype.__class__="skins.simple.HScrollBarSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__4_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[]),new egret.gui.State("disabled",[])]}return __extends(e,t),e.prototype.__4_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["fillMode","percentHeight","source","percentWidth"],["scale",100,"hslider_thumb_png",100]),t},e}(egret.gui.Skin);t.HSliderThumbSkin=e,e.prototype.__class__="skins.simple.HSliderThumbSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","minWidth"],[60,140]),this.elementsContent=[this.__7_i(),this.labelDisplay_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__7","source","button_down_png")]),new egret.gui.State("disabled",[new egret.gui.SetProperty("__7","source","button_disabled_png")]),new egret.gui.State("upAndSelected",[new egret.gui.SetProperty("__7","source","button_down_png")]),new egret.gui.State("downAndSelected",[new egret.gui.SetProperty("__7","source","button_down_png")]),new egret.gui.State("disabledAndSelected",[new egret.gui.SetProperty("__7","source","button_down_png")])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.labelDisplay_i=function(){var t=new egret.gui.Label;return this.labelDisplay=t,this.__s(t,"bottom fontFamily left right size textAlign textColor top verticalAlign".split(" "),[12,"Tahoma",10,10,20,"center",1118481,8,"middle"]),t},i.__7_i=function(){var t=new egret.gui.UIAsset;return this.__7=t,this.__s(t,["percentHeight","source","percentWidth"],[100,"button_normal_png",100]),t},e._skinParts=["labelDisplay"],e}(egret.gui.Skin);t.TabBarButtonSkin=e,e.prototype.__class__="skins.simple.TabBarButtonSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this.__s=egret.gui.setProperties,this.minHeight=22,this.elementsContent=[this.contentGroup_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[]),new egret.gui.State("disabled",[])]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"skinParts",{get:function(){return i._skinParts},enumerable:!0,configurable:!0}),n.contentGroup_i=function(){var t=new egret.gui.Group;return this.contentGroup=t,this.__s(t,["bottom","top"],[0,0]),t.layout=this.__4_i(),t.elementsContent=[this.disclosureButton_i(),this.iconDisplay_i(),this.labelDisplay_i()],t},n.disclosureButton_i=function(){var e=new egret.gui.ToggleButton;return this.disclosureButton=e,this.__s(e,["skinName","verticalCenter"],[t.simple.TreeDisclosureButtonSkin,0]),e},n.iconDisplay_i=function(){var t=new egret.gui.UIAsset;return this.iconDisplay=t,this.__s(t,["height","width"],[24,24]),t},n.labelDisplay_i=function(){var t=new egret.gui.Label;return this.labelDisplay=t,this.__s(t,"bottom fontFamily left maxDisplayedLines right textAlign textColor top verticalAlign".split(" "),[3,"Tahoma",5,1,5,"center",7368816,3,"middle"]),t},n.__4_i=function(){var t=new egret.gui.HorizontalLayout;return this.__s(t,["gap","verticalAlign"],[1,"middle"]),t},i._skinParts=["disclosureButton","iconDisplay","labelDisplay","contentGroup"],i}(egret.gui.Skin);e.TreeItemRendererSkin=i,i.prototype.__class__="skins.simple.TreeItemRendererSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this.__s=egret.gui.setProperties,this.__s(this,["minHeight","minWidth"],[10,10]),this.elementsContent=[this.track_i(),this.thumb_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"skinParts",{get:function(){return i._skinParts},enumerable:!0,configurable:!0}),n.thumb_i=function(){var e=new egret.gui.Button;return this.thumb=e,this.__s(e,["height","horizontalCenter","skinName","width"],[20,0,t.simple.VScrollBarThumbSkin,10]),e},n.track_i=function(){var t=new egret.gui.UIAsset;return this.track=t,this.__s(t,"bottom percentHeight horizontalCenter source top width".split(" "),[10,100,0,"vscrolltrack_png",10,10]),t},i._skinParts=["track","thumb"],i}(egret.gui.Skin);e.VScrollBarSkin=i,i.prototype.__class__="skins.simple.VScrollBarSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__4_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[]),new egret.gui.State("disabled",[])]}return __extends(e,t),e.prototype.__4_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["percentHeight","source","percentWidth"],[100,"vslider_thumb_png",100]),t},e}(egret.gui.Skin);t.VSliderThumbSkin=e,e.prototype.__class__="skins.simple.VSliderThumbSkin"}(t.simple||(t.simple={}))}(skins||(skins={}));var PageInstructions=function(t){function e(){t.call(this),this.skinName="skins.ui.PageInstructionsSkin"}__extends(e,t);var i=e.prototype;return i.childrenCreated=function(){this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnBack_click,this),this.btnPlay.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnPlay_click,this)},i.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},i.onBtnBack_click=function(t){console.log("PageInstructions.onBtnBack_click"),(t=new NormalEvt(AppConstants.EVT_CHANGE_PAGE)).dat=AppConstants.PAGE_MENU,SimpleFacade.getInstance().dispatchEvent(t),RES.getRes("Snd_btn_mp3").play()},i.onBtnPlay_click=function(t){console.log("PageInstructions.onBtnPlay_click"),(t=new NormalEvt(AppConstants.EVT_CHANGE_PAGE)).dat=AppConstants.PAGE_GAMING,SimpleFacade.getInstance().dispatchEvent(t),RES.getRes("Snd_btn_mp3").play()},e}(egret.gui.SkinnableComponent);PageInstructions.prototype.__class__="PageInstructions";var PageLvComplete=function(t){function e(){t.call(this),this.skinName="skins.ui.PageLvCompleteSkin",this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAdded2stage,this)}__extends(e,t);var i=e.prototype;return i.childrenCreated=function(){this.btnOK.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnOK_click,this)},i.onBtnOK_click=function(t){(t=new NormalEvt(AppConstants.EVT_CHANGE_PAGE)).dat=AppConstants.PAGE_SELE_LV,SimpleFacade.getInstance().dispatchEvent(t),RES.getRes("Snd_btn_mp3").play()},i.onAdded2stage=function(t){this.lbTitle.text="好棒啊，当前单元完成了，去挑战下个单元吧！"},e}(egret.gui.SkinnableComponent);PageLvComplete.prototype.__class__="PageLvComplete";var PageMenu=function(t){function e(){t.call(this),this.skinName="skins.ui.PageMenuSkin",this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAdded2stage,this)}__extends(e,t);var i=e.prototype;return i.onAdded2stage=function(t){},i.childrenCreated=function(){this.btnPlay.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnPlay_click,this),this.btnInstructions.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnInstructions_click,this)},i.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},i.onBtnPlay_click=function(t){console.log("PageMenu onBtnPlay_click"),(t=new NormalEvt(AppConstants.EVT_CHANGE_PAGE)).dat=AppConstants.PAGE_SELE_LV,SimpleFacade.getInstance().dispatchEvent(t),RES.getRes("Snd_btn_mp3").play()},i.onBtnInstructions_click=function(t){console.log("PageMenu onBtnInstructions_click"),(t=new NormalEvt(AppConstants.EVT_CHANGE_PAGE)).dat=AppConstants.PAGE_INSTRUCTIONS,SimpleFacade.getInstance().dispatchEvent(t),RES.getRes("Snd_btn_mp3").play()},e}(egret.gui.SkinnableComponent);PageMenu.prototype.__class__="PageMenu";var PageSeleLv=function(t){function e(){t.call(this),this.colTotal=this.rowTotal=4,this.totalPage=this.currPage=0,this.cellsTotal=8,this.lvsTotal=20,this.skinName="skins.ui.PageSeleLvSkin"}__extends(e,t);var i=e.prototype;return i.childrenCreated=function(){this.btnPrev.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnPrev_click,this),this.btnNext.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnNext_click,this),this.setupUI()},i.setupUI=function(){console.log("PageSeleLv.setupUI"),this.cells=[],this.totalPage=Math.ceil(this.lvsTotal/this.cellsTotal);for(var t=0;t<this.cellsTotal;t++){var e=this["cell"+t];this.cells.push(e),e.id=t.toString(),e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCellSelected,this)}this.refreshCellsDisp(),console.log("PageSeleLv this.cells.len: "+this.cells.length+",totalPage:"+this.totalPage)},i.refreshCellsDisp=function(){for(var t=0;t<this.cells.length;t++){var e=this.cells[t],i=this.currPage*this.cellsTotal+t;i<this.lvsTotal?(e.lv=i,e.lb.text=String(e.lv+1),e.touchEnabled=!0,e.enabled=!0,e.alpha=1):(e.lv=-1,e.lb.text="..",e.touchEnabled=!1,e.enabled=!1,e.alpha=.3),e.arrow.visible=e.lv==GamingScene.currLv}},i.onCellSelected=function(t){t=t.currentTarget,console.log("onCellSelected cell.lv:"+t.lv),GamingScene.currLv=t.lv,(t=new NormalEvt(AppConstants.EVT_CHANGE_PAGE)).dat=AppConstants.PAGE_GAMING,SimpleFacade.getInstance().dispatchEvent(t),RES.getRes("Snd_btn_mp3").play(),this.refreshCellsDisp()},i.onBtnPrev_click=function(t){console.log("prev click"),0<this.currPage&&this.currPage--,this.refreshCellsDisp(),RES.getRes("Snd_btn_mp3").play()},i.onBtnNext_click=function(t){console.log("next click"),this.currPage<this.totalPage-1&&this.currPage++,this.refreshCellsDisp(),RES.getRes("Snd_btn_mp3").play()},e}(egret.gui.SkinnableComponent);PageSeleLv.prototype.__class__="PageSeleLv";var Main=function(t){function e(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=e.prototype;return i.onAddToStage=function(t){egret_4399_h5api.initGame(100040672,"Growup-看图打单词",this.stage.stageWidth,this.stage.stageHeight),egret.Injector.mapClass("egret.gui.IAssetAdapter",AssetAdapter),egret.gui.Theme.load("resource/theme.thm"),this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/resource.json","resource/")},i.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup("preload")},i.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.createScene())},i.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},i.onResourceProgress=function(t){"preload"==t.groupName&&(this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal),egret_4399_h5api.progress(t.itemsLoaded/t.itemsTotal*100))},i.createScene=function(){this.gameLayer=new egret.DisplayObjectContainer,this.addChild(this.gameLayer),this.guiLayer=new egret.gui.UIStage,this.addChild(this.guiLayer),SimpleFacade.getInstance().setSingletonObj(AppConstants.CONT_MAIN,this);var t=new PageMenu;SimpleFacade.getInstance().setSingletonObj(AppConstants.PAGE_MENU,t),t=new PageInstructions,SimpleFacade.getInstance().setSingletonObj(AppConstants.PAGE_INSTRUCTIONS,t),t=new PageGaming,SimpleFacade.getInstance().setSingletonObj(AppConstants.PAGE_GAMING,t),t=new GamingScene,SimpleFacade.getInstance().setSingletonObj(AppConstants.SCENE_GAMING,t),t=new PageSeleLv,SimpleFacade.getInstance().setSingletonObj(AppConstants.PAGE_SELE_LV,t),t=new PageLvComplete,SimpleFacade.getInstance().setSingletonObj(AppConstants.PAGE_LV_COMPLETE,t),SimpleFacade.getInstance().addEventListener(AppConstants.EVT_CHANGE_PAGE,this.onGlobalChangePageEvt,this),this.changePage(AppConstants.PAGE_MENU)},i.changePage=function(t){var e;if(this.guiLayer.removeAllElements(),!(e=SimpleFacade.getInstance().getSingletonObj(t)))throw Error("Main.changePage page is null,name:"+t);this.guiLayer.addElement(e),this.gameLayer.removeChildren(),t==AppConstants.PAGE_GAMING&&(t=SimpleFacade.getInstance().getSingletonObj(AppConstants.SCENE_GAMING),this.gameLayer.addChild(t))},i.onGlobalChangePageEvt=function(t){this.changePage(t.dat)},e}(egret.DisplayObjectContainer);Main.prototype.__class__="Main",function(t){!function(e){var i=function(e){function i(){e.call(this),this.__s=egret.gui.setProperties,this.__s(this,["maxWidth","minHeight","minWidth"],[710,230,370]),this.elementsContent=[this.__1_i(),this.moveArea_i(),this.contentDisplay_i(),this.__4_i()]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"skinParts",{get:function(){return i._skinParts},enumerable:!0,configurable:!0}),n.__2_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["percentHeight","source","percentWidth"],[100,"panel_headeback_png",100]),t},n.__3_i=function(){var t=new egret.gui.HorizontalLayout;return this.__s(t,["gap","horizontalAlign","paddingLeft","paddingRight"],[10,"center",20,20]),t},n.__4_i=function(){var t=new egret.gui.Group;return this.__s(t,["bottom","horizontalCenter"],[25,0]),t.layout=this.__3_i(),t.elementsContent=[this.firstButton_i(),this.secondButton_i()],t},n.closeButton_i=function(){var e=new egret.gui.Button;return this.closeButton=e,this.__s(e,["right","skinName","verticalCenter"],[10,t.simple.CloseButtonSkin,0]),e},n.contentDisplay_i=function(){var t=new egret.gui.Label;return this.contentDisplay=t,this.__s(t,"bottom fontFamily left padding right size textAlign textColor top verticalAlign".split(" "),[45,"Tahoma",1,10,1,22,"center",7499888,36,"middle"]),t},n.firstButton_i=function(){var t=new egret.gui.Button;return this.firstButton=t,this.__s(t,["height","label","width"],[50,"OK",115]),t},n.moveArea_i=function(){var t=new egret.gui.Group;return this.moveArea=t,this.__s(t,["height","left","right"],[55,3,9]),t.elementsContent=[this.__2_i(),this.titleDisplay_i(),this.closeButton_i()],t},n.secondButton_i=function(){var t=new egret.gui.Button;return this.secondButton=t,this.__s(t,["height","label","width"],[50,"cancel",115]),t},n.__1_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["percentHeight","source","percentWidth"],[100,"panel_back_png",100]),t},n.titleDisplay_i=function(){var t=new egret.gui.Label;return this.titleDisplay=t,this.__s(t,"fontFamily left maxDisplayedLines minHeight right size textAlign textColor verticalAlign verticalCenter".split(" "),["Tahoma",5,1,28,5,26,"center",7499888,"middle",0]),t},i._skinParts="titleDisplay closeButton moveArea contentDisplay firstButton secondButton".split(" "),i}(egret.gui.Skin);e.AlertSkin=i,i.prototype.__class__="skins.simple.AlertSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["minHeight","minWidth"],[60,140]),this.elementsContent=[this.__4_i(),this.__6_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__4","source","button_down_png"),new egret.gui.SetProperty("labelDisplay","textColor",2236962)]),new egret.gui.State("disabled",[new egret.gui.SetProperty("__4","source","button_disabled_png"),new egret.gui.SetProperty("labelDisplay","textColor",13421772)])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__5_i=function(){var t=new egret.gui.HorizontalLayout;return this.__s(t,["gap","horizontalAlign","verticalAlign"],[0,"center","middle"]),t},i.__6_i=function(){var t=new egret.gui.Group;return this.__s(t,["bottom","left","right","top"],[10,10,10,10]),t.layout=this.__5_i(),t.elementsContent=[this.iconDisplay_i(),this.labelDisplay_i()],t},i.iconDisplay_i=function(){var t=new egret.gui.UIAsset;return this.iconDisplay=t},i.labelDisplay_i=function(){var t=new egret.gui.Label;return this.labelDisplay=t,this.__s(t,"fontFamily paddingLeft paddingRight size textAlign textColor verticalAlign".split(" "),["Tahoma",5,5,20,"center",1118481,"middle"]),t},i.__4_i=function(){var t=new egret.gui.UIAsset;return this.__4=t,this.__s(t,["percentHeight","source","percentWidth"],[100,"button_normal_png",100]),t},e._skinParts=["iconDisplay","labelDisplay"],e}(egret.gui.Skin);t.ButtonSkin=e,e.prototype.__class__="skins.simple.ButtonSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__9_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__8","source","checkbox_select_over_png")]),new egret.gui.State("disabled",[new egret.gui.SetProperty("__8","source","checkbox_unselect_disabled_png")]),new egret.gui.State("upAndSelected",[new egret.gui.SetProperty("__8","source","checkbox_select_normal_png")]),new egret.gui.State("downAndSelected",[new egret.gui.SetProperty("__8","source","checkbox_unselect_over_png")]),new egret.gui.State("disabledAndSelected",[new egret.gui.SetProperty("__8","source","checkbox_select_disabled_png")])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__8_i=function(){var t=new egret.gui.UIAsset;return this.__8=t,this.__s(t,["fillMode","height","source","verticalCenter","width"],["scale",24,"checkbox_unselect_normal_png",1,24]),t},i.__9_i=function(){var t=new egret.gui.Group;return this.__s(t,["percentHeight","percentWidth"],[100,100]),t.layout=this.__7_i(),t.elementsContent=[this.__8_i(),this.labelDisplay_i()],t},i.labelDisplay_i=function(){var t=new egret.gui.Label;return this.labelDisplay=t,this.__s(t,"fontFamily maxDisplayedLines size textAlign textColor verticalAlign".split(" "),["Tahoma",1,20,"center",7368816,"middle"]),t},i.__7_i=function(){var t=new egret.gui.HorizontalLayout;return t.verticalAlign="middle",t},e._skinParts=["labelDisplay"],e}(egret.gui.Skin);t.CheckBoxSkin=e,e.prototype.__class__="skins.simple.CheckBoxSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.openButton_i(),this.labelDisplay_i(),this.popUp_i()],this.states=[new egret.gui.State("normal",[new egret.gui.SetProperty("labelDisplay","textColor",1118481)]),new egret.gui.State("open",[new egret.gui.SetProperty("labelDisplay","textColor",2236962),new egret.gui.SetProperty("popUp","displayPopUp",!0)]),new egret.gui.State("disabled",[])]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"skinParts",{get:function(){return i._skinParts},enumerable:!0,configurable:!0}),n.dataGroup_i=function(){var e=new egret.gui.DataGroup;return this.dataGroup=e,this.__s(e,["percentHeight","itemRendererSkinName","percentWidth"],[100,t.simple.DropDownListItemRendererSkin,100]),e.layout=this.__4_i(),e},n.dropDown_i=function(){var t=new egret.gui.Group;return this.dropDown=t,this.__s(t,["height","visible"],[400,!0]),t.elementsContent=[this.scroller_i()],t},n.labelDisplay_i=function(){var t=new egret.gui.Label;return this.labelDisplay=t,this.__s(t,"fontFamily paddingLeft touchChildren touchEnabled verticalAlign verticalCenter".split(" "),["Tahoma",10,!1,!1,"middle",0]),t},n.openButton_i=function(){var e=new egret.gui.Button;return this.openButton=e,this.__s(e,["percentHeight","skinName","percentWidth"],[100,t.simple.DropDownListOpenButtonSkin,100]),e},n.popUp_i=function(){var t=new egret.gui.PopUpAnchor;return this.popUp=t,this.__s(t,["displayPopUp","percentHeight","popUpPosition","percentWidth"],[!1,100,"screenCenter",100]),t.popUp=this.dropDown_i(),t},n.scroller_i=function(){var t=new egret.gui.Scroller;return this.scroller=t,this.__s(t,["percentHeight","horizontalScrollPolicy","percentWidth"],[100,"off",100]),t.viewport=this.dataGroup_i(),t},n.__4_i=function(){var t=new egret.gui.VerticalLayout;return this.__s(t,["gap","horizontalAlign"],[0,"justify"]),t},i._skinParts="openButton labelDisplay dataGroup scroller dropDown popUp".split(" "),i}(egret.gui.Skin);e.DropDownListSkin=i,i.prototype.__class__="skins.simple.DropDownListSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this.__s=egret.gui.setProperties,this.__s(this,["minHeight","minWidth"],[13,50]),this.elementsContent=[this.track_i(),this.trackHighlight_i(),this.thumb_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"skinParts",{get:function(){return i._skinParts},enumerable:!0,configurable:!0}),n.thumb_i=function(){var e=new egret.gui.Button;return this.thumb=e,this.__s(e,["height","skinName","verticalCenter","width"],[24,t.simple.HSliderThumbSkin,0,24]),e},n.trackHighlight_i=function(){var t=new egret.gui.UIAsset;return this.trackHighlight=t,this.__s(t,["height","source","verticalCenter"],[10,"hslider_fill_png",0]),t},n.track_i=function(){var t=new egret.gui.UIAsset;return this.track=t,this.__s(t,["height","source","verticalCenter","percentWidth"],[10,"hslider_track_png",0,100]),t},i._skinParts=["track","trackHighlight","thumb"],i}(egret.gui.Skin);e.HSliderSkin=i,i.prototype.__class__="skins.simple.HSliderSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["maxWidth","minHeight","minWidth"],[710,230,470]),this.elementsContent=[this.__3_i(),this.moveArea_i(),this.contentGroup_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__4_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["bottom","left","right","source","top"],[-4,-2,-2,"panel_headeback_png",-2]),t},i.contentGroup_i=function(){var t=new egret.gui.Group;return this.contentGroup=t,this.__s(t,["bottom","clipAndEnableScrolling","top","percentWidth"],[0,!0,50,100]),t},i.moveArea_i=function(){var t=new egret.gui.Group;return this.moveArea=t,this.__s(t,["height","left","right"],[50,0,0]),t.elementsContent=[this.__4_i(),this.titleDisplay_i()],t},i.__3_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["bottom","left","right","source","top"],[-10,-4,-10,"panel_back_png",-4]),t},i.titleDisplay_i=function(){var t=new egret.gui.Label;return this.titleDisplay=t,this.__s(t,"fontFamily left maxDisplayedLines minHeight right size textAlign textColor verticalAlign verticalCenter".split(" "),["Tahoma",5,1,28,5,26,"center",7499888,"middle",0]),t},e._skinParts=["titleDisplay","moveArea","contentGroup"],e}(egret.gui.Skin);t.PanelSkin=e,e.prototype.__class__="skins.simple.PanelSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.track_i(),this.thumb_i(),this.labelDisplay_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.labelDisplay_i=function(){var t=new egret.gui.Label;return this.labelDisplay=t,this.__s(t,"horizontalCenter maxDisplayedLines size textAlign textColor verticalAlign verticalCenter".split(" "),[0,1,20,"center",7368816,"middle",0]),t},i.thumb_i=function(){var t=new egret.gui.UIAsset;return this.thumb=t,t.source="progressbar_fill_png",t},i.track_i=function(){var t=new egret.gui.UIAsset;return this.track=t,this.__s(t,["percentHeight","source","percentWidth"],[100,"progressbar_track_png",100]),t},e._skinParts=["track","thumb","labelDisplay"],e}(egret.gui.Skin);t.ProgressBarSkin=e,e.prototype.__class__="skins.simple.ProgressBarSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__9_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__8","source","radiobutton_select_over_png")]),new egret.gui.State("disabled",[new egret.gui.SetProperty("__8","source","radiobutton_unselect_disabled_png")]),new egret.gui.State("upAndSelected",[new egret.gui.SetProperty("__8","source","radiobutton_select_normal_png")]),new egret.gui.State("downAndSelected",[new egret.gui.SetProperty("__8","source","radiobutton_unselect_over_png")]),new egret.gui.State("disabledAndSelected",[new egret.gui.SetProperty("__8","source","radiobutton_select_disabled_png")])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__8_i=function(){var t=new egret.gui.UIAsset;return this.__8=t,this.__s(t,["fillMode","height","source","verticalCenter","width"],["scale",24,"radiobutton_unselect_normal_png",1,24]),t},i.__9_i=function(){var t=new egret.gui.Group;return this.__s(t,["percentHeight","percentWidth"],[100,100]),t.layout=this.__7_i(),t.elementsContent=[this.__8_i(),this.labelDisplay_i()],t},i.labelDisplay_i=function(){var t=new egret.gui.Label;return this.labelDisplay=t,this.__s(t,"fontFamily maxDisplayedLines size textAlign textColor verticalAlign".split(" "),["Tahoma",1,20,"center",7368816,"middle"]),t},i.__7_i=function(){var t=new egret.gui.HorizontalLayout;return t.verticalAlign="middle",t},e._skinParts=["labelDisplay"],e}(egret.gui.Skin);t.RadioButtonSkin=e,e.prototype.__class__="skins.simple.RadioButtonSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this.__s=egret.gui.setProperties,this.__s(this,["maxWidth","minHeight","minWidth"],[710,230,370]),this.elementsContent=[this.horizontalScrollBar_i(),this.verticalScrollBar_i()]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"skinParts",{get:function(){return i._skinParts},enumerable:!0,configurable:!0}),n.horizontalScrollBar_i=function(){var e=new egret.gui.HScrollBar;return this.horizontalScrollBar=e,e.skinName=t.simple.HScrollBarSkin,e},n.verticalScrollBar_i=function(){var e=new egret.gui.VScrollBar;return this.verticalScrollBar=e,e.skinName=t.simple.VScrollBarSkin,e},i._skinParts=["horizontalScrollBar","verticalScrollBar"],i}(egret.gui.Skin);e.ScrollerSkin=i,i.prototype.__class__="skins.simple.ScrollerSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["maxWidth","minHeight","minWidth"],[710,230,470]),this.elementsContent=[this.contentGroup_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.contentGroup_i=function(){var t=new egret.gui.Group;return this.contentGroup=t,this.__s(t,["percentHeight","percentWidth"],[100,100]),t},e._skinParts=["contentGroup"],e}(egret.gui.Skin);t.SkinnableContainerSkin=e,e.prototype.__class__="skins.simple.SkinnableContainerSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this.__s=egret.gui.setProperties,this.__s(this,["minHeight","minWidth"],[20,60]),this.elementsContent=[this.dataGroup_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"skinParts",{get:function(){return i._skinParts},enumerable:!0,configurable:!0}),n.dataGroup_i=function(){var e=new egret.gui.DataGroup;return this.dataGroup=e,this.__s(e,["percentHeight","itemRenderer","itemRendererSkinName","percentWidth"],[100,new egret.gui.ClassFactory(egret.gui.TabBarButton),t.simple.TabBarButtonSkin,100]),e.layout=this.__3_i(),e},n.__3_i=function(){var t=new egret.gui.HorizontalLayout;return this.__s(t,["gap","horizontalAlign","verticalAlign"],[-1,"justify","contentJustify"]),t},i._skinParts=["dataGroup"],i}(egret.gui.Skin);e.TabBarSkin=i,i.prototype.__class__="skins.simple.TabBarSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["minHeight","minWidth"],[30,100]),this.elementsContent=[this.__3_i(),this.textDisplay_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[new egret.gui.SetProperty("textDisplay","textColor",11184810)])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__3_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["percentHeight","source","percentWidth"],[100,"textbox_png",100]),t},i.textDisplay_i=function(){var t=new egret.gui.EditableText;return this.textDisplay=t,this.__s(t,"bottom percentHeight left right size textColor top percentWidth".split(" "),[8,100,10,10,20,0,8,100]),t},e._skinParts=["textDisplay"],e}(egret.gui.Skin);t.TextAreaSkin=e,e.prototype.__class__="skins.simple.TextAreaSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["minHeight","minWidth"],[30,100]),this.elementsContent=[this.__5_i(),this.textDisplay_i()],this.promptDisplay_i(),this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[new egret.gui.SetProperty("textDisplay","textColor",11184810)]),new egret.gui.State("normalWithPrompt",[new egret.gui.AddItems("promptDisplay","","last","")]),new egret.gui.State("disabledWithPrompt",[new egret.gui.AddItems("promptDisplay","","last","")])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.promptDisplay_i=function(){var t=new egret.gui.Label;return this.promptDisplay=t,this.__s(t,"left maxDisplayedLines size textColor touchChildren touchEnabled verticalCenter".split(" "),[10,1,20,11119017,!1,!1,0]),t},i.__5_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["percentHeight","source","percentWidth"],[100,"textbox_png",100]),t},i.textDisplay_i=function(){var t=new egret.gui.EditableText;return this.textDisplay=t,this.__s(t,"bottom percentHeight left right size textColor top percentWidth".split(" "),[8,100,10,10,20,0,8,100]),t},e._skinParts=["textDisplay","promptDisplay"],e}(egret.gui.Skin);t.TextInputSkin=e,e.prototype.__class__="skins.simple.TextInputSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this.__s=egret.gui.setProperties,this.__s(this,["maxWidth","minHeight","minWidth"],[710,230,470]),this.elementsContent=[this.__3_i(),this.moveArea_i(),this.contentGroup_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"skinParts",{get:function(){return i._skinParts},enumerable:!0,configurable:!0}),n.__4_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["bottom","left","right","source","top"],[-4,-3,-3,"panel_headeback_png",-2]),t},n.closeButton_i=function(){var e=new egret.gui.Button;return this.closeButton=e,this.__s(e,["right","skinName","verticalCenter"],[10,t.simple.CloseButtonSkin,0]),e},n.contentGroup_i=function(){var t=new egret.gui.Group;return this.contentGroup=t,this.__s(t,["bottom","clipAndEnableScrolling","top","percentWidth"],[0,!0,51,100]),t},n.moveArea_i=function(){var t=new egret.gui.Group;return this.moveArea=t,this.__s(t,["height","left","right"],[50,0,0]),t.elementsContent=[this.__4_i(),this.titleDisplay_i(),this.closeButton_i()],t},n.__3_i=function(){var t=new egret.gui.UIAsset;return this.__s(t,["bottom","left","right","source","top"],[-10,-4,-10,"panel_back_png",-4]),t},n.titleDisplay_i=function(){var t=new egret.gui.Label;return this.titleDisplay=t,this.__s(t,"fontFamily left maxDisplayedLines minHeight right size textAlign textColor verticalAlign verticalCenter".split(" "),["Tahoma",5,1,28,5,26,"center",7499888,"middle",0]),t},i._skinParts=["titleDisplay","closeButton","moveArea","contentGroup"],i}(egret.gui.Skin);e.TitleWindowSkin=i,i.prototype.__class__="skins.simple.TitleWindowSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","minWidth"],[60,140]),this.elementsContent=[this.__7_i(),this.__9_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__7","source","togglebutton_over_png"),new egret.gui.SetProperty("labelDisplay","textColor",1995877)]),new egret.gui.State("disabled",[new egret.gui.SetProperty("__7","source","togglebutton_disabled_png"),new egret.gui.SetProperty("labelDisplay","textColor",13421772)]),new egret.gui.State("upAndSelected",[new egret.gui.SetProperty("__7","source","togglebutton_selected_png"),new egret.gui.SetProperty("labelDisplay","textColor",15658476)]),new egret.gui.State("downAndSelected",[new egret.gui.SetProperty("__7","source","togglebutton_over_png"),new egret.gui.SetProperty("labelDisplay","textColor",1995877)]),new egret.gui.State("disabledAndSelected",[new egret.gui.SetProperty("__7","source","togglebutton_disabled_png"),new egret.gui.SetProperty("labelDisplay","textColor",13421772)])]}__extends(e,t);var i=e.prototype;return Object.defineProperty(i,"skinParts",{get:function(){return e._skinParts},enumerable:!0,configurable:!0}),i.__8_i=function(){var t=new egret.gui.HorizontalLayout;return this.__s(t,["gap","horizontalAlign","verticalAlign"],[0,"center","middle"]),t},i.__9_i=function(){var t=new egret.gui.Group;return this.__s(t,["bottom","left","right","top"],[10,10,10,10]),t.layout=this.__8_i(),t.elementsContent=[this.iconDisplay_i(),this.labelDisplay_i()],t},i.iconDisplay_i=function(){var t=new egret.gui.UIAsset;return this.iconDisplay=t},i.labelDisplay_i=function(){var t=new egret.gui.Label;return this.labelDisplay=t,this.__s(t,["fontFamily","size","textAlign","textColor","verticalAlign"],["Tahoma",20,"center",1995877,"middle"]),t},i.__7_i=function(){var t=new egret.gui.UIAsset;return this.__7=t,this.__s(t,["percentHeight","source","percentWidth"],[100,"togglebutton_normal_png",100]),t},e._skinParts=["iconDisplay","labelDisplay"],e}(egret.gui.Skin);t.ToggleButtonSkin=e,e.prototype.__class__="skins.simple.ToggleButtonSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(t){var e=function(t){function e(){t.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__7_i(),this.__8_i(),this.__9_i(),this.__10_i(),this.__11_i(),this.__12_i()],this.states=[new egret.gui.State("up",[new egret.gui.SetProperty("__7","visible",!0),new egret.gui.SetProperty("__8","visible",!0),new egret.gui.SetProperty("__9","visible",!0)]),new egret.gui.State("down",[new egret.gui.SetProperty("__7","visible",!0),new egret.gui.SetProperty("__8","visible",!0),new egret.gui.SetProperty("__9","visible",!0)]),new egret.gui.State("disabled",[new egret.gui.SetProperty("__7","visible",!0),new egret.gui.SetProperty("__8","visible",!0),new egret.gui.SetProperty("__9","visible",!0)]),new egret.gui.State("upAndSelected",[new egret.gui.SetProperty("__10","visible",!0),new egret.gui.SetProperty("__11","visible",!0),new egret.gui.SetProperty("__12","visible",!0)]),new egret.gui.State("downAndSelected",[new egret.gui.SetProperty("__10","visible",!0),new egret.gui.SetProperty("__11","visible",!0),new egret.gui.SetProperty("__12","visible",!0)]),new egret.gui.State("disabledAndSelected",[new egret.gui.SetProperty("__10","visible",!0),new egret.gui.SetProperty("__11","visible",!0),new egret.gui.SetProperty("__12","visible",!0)])]}__extends(e,t);var i=e.prototype;return i.__10_i=function(){var t=new egret.gui.UIAsset;return this.__10=t,this.__s(t,["source","visible"],["onoffbutton_on_track_png",!1]),t},i.__11_i=function(){var t=new egret.gui.UIAsset;return this.__11=t,this.__s(t,["right","source","verticalCenter","visible"],[1,"onoffbutton_on_thumb_png",0,!1]),t},i.__12_i=function(){var t=new egret.gui.UIAsset;return this.__12=t,this.__s(t,["left","source","verticalCenter","visible"],[15,"onoffbutton_on_label_png",0,!1]),t},i.__7_i=function(){var t=new egret.gui.UIAsset;return this.__7=t,this.__s(t,["source","visible"],["onoffbutton_off_track_png",!1]),t},i.__8_i=function(){var t=new egret.gui.UIAsset;return this.__8=t,this.__s(t,["left","source","verticalCenter","visible"],[1,"onoffbutton_off_thumb_png",0,!1]),t},i.__9_i=function(){var t=new egret.gui.UIAsset;return this.__9=t,this.__s(t,["right","source","verticalCenter","visible"],[15,"onoffbutton_off_label_png",0,!1]),t},e}(egret.gui.Skin);t.ToggleSwitchSkin=e,e.prototype.__class__="skins.simple.ToggleSwitchSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__4_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"skinParts",{get:function(){return i._skinParts},enumerable:!0,configurable:!0}),n.__4_i=function(){var t=new egret.gui.Scroller;return this.__s(t,["percentHeight","percentWidth"],[100,100]),t.viewport=this.dataGroup_i(),t},n.dataGroup_i=function(){var e=new egret.gui.DataGroup;return this.dataGroup=e,e.itemRendererSkinName=t.simple.TreeItemRendererSkin,e.layout=this.__3_i(),e},n.__3_i=function(){var t=new egret.gui.VerticalLayout;return this.__s(t,["gap","horizontalAlign"],[2,"justify"]),t},i._skinParts=["dataGroup"],i}(egret.gui.Skin);e.TreeSkin=i,i.prototype.__class__="skins.simple.TreeSkin"}(t.simple||(t.simple={}))}(skins||(skins={})),function(t){!function(e){var i=function(e){function i(){e.call(this),this.__s=egret.gui.setProperties,this.__s(this,["minHeight","minWidth"],[13,13]),this.elementsContent=[this.track_i(),this.trackHighlight_i(),this.thumb_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(i,e);var n=i.prototype;return Object.defineProperty(n,"skinParts",{get:function(){return i._skinParts},enumerable:!0,configurable:!0}),n.thumb_i=function(){var e=new egret.gui.Button;return this.thumb=e,this.__s(e,["height","horizontalCenter","skinName","width"],[24,0,t.simple.VSliderThumbSkin,24]),e},n.trackHighlight_i=function(){var t=new egret.gui.UIAsset;return this.trackHighlight=t,this.__s(t,["horizontalCenter","source","width"],[0,"vslider_fill_png",10]),t},n.track_i=function(){var t=new egret.gui.UIAsset;return this.track=t,this.__s(t,["percentHeight","horizontalCenter","source","width"],[100,0,"vslider_track_png",10]),t},i._skinParts=["track","trackHighlight","thumb"],i}(egret.gui.Skin);e.VSliderSkin=i,i.prototype.__class__="skins.simple.VSliderSkin"}(t.simple||(t.simple={}))}(skins||(skins={}));var CorrectEff=function(t){function e(){t.call(this),this.getMcs()}__extends(e,t);var i=e.prototype;return i.playAction=function(t){switch(this.removeChildren(),this.mcHappy.stop(),this.mcSad.stop(),t){case Character.ACTION_HAPPY:this.addChild(this.mcHappy),this.mcHappy.gotoAndPlay(1,1);break;case Character.ACTION_SAD:this.addChild(this.mcSad),this.mcSad.gotoAndPlay(1,1)}},i.getMcs=function(){var t=RES.getRes("correctEff_json"),e=RES.getRes("correctEff_png"),t=new egret.MovieClipDataFactory(t,e);this.mcHappy=new egret.MovieClip(t.generateMovieClipData("CorrectEff")),this.mcSad=new egret.MovieClip(t.generateMovieClipData("InCorrectEff")),this.mcHappy.stop(),this.mcSad.stop(),this.mcHappy.addEventListener(egret.Event.COMPLETE,this.onHappyComplete,this),this.mcSad.addEventListener(egret.Event.COMPLETE,this.onSadComplete,this),SimpleFacade.getInstance().addEventListener(Character.EVT_PlayHappy,this.onPlayHappy,this),SimpleFacade.getInstance().addEventListener(Character.EVT_PlaySad,this.onPlaySad,this)},i.onPlayHappy=function(t){this.playAction(Character.ACTION_HAPPY)},i.onPlaySad=function(t){this.playAction(Character.ACTION_SAD)},i.onHappyComplete=function(t){this.removeChildren()},i.onSadComplete=function(t){this.removeChildren()},e}(egret.DisplayObjectContainer);CorrectEff.prototype.__class__="CorrectEff";