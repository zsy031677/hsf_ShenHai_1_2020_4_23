var EgretShare={ShareInfo:{appId:"",title:"",desc:"",imgUrl:"",link:""},setShareData:function(e,r,t,n){EgretShare.ShareInfo.title=e,EgretShare.ShareInfo.desc=r,EgretShare.ShareInfo.link=t,EgretShare.ShareInfo.imgUrl=n,EgretShare.weixinShareGetReady()},setShareTitle:function(e){EgretShare.ShareInfo.title=e,EgretShare.weixinShareGetReady()},setShareContent:function(e){EgretShare.ShareInfo.desc=e,EgretShare.weixinShareGetReady()},setShareLink:function(e){EgretShare.ShareInfo.link=e,EgretShare.weixinShareGetReady()},setShareIco:function(e){EgretShare.ShareInfo.imgUrl=e,EgretShare.weixinShareGetReady()},weixinShareGetReady:function(){window.hasOwnProperty("WeixinApi")&&WeixinApi.ready(function(e){e.shareToFriend(EgretShare.ShareInfo),e.shareToTimeline(EgretShare.ShareInfo)})},moreGame:function(){var e=window.navigator.userAgent;if(-1!=e.indexOf("EgretRuntime")&&-1!=e.indexOf("yoyo"));else if(EgretShare.isInHaima());else EgretShare.findLocationProperty("app_id")},share:function(){EgretShare.isInU9()?EgretShare.shareToU9():EgretShare.isInWeChat()?EgretShare.showShareImg():EgretShare.isInHaima()?EgretShare.shareToHaima():EgretShare.isInU9Web()?EgretShare.shareToU9Web():EgretShare.showShareImg()},showShareImg:function(){if(document.getElementById("shareImg"))document.getElementById("shareImg").style.display="";else{var e=document.createElement("div");e.id="shareImg",e.style.display="",e.style.zIndex=9999;var r="<img width='100%' height='100%' src='' style='position: fixed; z-index: 9999; top: 0; left: 0;'";r+="onClick=\"document.getElementById('shareImg').style.display='none'\" />",e.innerHTML=r,document.body.appendChild(e)}},showShareDiv:function(){if(document.getElementById("shareDiv"))document.getElementById("shareDiv").style.display="";else{var e=document.createElement("div");e.id="shareDiv",e.style.display="",e.style.zIndex=9999,document.body.appendChild(e)}},shareToU9:function(){var e=location.href;""==location.search?e+="?channel=weixin":e+="&channel=weixin",e=encodeURIComponent(e);var r=encodeURIComponent(EgretShare.ShareInfo.desc),t=EgretShare.getUid(),n="u9time://share?uid="+t+"&game_url="+e+"&a=123&msg="+r;t||(n="u9time://share?&game_url="+e+"&a=123&msg="+r),location.href=n},shareToHaima:function(){var e=location.href;e=encodeURIComponent(e);var r=encodeURIComponent(EgretShare.ShareInfo.desc),t="haima://sharecustom?imgurl="+EgretShare.ShareInfo.imgUrl+"&sharetitle="+EgretShare.ShareInfo.title+"&shareurl="+e+"&sharetext="+r;location.href=t},shareToU9Web:function(){EgretShare.showShareDiv();var e={title:EgretShare.ShareInfo.title,content:EgretShare.ShareInfo.desc,link:location.href,imgUrl:EgretShare.ShareInfo.imgUrl};GS.share("shareDiv",e)},isInHaima:function(){return 1009==EgretShare.findLocationProperty("app_id")},isInWeChat:function(){if(window.hasOwnProperty("egret_native"))return!1;return-1!=window.navigator.userAgent.indexOf("MicroMessenger")},isInU9:function(){if(window.hasOwnProperty("egret_native"))return!0;var e=window.navigator.userAgent;return-1!=e.indexOf("EgretRuntime")&&-1!=e.indexOf("yoyo")},isInU9Web:function(){return 1010==EgretShare.findLocationProperty("app_id")},findLocationProperty:function(e){if(window.hasOwnProperty("location")){var r=location.search;if(""==r)return null;for(var t=(r=r.slice(1)).split("&"),n=t.length,a=0;a<n;a++){var i=t[a].split("=");if(i[0]==e)return i[1]}}return null},getUid:function(){return EgretShare.findLocationProperty("uid")},loaded:function(){var e=document.createEvent("HTMLEvents");e.initEvent("EgretShareLoaded",!0,!0),document.dispatchEvent(e)}};EgretShare.loaded();